{"ast":null,"code":"import _objectSpread from\"/Users/hichamghazi/Desktop/esc-cappelle/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';const useMatchManagement=()=>{const[selectedMatch,setSelectedMatch]=useState(null);const[showScoreModal,setShowScoreModal]=useState(false);const[matchToPlay,setMatchToPlay]=useState(null);const[scoreEquipeInput,setScoreEquipeInput]=useState('');const[scoreAdversaireInput,setScoreAdversaireInput]=useState('');const marquerCommeJoue=(matchId,matchs)=>{const match=matchs.find(m=>m.id===matchId);setMatchToPlay(match);setScoreEquipeInput('');setScoreAdversaireInput('');setShowScoreModal(true);};const confirmerScoreEtJouer=(matchs,setMatchs,showNotification)=>{if(scoreEquipeInput===''||scoreAdversaireInput===''){showNotification('Veuillez saisir les deux scores','error');return;}const newMatchs=matchs.map(m=>m.id===matchToPlay.id?_objectSpread(_objectSpread({},m),{},{statut:'joue',scoreEquipe:parseInt(scoreEquipeInput),scoreAdversaire:parseInt(scoreAdversaireInput)}):m);setMatchs(newMatchs);setShowScoreModal(false);setMatchToPlay(null);};const repasserEnAttente=(matchId,matchs,setMatchs,notes)=>{const hasNotes=notes.some(n=>n.id_match===matchId);if(hasNotes){const confirmer=window.confirm('ATTENTION : Ce match a déjà des notes enregistrées. Si vous le repassez en attente, les notes ne seront pas supprimées mais le match redeviendra modifiable. Continuer ?');if(!confirmer)return;}const newMatchs=matchs.map(m=>m.id===matchId?_objectSpread(_objectSpread({},m),{},{statut:'avenir',scoreEquipe:0,scoreAdversaire:0}):m);setMatchs(newMatchs);};return{selectedMatch,setSelectedMatch,showScoreModal,setShowScoreModal,matchToPlay,scoreEquipeInput,setScoreEquipeInput,scoreAdversaireInput,setScoreAdversaireInput,marquerCommeJoue,confirmerScoreEtJouer,repasserEnAttente};};export default useMatchManagement;","map":{"version":3,"names":["useState","useMatchManagement","selectedMatch","setSelectedMatch","showScoreModal","setShowScoreModal","matchToPlay","setMatchToPlay","scoreEquipeInput","setScoreEquipeInput","scoreAdversaireInput","setScoreAdversaireInput","marquerCommeJoue","matchId","matchs","match","find","m","id","confirmerScoreEtJouer","setMatchs","showNotification","newMatchs","map","_objectSpread","statut","scoreEquipe","parseInt","scoreAdversaire","repasserEnAttente","notes","hasNotes","some","n","id_match","confirmer","window","confirm"],"sources":["/Users/hichamghazi/Desktop/esc-cappelle/src/hooks/useMatchManagement.js"],"sourcesContent":["import { useState } from 'react';\n\nconst useMatchManagement = () => {\n  const [selectedMatch, setSelectedMatch] = useState(null);\n  const [showScoreModal, setShowScoreModal] = useState(false);\n  const [matchToPlay, setMatchToPlay] = useState(null);\n  const [scoreEquipeInput, setScoreEquipeInput] = useState('');\n  const [scoreAdversaireInput, setScoreAdversaireInput] = useState('');\n\n  const marquerCommeJoue = (matchId, matchs) => {\n    const match = matchs.find(m => m.id === matchId);\n    setMatchToPlay(match);\n    setScoreEquipeInput('');\n    setScoreAdversaireInput('');\n    setShowScoreModal(true);\n  };\n\n  const confirmerScoreEtJouer = (matchs, setMatchs, showNotification) => {\n    if (scoreEquipeInput === '' || scoreAdversaireInput === '') {\n      showNotification('Veuillez saisir les deux scores', 'error');\n      return;\n    }\n\n    const newMatchs = matchs.map(m =>\n      m.id === matchToPlay.id\n        ? { ...m, statut: 'joue', scoreEquipe: parseInt(scoreEquipeInput), scoreAdversaire: parseInt(scoreAdversaireInput) }\n        : m\n    );\n    setMatchs(newMatchs);\n    setShowScoreModal(false);\n    setMatchToPlay(null);\n  };\n\n  const repasserEnAttente = (matchId, matchs, setMatchs, notes) => {\n    const hasNotes = notes.some(n => n.id_match === matchId);\n\n    if (hasNotes) {\n      const confirmer = window.confirm('ATTENTION : Ce match a déjà des notes enregistrées. Si vous le repassez en attente, les notes ne seront pas supprimées mais le match redeviendra modifiable. Continuer ?');\n      if (!confirmer) return;\n    }\n\n    const newMatchs = matchs.map(m =>\n      m.id === matchId\n        ? { ...m, statut: 'avenir', scoreEquipe: 0, scoreAdversaire: 0 }\n        : m\n    );\n    setMatchs(newMatchs);\n  };\n\n  return {\n    selectedMatch,\n    setSelectedMatch,\n    showScoreModal,\n    setShowScoreModal,\n    matchToPlay,\n    scoreEquipeInput,\n    setScoreEquipeInput,\n    scoreAdversaireInput,\n    setScoreAdversaireInput,\n    marquerCommeJoue,\n    confirmerScoreEtJouer,\n    repasserEnAttente\n  };\n};\n\nexport default useMatchManagement;"],"mappings":"4HAAA,OAASA,QAAQ,KAAQ,OAAO,CAEhC,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGH,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACI,cAAc,CAAEC,iBAAiB,CAAC,CAAGL,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACM,WAAW,CAAEC,cAAc,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACQ,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACU,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEpE,KAAM,CAAAY,gBAAgB,CAAGA,CAACC,OAAO,CAAEC,MAAM,GAAK,CAC5C,KAAM,CAAAC,KAAK,CAAGD,MAAM,CAACE,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,EAAE,GAAKL,OAAO,CAAC,CAChDN,cAAc,CAACQ,KAAK,CAAC,CACrBN,mBAAmB,CAAC,EAAE,CAAC,CACvBE,uBAAuB,CAAC,EAAE,CAAC,CAC3BN,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAED,KAAM,CAAAc,qBAAqB,CAAGA,CAACL,MAAM,CAAEM,SAAS,CAAEC,gBAAgB,GAAK,CACrE,GAAIb,gBAAgB,GAAK,EAAE,EAAIE,oBAAoB,GAAK,EAAE,CAAE,CAC1DW,gBAAgB,CAAC,iCAAiC,CAAE,OAAO,CAAC,CAC5D,OACF,CAEA,KAAM,CAAAC,SAAS,CAAGR,MAAM,CAACS,GAAG,CAACN,CAAC,EAC5BA,CAAC,CAACC,EAAE,GAAKZ,WAAW,CAACY,EAAE,CAAAM,aAAA,CAAAA,aAAA,IACdP,CAAC,MAAEQ,MAAM,CAAE,MAAM,CAAEC,WAAW,CAAEC,QAAQ,CAACnB,gBAAgB,CAAC,CAAEoB,eAAe,CAAED,QAAQ,CAACjB,oBAAoB,CAAC,GAChHO,CACN,CAAC,CACDG,SAAS,CAACE,SAAS,CAAC,CACpBjB,iBAAiB,CAAC,KAAK,CAAC,CACxBE,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAAsB,iBAAiB,CAAGA,CAAChB,OAAO,CAAEC,MAAM,CAAEM,SAAS,CAAEU,KAAK,GAAK,CAC/D,KAAM,CAAAC,QAAQ,CAAGD,KAAK,CAACE,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,QAAQ,GAAKrB,OAAO,CAAC,CAExD,GAAIkB,QAAQ,CAAE,CACZ,KAAM,CAAAI,SAAS,CAAGC,MAAM,CAACC,OAAO,CAAC,0KAA0K,CAAC,CAC5M,GAAI,CAACF,SAAS,CAAE,OAClB,CAEA,KAAM,CAAAb,SAAS,CAAGR,MAAM,CAACS,GAAG,CAACN,CAAC,EAC5BA,CAAC,CAACC,EAAE,GAAKL,OAAO,CAAAW,aAAA,CAAAA,aAAA,IACPP,CAAC,MAAEQ,MAAM,CAAE,QAAQ,CAAEC,WAAW,CAAE,CAAC,CAAEE,eAAe,CAAE,CAAC,GAC5DX,CACN,CAAC,CACDG,SAAS,CAACE,SAAS,CAAC,CACtB,CAAC,CAED,MAAO,CACLpB,aAAa,CACbC,gBAAgB,CAChBC,cAAc,CACdC,iBAAiB,CACjBC,WAAW,CACXE,gBAAgB,CAChBC,mBAAmB,CACnBC,oBAAoB,CACpBC,uBAAuB,CACvBC,gBAAgB,CAChBO,qBAAqB,CACrBU,iBACF,CAAC,CACH,CAAC,CAED,cAAe,CAAA5B,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}