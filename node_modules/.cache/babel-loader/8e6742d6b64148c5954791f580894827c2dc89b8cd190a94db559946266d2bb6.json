{"ast":null,"code":"import React,{useState}from'react';import JoueurHeader from'./JoueurHeader';import JoueurTabs from'./JoueurTabs';import ProchainMatchCard from'./ProchainMatchCard';import JoueurStats from'./JoueurStats';import HistoriqueMatchs from'./HistoriqueMatchs';import EvaluationCoach from'./EvaluationCoach';import SimpleLineChart from'../Shared/SimpleLineChart';import{getProchainMatch}from'../../utils/matchHelpers';import{getMoyenneJoueur,getGraphData}from'../../utils/playerActions';import{getTotalButs,getTotalTemps,getTotalPasses}from'../../utils/statsCalculator';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const JoueurView=_ref=>{let{user,matchs,convocations,notes,buteurs,tempsDeJeu,passesD,evaluationsCoach,evalIsma,setEvalIsma,evalAdam,setEvalAdam,accepterConvocation,refuserConvocation,saveEvaluationIsma,saveEvaluationAdam,onLogout}=_ref;const[view,setView]=useState('stats');const prochainMatch=getProchainMatch(matchs);const convocationProchainMatch=prochainMatch&&convocations.find(c=>c.id_match===prochainMatch.id&&c.id_joueur===user.id&&c.convoque);const mesConvocations=convocations.filter(c=>c.id_joueur===user.id&&c.convoque);const mesNotes=notes.filter(n=>n.id_joueur===user.id&&n.note);const mesButs=getTotalButs(buteurs,user.id);const monTemps=getTotalTemps(tempsDeJeu,user.id);const mesPasses=getTotalPasses(passesD,user.id);const moyenne=getMoyenneJoueur(notes,user.id);const graphData=getGraphData(notes,matchs,user.id);return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:'#f9fafb'},children:[/*#__PURE__*/_jsx(JoueurHeader,{user:user,notes:notes,onLogout:onLogout}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'64rem',margin:'1.5rem auto',padding:'0 1rem',paddingBottom:'2rem'},children:[/*#__PURE__*/_jsx(JoueurTabs,{view:view,setView:setView}),view==='evaluer'&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'1.5rem',borderRadius:'0.75rem',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.25rem',fontWeight:'bold',marginBottom:'1rem',color:'#1f2937'},children:\"Evaluer les coachs\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',marginBottom:'1.5rem'},children:\"Donnez votre avis sur le travail de vos coachs (notes de 1 \\xE0 10)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'1.5rem'},children:[/*#__PURE__*/_jsx(EvaluationCoach,{coachNom:\"Isma\",coachId:\"1\",evaluation:evalIsma,setEvaluation:setEvalIsma,onSave:saveEvaluationIsma,bgColor:\"#ff8800\",borderColor:\"#ff8800\"}),/*#__PURE__*/_jsx(EvaluationCoach,{coachNom:\"Adam\",coachId:\"27\",evaluation:evalAdam,setEvaluation:setEvalAdam,onSave:saveEvaluationAdam,bgColor:\"#3b82f6\",borderColor:\"#3b82f6\"})]})]}),(view==='stats'||!view)&&/*#__PURE__*/_jsxs(_Fragment,{children:[prochainMatch&&/*#__PURE__*/_jsx(ProchainMatchCard,{match:prochainMatch,convocation:convocationProchainMatch,onAccepter:()=>accepterConvocation(prochainMatch.id,user.id),onRefuser:()=>refuserConvocation(prochainMatch.id,user.id)}),/*#__PURE__*/_jsx(JoueurStats,{matchsJoues:mesNotes.length,moyenne:moyenne,convocations:mesConvocations.length,buts:mesButs,temps:monTemps,passes:mesPasses}),graphData.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'1.5rem',borderRadius:'0.75rem',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.25rem',fontWeight:'bold',marginBottom:'1rem',color:'#1f2937'},children:\"\\uD83D\\uDCC8 Ma progression\"}),/*#__PURE__*/_jsx(SimpleLineChart,{data:graphData})]}),/*#__PURE__*/_jsx(HistoriqueMatchs,{notes:mesNotes,matchs:matchs,buteurs:buteurs,tempsDeJeu:tempsDeJeu,passesD:passesD,userId:user.id})]})]})]});};export default JoueurView;","map":{"version":3,"names":["React","useState","JoueurHeader","JoueurTabs","ProchainMatchCard","JoueurStats","HistoriqueMatchs","EvaluationCoach","SimpleLineChart","getProchainMatch","getMoyenneJoueur","getGraphData","getTotalButs","getTotalTemps","getTotalPasses","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","JoueurView","_ref","user","matchs","convocations","notes","buteurs","tempsDeJeu","passesD","evaluationsCoach","evalIsma","setEvalIsma","evalAdam","setEvalAdam","accepterConvocation","refuserConvocation","saveEvaluationIsma","saveEvaluationAdam","onLogout","view","setView","prochainMatch","convocationProchainMatch","find","c","id_match","id","id_joueur","convoque","mesConvocations","filter","mesNotes","n","note","mesButs","monTemps","mesPasses","moyenne","graphData","style","minHeight","background","children","maxWidth","margin","padding","paddingBottom","borderRadius","boxShadow","marginBottom","fontSize","fontWeight","color","display","gap","coachNom","coachId","evaluation","setEvaluation","onSave","bgColor","borderColor","match","convocation","onAccepter","onRefuser","matchsJoues","length","buts","temps","passes","data","userId"],"sources":["/Users/hichamghazi/Desktop/esc-cappelle/src/components/Joueur/JoueurView.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport JoueurHeader from './JoueurHeader';\nimport JoueurTabs from './JoueurTabs';\nimport ProchainMatchCard from './ProchainMatchCard';\nimport JoueurStats from './JoueurStats';\nimport HistoriqueMatchs from './HistoriqueMatchs';\nimport EvaluationCoach from './EvaluationCoach';\nimport SimpleLineChart from '../Shared/SimpleLineChart';\nimport { getProchainMatch } from '../../utils/matchHelpers';\nimport { getMoyenneJoueur, getGraphData } from '../../utils/playerActions';\nimport { getTotalButs, getTotalTemps, getTotalPasses } from '../../utils/statsCalculator';\n\nconst JoueurView = ({\n  user,\n  matchs,\n  convocations,\n  notes,\n  buteurs,\n  tempsDeJeu,\n  passesD,\n  evaluationsCoach,\n  evalIsma,\n  setEvalIsma,\n  evalAdam,\n  setEvalAdam,\n  accepterConvocation,\n  refuserConvocation,\n  saveEvaluationIsma,\n  saveEvaluationAdam,\n  onLogout\n}) => {\n  const [view, setView] = useState('stats');\n\n  const prochainMatch = getProchainMatch(matchs);\n  const convocationProchainMatch = prochainMatch && convocations.find(c => c.id_match === prochainMatch.id && c.id_joueur === user.id && c.convoque);\n\n  const mesConvocations = convocations.filter(c => c.id_joueur === user.id && c.convoque);\n  const mesNotes = notes.filter(n => n.id_joueur === user.id && n.note);\n  const mesButs = getTotalButs(buteurs, user.id);\n  const monTemps = getTotalTemps(tempsDeJeu, user.id);\n  const mesPasses = getTotalPasses(passesD, user.id);\n  const moyenne = getMoyenneJoueur(notes, user.id);\n  const graphData = getGraphData(notes, matchs, user.id);\n\n  return (\n    <div style={{minHeight: '100vh', background: '#f9fafb'}}>\n      <JoueurHeader user={user} notes={notes} onLogout={onLogout} />\n\n      <div style={{maxWidth: '64rem', margin: '1.5rem auto', padding: '0 1rem', paddingBottom: '2rem'}}>\n        <JoueurTabs view={view} setView={setView} />\n\n        {view === 'evaluer' && (\n          <div style={{background: 'white', padding: '1.5rem', borderRadius: '0.75rem', boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)', marginBottom: '1.5rem'}}>\n            <h2 style={{fontSize: '1.25rem', fontWeight: 'bold', marginBottom: '1rem', color: '#1f2937'}}>Evaluer les coachs</h2>\n            <p style={{color: '#6b7280', marginBottom: '1.5rem'}}>Donnez votre avis sur le travail de vos coachs (notes de 1 Ã  10)</p>\n\n            <div style={{display: 'grid', gap: '1.5rem'}}>\n              <EvaluationCoach\n                coachNom=\"Isma\"\n                coachId=\"1\"\n                evaluation={evalIsma}\n                setEvaluation={setEvalIsma}\n                onSave={saveEvaluationIsma}\n                bgColor=\"#ff8800\"\n                borderColor=\"#ff8800\"\n              />\n\n              <EvaluationCoach\n                coachNom=\"Adam\"\n                coachId=\"27\"\n                evaluation={evalAdam}\n                setEvaluation={setEvalAdam}\n                onSave={saveEvaluationAdam}\n                bgColor=\"#3b82f6\"\n                borderColor=\"#3b82f6\"\n              />\n            </div>\n          </div>\n        )}\n\n        {(view === 'stats' || !view) && (\n          <>\n            {prochainMatch && (\n              <ProchainMatchCard\n                match={prochainMatch}\n                convocation={convocationProchainMatch}\n                onAccepter={() => accepterConvocation(prochainMatch.id, user.id)}\n                onRefuser={() => refuserConvocation(prochainMatch.id, user.id)}\n              />\n            )}\n\n            <JoueurStats\n              matchsJoues={mesNotes.length}\n              moyenne={moyenne}\n              convocations={mesConvocations.length}\n              buts={mesButs}\n              temps={monTemps}\n              passes={mesPasses}\n            />\n\n            {graphData.length > 0 && (\n              <div style={{background: 'white', padding: '1.5rem', borderRadius: '0.75rem', boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)', marginBottom: '1.5rem'}}>\n                <h2 style={{fontSize: '1.25rem', fontWeight: 'bold', marginBottom: '1rem', color: '#1f2937'}}>\n                  ðŸ“ˆ Ma progression\n                </h2>\n                <SimpleLineChart data={graphData} />\n              </div>\n            )}\n\n            <HistoriqueMatchs\n              notes={mesNotes}\n              matchs={matchs}\n              buteurs={buteurs}\n              tempsDeJeu={tempsDeJeu}\n              passesD={passesD}\n              userId={user.id}\n            />\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default JoueurView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}