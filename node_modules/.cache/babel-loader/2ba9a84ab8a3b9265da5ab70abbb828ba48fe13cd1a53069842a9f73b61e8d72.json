{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nconst useMatchManagement = () => {\n  _s();\n  const [selectedMatch, setSelectedMatch] = useState(null);\n  const [showScoreModal, setShowScoreModal] = useState(false);\n  const [matchToPlay, setMatchToPlay] = useState(null);\n  const [scoreEquipeInput, setScoreEquipeInput] = useState('');\n  const [scoreAdversaireInput, setScoreAdversaireInput] = useState('');\n  const [showConfirmResetModal, setShowConfirmResetModal] = useState(false);\n  const [matchToReset, setMatchToReset] = useState(null);\n  const marquerCommeJoue = (matchId, matchs) => {\n    const match = matchs.find(m => m.id === matchId);\n    setMatchToPlay(match);\n    setScoreEquipeInput('');\n    setScoreAdversaireInput('');\n    setShowScoreModal(true);\n  };\n  const confirmerScoreEtJouer = (matchs, setMatchs, showNotification) => {\n    if (scoreEquipeInput === '' || scoreAdversaireInput === '') {\n      showNotification('Veuillez saisir les deux scores', 'error');\n      return;\n    }\n    const newMatchs = matchs.map(m => m.id === matchToPlay.id ? {\n      ...m,\n      statut: 'joue',\n      scoreEquipe: parseInt(scoreEquipeInput),\n      scoreAdversaire: parseInt(scoreAdversaireInput)\n    } : m);\n    setMatchs(newMatchs);\n    setShowScoreModal(false);\n    setMatchToPlay(null);\n  };\n  const demanderRepasserEnAttente = matchId => {\n    setMatchToReset(matchId);\n    setShowConfirmResetModal(true);\n  };\n  const confirmerRepasserEnAttente = (matchs, setMatchs, notes, setNotes, buteurs, setButeurs, tempsDeJeu, setTempsDeJeu, passesD, setPassesD) => {\n    if (!matchToReset) return;\n\n    // 1. Repasser le match en \"avenir\" et réinitialiser les scores\n    const newMatchs = matchs.map(m => m.id === matchToReset ? {\n      ...m,\n      statut: 'avenir',\n      scoreEquipe: 0,\n      scoreAdversaire: 0\n    } : m);\n    setMatchs(newMatchs);\n\n    // 2. SUPPRIMER toutes les notes du match\n    const newNotes = notes.filter(n => n.id_match !== matchToReset);\n    setNotes(newNotes);\n\n    // 3. SUPPRIMER tous les buts du match\n    const newButeurs = buteurs.filter(b => b.id_match !== matchToReset);\n    setButeurs(newButeurs);\n\n    // 4. SUPPRIMER tous les temps de jeu du match\n    const newTempsDeJeu = tempsDeJeu.filter(t => t.id_match !== matchToReset);\n    setTempsDeJeu(newTempsDeJeu);\n\n    // 5. SUPPRIMER toutes les passes D du match\n    const newPassesD = passesD.filter(p => p.id_match !== matchToReset);\n    setPassesD(newPassesD);\n\n    // Fermer la modale\n    setShowConfirmResetModal(false);\n    setMatchToReset(null);\n  };\n  const annulerRepasserEnAttente = () => {\n    setShowConfirmResetModal(false);\n    setMatchToReset(null);\n  };\n  return {\n    selectedMatch,\n    setSelectedMatch,\n    showScoreModal,\n    setShowScoreModal,\n    matchToPlay,\n    scoreEquipeInput,\n    setScoreEquipeInput,\n    scoreAdversaireInput,\n    setScoreAdversaireInput,\n    showConfirmResetModal,\n    matchToReset,\n    marquerCommeJoue,\n    confirmerScoreEtJouer,\n    demanderRepasserEnAttente,\n    confirmerRepasserEnAttente,\n    annulerRepasserEnAttente\n  };\n};\n_s(useMatchManagement, \"ZsZzS41MFeifomTsaReh+D5OeOk=\");\nexport default useMatchManagement;","map":{"version":3,"names":["useState","useMatchManagement","_s","selectedMatch","setSelectedMatch","showScoreModal","setShowScoreModal","matchToPlay","setMatchToPlay","scoreEquipeInput","setScoreEquipeInput","scoreAdversaireInput","setScoreAdversaireInput","showConfirmResetModal","setShowConfirmResetModal","matchToReset","setMatchToReset","marquerCommeJoue","matchId","matchs","match","find","m","id","confirmerScoreEtJouer","setMatchs","showNotification","newMatchs","map","statut","scoreEquipe","parseInt","scoreAdversaire","demanderRepasserEnAttente","confirmerRepasserEnAttente","notes","setNotes","buteurs","setButeurs","tempsDeJeu","setTempsDeJeu","passesD","setPassesD","newNotes","filter","n","id_match","newButeurs","b","newTempsDeJeu","t","newPassesD","p","annulerRepasserEnAttente"],"sources":["/Users/hichamghazi/Desktop/esc-cappelle/src/hooks/useMatchManagement.js"],"sourcesContent":["import { useState } from 'react';\n\nconst useMatchManagement = () => {\n  const [selectedMatch, setSelectedMatch] = useState(null);\n  const [showScoreModal, setShowScoreModal] = useState(false);\n  const [matchToPlay, setMatchToPlay] = useState(null);\n  const [scoreEquipeInput, setScoreEquipeInput] = useState('');\n  const [scoreAdversaireInput, setScoreAdversaireInput] = useState('');\n  const [showConfirmResetModal, setShowConfirmResetModal] = useState(false);\n  const [matchToReset, setMatchToReset] = useState(null);\n\n  const marquerCommeJoue = (matchId, matchs) => {\n    const match = matchs.find(m => m.id === matchId);\n    setMatchToPlay(match);\n    setScoreEquipeInput('');\n    setScoreAdversaireInput('');\n    setShowScoreModal(true);\n  };\n\n  const confirmerScoreEtJouer = (matchs, setMatchs, showNotification) => {\n    if (scoreEquipeInput === '' || scoreAdversaireInput === '') {\n      showNotification('Veuillez saisir les deux scores', 'error');\n      return;\n    }\n\n    const newMatchs = matchs.map(m =>\n      m.id === matchToPlay.id\n        ? { ...m, statut: 'joue', scoreEquipe: parseInt(scoreEquipeInput), scoreAdversaire: parseInt(scoreAdversaireInput) }\n        : m\n    );\n    setMatchs(newMatchs);\n    setShowScoreModal(false);\n    setMatchToPlay(null);\n  };\n\n  const demanderRepasserEnAttente = (matchId) => {\n    setMatchToReset(matchId);\n    setShowConfirmResetModal(true);\n  };\n\n  const confirmerRepasserEnAttente = (matchs, setMatchs, notes, setNotes, buteurs, setButeurs, tempsDeJeu, setTempsDeJeu, passesD, setPassesD) => {\n    if (!matchToReset) return;\n\n    // 1. Repasser le match en \"avenir\" et réinitialiser les scores\n    const newMatchs = matchs.map(m =>\n      m.id === matchToReset\n        ? { ...m, statut: 'avenir', scoreEquipe: 0, scoreAdversaire: 0 }\n        : m\n    );\n    setMatchs(newMatchs);\n\n    // 2. SUPPRIMER toutes les notes du match\n    const newNotes = notes.filter(n => n.id_match !== matchToReset);\n    setNotes(newNotes);\n\n    // 3. SUPPRIMER tous les buts du match\n    const newButeurs = buteurs.filter(b => b.id_match !== matchToReset);\n    setButeurs(newButeurs);\n\n    // 4. SUPPRIMER tous les temps de jeu du match\n    const newTempsDeJeu = tempsDeJeu.filter(t => t.id_match !== matchToReset);\n    setTempsDeJeu(newTempsDeJeu);\n\n    // 5. SUPPRIMER toutes les passes D du match\n    const newPassesD = passesD.filter(p => p.id_match !== matchToReset);\n    setPassesD(newPassesD);\n\n    // Fermer la modale\n    setShowConfirmResetModal(false);\n    setMatchToReset(null);\n  };\n\n  const annulerRepasserEnAttente = () => {\n    setShowConfirmResetModal(false);\n    setMatchToReset(null);\n  };\n\n  return {\n    selectedMatch,\n    setSelectedMatch,\n    showScoreModal,\n    setShowScoreModal,\n    matchToPlay,\n    scoreEquipeInput,\n    setScoreEquipeInput,\n    scoreAdversaireInput,\n    setScoreAdversaireInput,\n    showConfirmResetModal,\n    matchToReset,\n    marquerCommeJoue,\n    confirmerScoreEtJouer,\n    demanderRepasserEnAttente,\n    confirmerRepasserEnAttente,\n    annulerRepasserEnAttente\n  };\n};\n\nexport default useMatchManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}