{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { doc, setDoc, getDoc } from 'firebase/firestore';\nimport { db } from '../config/firebase';\nconst useEvaluations = () => {\n  _s();\n  const [evalIsma, setEvalIsma] = useState({\n    technicite: '',\n    vision: '',\n    collectif: '',\n    mental: ''\n  });\n  const [evalAdam, setEvalAdam] = useState({\n    technicite: '',\n    vision: '',\n    collectif: '',\n    mental: ''\n  });\n  const loadEvaluations = async (user, evaluationsCoach) => {\n    if (!user || user.role !== 'joueur') return;\n\n    // Chercher dans evaluationsCoach (venant de Google Sheets pour l'instant)\n    const evalData = evaluationsCoach.find(e => e.id_joueur === user.id);\n    if (evalData) {\n      if (evalData.evaluateur === 'isma') {\n        setEvalIsma({\n          technicite: evalData.technicite || '',\n          vision: evalData.vision || '',\n          collectif: evalData.collectif || '',\n          mental: evalData.mental || ''\n        });\n      } else if (evalData.evaluateur === 'adam') {\n        setEvalAdam({\n          technicite: evalData.technicite || '',\n          vision: evalData.vision || '',\n          collectif: evalData.collectif || '',\n          mental: evalData.mental || ''\n        });\n      }\n    }\n  };\n  const saveEvaluationIsma = async (user, evaluationsCoach, setEvaluationsCoach, showNotification) => {\n    if (!user) return;\n    try {\n      const evalId = `${user.id}_isma`;\n\n      // Écrire dans Firestore\n      await setDoc(doc(db, 'evaluations', evalId), {\n        id: evalId,\n        userId: String(user.id),\n        evaluateur: 'isma',\n        technicite: parseFloat(evalIsma.technicite) || 0,\n        vision: parseFloat(evalIsma.vision) || 0,\n        collectif: parseFloat(evalIsma.collectif) || 0,\n        mental: parseFloat(evalIsma.mental) || 0,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n\n      // Mettre à jour local\n      const newEvals = evaluationsCoach.filter(e => !(e.id_joueur === user.id && e.evaluateur === 'isma'));\n      newEvals.push({\n        id_joueur: user.id,\n        evaluateur: 'isma',\n        technicite: parseFloat(evalIsma.technicite) || 0,\n        vision: parseFloat(evalIsma.vision) || 0,\n        collectif: parseFloat(evalIsma.collectif) || 0,\n        mental: parseFloat(evalIsma.mental) || 0\n      });\n      setEvaluationsCoach(newEvals);\n      showNotification('✅ Évaluation Ismaël enregistrée', 'success');\n    } catch (error) {\n      console.error('Erreur saveEvaluationIsma:', error);\n      showNotification('❌ Erreur lors de l\\'enregistrement', 'error');\n    }\n  };\n  const saveEvaluationAdam = async (user, evaluationsCoach, setEvaluationsCoach, showNotification) => {\n    if (!user) return;\n    try {\n      const evalId = `${user.id}_adam`;\n\n      // Écrire dans Firestore\n      await setDoc(doc(db, 'evaluations', evalId), {\n        id: evalId,\n        userId: String(user.id),\n        evaluateur: 'adam',\n        technicite: parseFloat(evalAdam.technicite) || 0,\n        vision: parseFloat(evalAdam.vision) || 0,\n        collectif: parseFloat(evalAdam.collectif) || 0,\n        mental: parseFloat(evalAdam.mental) || 0,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n\n      // Mettre à jour local\n      const newEvals = evaluationsCoach.filter(e => !(e.id_joueur === user.id && e.evaluateur === 'adam'));\n      newEvals.push({\n        id_joueur: user.id,\n        evaluateur: 'adam',\n        technicite: parseFloat(evalAdam.technicite) || 0,\n        vision: parseFloat(evalAdam.vision) || 0,\n        collectif: parseFloat(evalAdam.collectif) || 0,\n        mental: parseFloat(evalAdam.mental) || 0\n      });\n      setEvaluationsCoach(newEvals);\n      showNotification('✅ Évaluation Adam enregistrée', 'success');\n    } catch (error) {\n      console.error('Erreur saveEvaluationAdam:', error);\n      showNotification('❌ Erreur lors de l\\'enregistrement', 'error');\n    }\n  };\n  return {\n    evalIsma,\n    setEvalIsma,\n    evalAdam,\n    setEvalAdam,\n    loadEvaluations,\n    saveEvaluationIsma,\n    saveEvaluationAdam\n  };\n};\n_s(useEvaluations, \"Bt7voqQwiy1cDisZd2CN4rW4Ptg=\");\nexport default useEvaluations;","map":{"version":3,"names":["useState","doc","setDoc","getDoc","db","useEvaluations","_s","evalIsma","setEvalIsma","technicite","vision","collectif","mental","evalAdam","setEvalAdam","loadEvaluations","user","evaluationsCoach","role","evalData","find","e","id_joueur","id","evaluateur","saveEvaluationIsma","setEvaluationsCoach","showNotification","evalId","userId","String","parseFloat","createdAt","Date","updatedAt","newEvals","filter","push","error","console","saveEvaluationAdam"],"sources":["/Users/hichamghazi/Desktop/esc-cappelle/src/hooks/useEvaluations.js"],"sourcesContent":["import { useState } from 'react';\nimport { doc, setDoc, getDoc } from 'firebase/firestore';\nimport { db } from '../config/firebase';\n\nconst useEvaluations = () => {\n  const [evalIsma, setEvalIsma] = useState({\n    technicite: '',\n    vision: '',\n    collectif: '',\n    mental: ''\n  });\n\n  const [evalAdam, setEvalAdam] = useState({\n    technicite: '',\n    vision: '',\n    collectif: '',\n    mental: ''\n  });\n\n  const loadEvaluations = async (user, evaluationsCoach) => {\n    if (!user || user.role !== 'joueur') return;\n\n    // Chercher dans evaluationsCoach (venant de Google Sheets pour l'instant)\n    const evalData = evaluationsCoach.find(e => e.id_joueur === user.id);\n    \n    if (evalData) {\n      if (evalData.evaluateur === 'isma') {\n        setEvalIsma({\n          technicite: evalData.technicite || '',\n          vision: evalData.vision || '',\n          collectif: evalData.collectif || '',\n          mental: evalData.mental || ''\n        });\n      } else if (evalData.evaluateur === 'adam') {\n        setEvalAdam({\n          technicite: evalData.technicite || '',\n          vision: evalData.vision || '',\n          collectif: evalData.collectif || '',\n          mental: evalData.mental || ''\n        });\n      }\n    }\n  };\n\n  const saveEvaluationIsma = async (user, evaluationsCoach, setEvaluationsCoach, showNotification) => {\n    if (!user) return;\n\n    try {\n      const evalId = `${user.id}_isma`;\n      \n      // Écrire dans Firestore\n      await setDoc(doc(db, 'evaluations', evalId), {\n        id: evalId,\n        userId: String(user.id),\n        evaluateur: 'isma',\n        technicite: parseFloat(evalIsma.technicite) || 0,\n        vision: parseFloat(evalIsma.vision) || 0,\n        collectif: parseFloat(evalIsma.collectif) || 0,\n        mental: parseFloat(evalIsma.mental) || 0,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n\n      // Mettre à jour local\n      const newEvals = evaluationsCoach.filter(e => !(e.id_joueur === user.id && e.evaluateur === 'isma'));\n      newEvals.push({\n        id_joueur: user.id,\n        evaluateur: 'isma',\n        technicite: parseFloat(evalIsma.technicite) || 0,\n        vision: parseFloat(evalIsma.vision) || 0,\n        collectif: parseFloat(evalIsma.collectif) || 0,\n        mental: parseFloat(evalIsma.mental) || 0\n      });\n      setEvaluationsCoach(newEvals);\n\n      showNotification('✅ Évaluation Ismaël enregistrée', 'success');\n    } catch (error) {\n      console.error('Erreur saveEvaluationIsma:', error);\n      showNotification('❌ Erreur lors de l\\'enregistrement', 'error');\n    }\n  };\n\n  const saveEvaluationAdam = async (user, evaluationsCoach, setEvaluationsCoach, showNotification) => {\n    if (!user) return;\n\n    try {\n      const evalId = `${user.id}_adam`;\n      \n      // Écrire dans Firestore\n      await setDoc(doc(db, 'evaluations', evalId), {\n        id: evalId,\n        userId: String(user.id),\n        evaluateur: 'adam',\n        technicite: parseFloat(evalAdam.technicite) || 0,\n        vision: parseFloat(evalAdam.vision) || 0,\n        collectif: parseFloat(evalAdam.collectif) || 0,\n        mental: parseFloat(evalAdam.mental) || 0,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n\n      // Mettre à jour local\n      const newEvals = evaluationsCoach.filter(e => !(e.id_joueur === user.id && e.evaluateur === 'adam'));\n      newEvals.push({\n        id_joueur: user.id,\n        evaluateur: 'adam',\n        technicite: parseFloat(evalAdam.technicite) || 0,\n        vision: parseFloat(evalAdam.vision) || 0,\n        collectif: parseFloat(evalAdam.collectif) || 0,\n        mental: parseFloat(evalAdam.mental) || 0\n      });\n      setEvaluationsCoach(newEvals);\n\n      showNotification('✅ Évaluation Adam enregistrée', 'success');\n    } catch (error) {\n      console.error('Erreur saveEvaluationAdam:', error);\n      showNotification('❌ Erreur lors de l\\'enregistrement', 'error');\n    }\n  };\n\n  return {\n    evalIsma,\n    setEvalIsma,\n    evalAdam,\n    setEvalAdam,\n    loadEvaluations,\n    saveEvaluationIsma,\n    saveEvaluationAdam\n  };\n};\n\nexport default useEvaluations;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}