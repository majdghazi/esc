{"ast":null,"code":"import{useState}from'react';const useAuth=()=>{const[user,setUser]=useState(null);const[loginUsername,setLoginUsername]=useState('');const[loginPassword,setLoginPassword]=useState('');const handleLogin=(joueurs,showNotification)=>{const joueur=joueurs.find(j=>j.username===loginUsername&&j.password===loginPassword);if(joueur){setUser(joueur);localStorage.setItem('currentUser',JSON.stringify(joueur));}else{showNotification('Identifiants incorrects','error');}};const handleLogout=()=>{setUser(null);localStorage.removeItem('currentUser');setLoginUsername('');setLoginPassword('');};const loadUserFromStorage=()=>{const savedUser=localStorage.getItem('currentUser');if(savedUser){setUser(JSON.parse(savedUser));}};return{user,setUser,loginUsername,setLoginUsername,loginPassword,setLoginPassword,handleLogin,handleLogout,loadUserFromStorage};};export default useAuth;","map":{"version":3,"names":["useState","useAuth","user","setUser","loginUsername","setLoginUsername","loginPassword","setLoginPassword","handleLogin","joueurs","showNotification","joueur","find","j","username","password","localStorage","setItem","JSON","stringify","handleLogout","removeItem","loadUserFromStorage","savedUser","getItem","parse"],"sources":["/Users/hichamghazi/Desktop/esc-cappelle/src/hooks/useAuth.js"],"sourcesContent":["import { useState } from 'react';\n\nconst useAuth = () => {\n  const [user, setUser] = useState(null);\n  const [loginUsername, setLoginUsername] = useState('');\n  const [loginPassword, setLoginPassword] = useState('');\n\n  const handleLogin = (joueurs, showNotification) => {\n    const joueur = joueurs.find(j => j.username === loginUsername && j.password === loginPassword);\n    if (joueur) {\n      setUser(joueur);\n      localStorage.setItem('currentUser', JSON.stringify(joueur));\n    } else {\n      showNotification('Identifiants incorrects', 'error');\n    }\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n    localStorage.removeItem('currentUser');\n    setLoginUsername('');\n    setLoginPassword('');\n  };\n\n  const loadUserFromStorage = () => {\n    const savedUser = localStorage.getItem('currentUser');\n    if (savedUser) {\n      setUser(JSON.parse(savedUser));\n    }\n  };\n\n  return {\n    user,\n    setUser,\n    loginUsername,\n    setLoginUsername,\n    loginPassword,\n    setLoginPassword,\n    handleLogin,\n    handleLogout,\n    loadUserFromStorage\n  };\n};\n\nexport default useAuth;"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAEhC,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGH,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACI,aAAa,CAAEC,gBAAgB,CAAC,CAAGL,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACM,aAAa,CAAEC,gBAAgB,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CAEtD,KAAM,CAAAQ,WAAW,CAAGA,CAACC,OAAO,CAAEC,gBAAgB,GAAK,CACjD,KAAM,CAAAC,MAAM,CAAGF,OAAO,CAACG,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,QAAQ,GAAKV,aAAa,EAAIS,CAAC,CAACE,QAAQ,GAAKT,aAAa,CAAC,CAC9F,GAAIK,MAAM,CAAE,CACVR,OAAO,CAACQ,MAAM,CAAC,CACfK,YAAY,CAACC,OAAO,CAAC,aAAa,CAAEC,IAAI,CAACC,SAAS,CAACR,MAAM,CAAC,CAAC,CAC7D,CAAC,IAAM,CACLD,gBAAgB,CAAC,yBAAyB,CAAE,OAAO,CAAC,CACtD,CACF,CAAC,CAED,KAAM,CAAAU,YAAY,CAAGA,CAAA,GAAM,CACzBjB,OAAO,CAAC,IAAI,CAAC,CACba,YAAY,CAACK,UAAU,CAAC,aAAa,CAAC,CACtChB,gBAAgB,CAAC,EAAE,CAAC,CACpBE,gBAAgB,CAAC,EAAE,CAAC,CACtB,CAAC,CAED,KAAM,CAAAe,mBAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAAAC,SAAS,CAAGP,YAAY,CAACQ,OAAO,CAAC,aAAa,CAAC,CACrD,GAAID,SAAS,CAAE,CACbpB,OAAO,CAACe,IAAI,CAACO,KAAK,CAACF,SAAS,CAAC,CAAC,CAChC,CACF,CAAC,CAED,MAAO,CACLrB,IAAI,CACJC,OAAO,CACPC,aAAa,CACbC,gBAAgB,CAChBC,aAAa,CACbC,gBAAgB,CAChBC,WAAW,CACXY,YAAY,CACZE,mBACF,CAAC,CACH,CAAC,CAED,cAAe,CAAArB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}