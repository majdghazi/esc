{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { doc, setDoc, getDoc } from 'firebase/firestore';\nimport { db } from '../config/firebase';\nconst useEvaluations = () => {\n  _s();\n  const [evalIsma, setEvalIsma] = useState({\n    technicite: '',\n    vision: '',\n    collectif: '',\n    mental: ''\n  });\n  const [evalAdam, setEvalAdam] = useState({\n    technicite: '',\n    vision: '',\n    collectif: '',\n    mental: ''\n  });\n  const loadEvaluations = async (user, evaluationsCoach) => {\n    if (!user || user.role !== 'joueur') return;\n    try {\n      // Charger évaluation Isma depuis Firestore\n      const evalIsmaRef = doc(db, 'evaluations', `${user.id}_isma`);\n      const evalIsmaDoc = await getDoc(evalIsmaRef);\n      if (evalIsmaDoc.exists()) {\n        const data = evalIsmaDoc.data();\n        setEvalIsma({\n          technicite: data.technicite || '',\n          vision: data.vision || '',\n          collectif: data.collectif || '',\n          mental: data.mental || ''\n        });\n      }\n\n      // Charger évaluation Adam depuis Firestore\n      const evalAdamRef = doc(db, 'evaluations', `${user.id}_adam`);\n      const evalAdamDoc = await getDoc(evalAdamRef);\n      if (evalAdamDoc.exists()) {\n        const data = evalAdamDoc.data();\n        setEvalAdam({\n          technicite: data.technicite || '',\n          vision: data.vision || '',\n          collectif: data.collectif || '',\n          mental: data.mental || ''\n        });\n      }\n    } catch (error) {\n      console.error('Erreur loadEvaluations:', error);\n    }\n  };\n  const saveEvaluationIsma = async (user, evaluationsCoach, setEvaluationsCoach, showNotification) => {\n    if (!user) return;\n    try {\n      const evalId = `${user.id}_isma`;\n\n      // Écrire dans Firestore\n      await setDoc(doc(db, 'evaluations', evalId), {\n        id: evalId,\n        userId: String(user.id),\n        evaluateur: 'isma',\n        technicite: parseFloat(evalIsma.technicite) || 0,\n        vision: parseFloat(evalIsma.vision) || 0,\n        collectif: parseFloat(evalIsma.collectif) || 0,\n        mental: parseFloat(evalIsma.mental) || 0,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n\n      // Mettre à jour local\n      const newEvals = evaluationsCoach.filter(e => !(e.id_joueur === user.id && e.evaluateur === 'isma'));\n      newEvals.push({\n        id_joueur: user.id,\n        evaluateur: 'isma',\n        technicite: parseFloat(evalIsma.technicite) || 0,\n        vision: parseFloat(evalIsma.vision) || 0,\n        collectif: parseFloat(evalIsma.collectif) || 0,\n        mental: parseFloat(evalIsma.mental) || 0\n      });\n      setEvaluationsCoach(newEvals);\n      showNotification('✅ Évaluation Ismaël enregistrée', 'success');\n    } catch (error) {\n      console.error('Erreur saveEvaluationIsma:', error);\n      showNotification('❌ Erreur lors de l\\'enregistrement', 'error');\n    }\n  };\n  const saveEvaluationAdam = async (user, evaluationsCoach, setEvaluationsCoach, showNotification) => {\n    if (!user) return;\n    try {\n      const evalId = `${user.id}_adam`;\n\n      // Écrire dans Firestore\n      await setDoc(doc(db, 'evaluations', evalId), {\n        id: evalId,\n        userId: String(user.id),\n        evaluateur: 'adam',\n        technicite: parseFloat(evalAdam.technicite) || 0,\n        vision: parseFloat(evalAdam.vision) || 0,\n        collectif: parseFloat(evalAdam.collectif) || 0,\n        mental: parseFloat(evalAdam.mental) || 0,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n\n      // Mettre à jour local\n      const newEvals = evaluationsCoach.filter(e => !(e.id_joueur === user.id && e.evaluateur === 'adam'));\n      newEvals.push({\n        id_joueur: user.id,\n        evaluateur: 'adam',\n        technicite: parseFloat(evalAdam.technicite) || 0,\n        vision: parseFloat(evalAdam.vision) || 0,\n        collectif: parseFloat(evalAdam.collectif) || 0,\n        mental: parseFloat(evalAdam.mental) || 0\n      });\n      setEvaluationsCoach(newEvals);\n      showNotification('✅ Évaluation Adam enregistrée', 'success');\n    } catch (error) {\n      console.error('Erreur saveEvaluationAdam:', error);\n      showNotification('❌ Erreur lors de l\\'enregistrement', 'error');\n    }\n  };\n  return {\n    evalIsma,\n    setEvalIsma,\n    evalAdam,\n    setEvalAdam,\n    loadEvaluations,\n    saveEvaluationIsma,\n    saveEvaluationAdam\n  };\n};\n_s(useEvaluations, \"Bt7voqQwiy1cDisZd2CN4rW4Ptg=\");\nexport default useEvaluations;","map":{"version":3,"names":["useState","doc","setDoc","getDoc","db","useEvaluations","_s","evalIsma","setEvalIsma","technicite","vision","collectif","mental","evalAdam","setEvalAdam","loadEvaluations","user","evaluationsCoach","role","evalIsmaRef","id","evalIsmaDoc","exists","data","evalAdamRef","evalAdamDoc","error","console","saveEvaluationIsma","setEvaluationsCoach","showNotification","evalId","userId","String","evaluateur","parseFloat","createdAt","Date","updatedAt","newEvals","filter","e","id_joueur","push","saveEvaluationAdam"],"sources":["/Users/hichamghazi/Desktop/esc-cappelle/src/hooks/useEvaluations.js"],"sourcesContent":["import { useState } from 'react';\nimport { doc, setDoc, getDoc } from 'firebase/firestore';\nimport { db } from '../config/firebase';\n\nconst useEvaluations = () => {\n  const [evalIsma, setEvalIsma] = useState({\n    technicite: '',\n    vision: '',\n    collectif: '',\n    mental: ''\n  });\n\n  const [evalAdam, setEvalAdam] = useState({\n    technicite: '',\n    vision: '',\n    collectif: '',\n    mental: ''\n  });\n\n  const loadEvaluations = async (user, evaluationsCoach) => {\n    if (!user || user.role !== 'joueur') return;\n\n    try {\n      // Charger évaluation Isma depuis Firestore\n      const evalIsmaRef = doc(db, 'evaluations', `${user.id}_isma`);\n      const evalIsmaDoc = await getDoc(evalIsmaRef);\n      \n      if (evalIsmaDoc.exists()) {\n        const data = evalIsmaDoc.data();\n        setEvalIsma({\n          technicite: data.technicite || '',\n          vision: data.vision || '',\n          collectif: data.collectif || '',\n          mental: data.mental || ''\n        });\n      }\n\n      // Charger évaluation Adam depuis Firestore\n      const evalAdamRef = doc(db, 'evaluations', `${user.id}_adam`);\n      const evalAdamDoc = await getDoc(evalAdamRef);\n      \n      if (evalAdamDoc.exists()) {\n        const data = evalAdamDoc.data();\n        setEvalAdam({\n          technicite: data.technicite || '',\n          vision: data.vision || '',\n          collectif: data.collectif || '',\n          mental: data.mental || ''\n        });\n      }\n    } catch (error) {\n      console.error('Erreur loadEvaluations:', error);\n    }\n  };\n\n  const saveEvaluationIsma = async (user, evaluationsCoach, setEvaluationsCoach, showNotification) => {\n    if (!user) return;\n\n    try {\n      const evalId = `${user.id}_isma`;\n      \n      // Écrire dans Firestore\n      await setDoc(doc(db, 'evaluations', evalId), {\n        id: evalId,\n        userId: String(user.id),\n        evaluateur: 'isma',\n        technicite: parseFloat(evalIsma.technicite) || 0,\n        vision: parseFloat(evalIsma.vision) || 0,\n        collectif: parseFloat(evalIsma.collectif) || 0,\n        mental: parseFloat(evalIsma.mental) || 0,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n\n      // Mettre à jour local\n      const newEvals = evaluationsCoach.filter(e => !(e.id_joueur === user.id && e.evaluateur === 'isma'));\n      newEvals.push({\n        id_joueur: user.id,\n        evaluateur: 'isma',\n        technicite: parseFloat(evalIsma.technicite) || 0,\n        vision: parseFloat(evalIsma.vision) || 0,\n        collectif: parseFloat(evalIsma.collectif) || 0,\n        mental: parseFloat(evalIsma.mental) || 0\n      });\n      setEvaluationsCoach(newEvals);\n\n      showNotification('✅ Évaluation Ismaël enregistrée', 'success');\n    } catch (error) {\n      console.error('Erreur saveEvaluationIsma:', error);\n      showNotification('❌ Erreur lors de l\\'enregistrement', 'error');\n    }\n  };\n\n  const saveEvaluationAdam = async (user, evaluationsCoach, setEvaluationsCoach, showNotification) => {\n    if (!user) return;\n\n    try {\n      const evalId = `${user.id}_adam`;\n      \n      // Écrire dans Firestore\n      await setDoc(doc(db, 'evaluations', evalId), {\n        id: evalId,\n        userId: String(user.id),\n        evaluateur: 'adam',\n        technicite: parseFloat(evalAdam.technicite) || 0,\n        vision: parseFloat(evalAdam.vision) || 0,\n        collectif: parseFloat(evalAdam.collectif) || 0,\n        mental: parseFloat(evalAdam.mental) || 0,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n\n      // Mettre à jour local\n      const newEvals = evaluationsCoach.filter(e => !(e.id_joueur === user.id && e.evaluateur === 'adam'));\n      newEvals.push({\n        id_joueur: user.id,\n        evaluateur: 'adam',\n        technicite: parseFloat(evalAdam.technicite) || 0,\n        vision: parseFloat(evalAdam.vision) || 0,\n        collectif: parseFloat(evalAdam.collectif) || 0,\n        mental: parseFloat(evalAdam.mental) || 0\n      });\n      setEvaluationsCoach(newEvals);\n\n      showNotification('✅ Évaluation Adam enregistrée', 'success');\n    } catch (error) {\n      console.error('Erreur saveEvaluationAdam:', error);\n      showNotification('❌ Erreur lors de l\\'enregistrement', 'error');\n    }\n  };\n\n  return {\n    evalIsma,\n    setEvalIsma,\n    evalAdam,\n    setEvalAdam,\n    loadEvaluations,\n    saveEvaluationIsma,\n    saveEvaluationAdam\n  };\n};\n\nexport default useEvaluations;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}