{"ast":null,"code":"/**\n * Système de classement des joueurs basé sur une formule pondérée\n *\n * Formule: Score = (Buts × 0.4) + (Passes D × 0.25) + (Note moyenne × 0.25) + (Temps de jeu/90 × 0.1)\n *\n * Pondérations:\n * - Buts: 40%\n * - Passes décisives: 25%\n * - Note moyenne: 25%\n * - Temps de jeu: 10% (normalisé sur 90 minutes)\n */\n\nimport { getMoyenneJoueur } from './playerActions';\nimport { getTotalButs, getTotalTemps, getTotalPasses } from './statsCalculator';\n\n/**\n * Calcule le score global d'un joueur selon la formule pondérée\n * @param {Object} joueur - Le joueur\n * @param {Array} notes - Toutes les notes\n * @param {Array} buteurs - Tous les buteurs\n * @param {Array} tempsDeJeu - Tous les temps de jeu\n * @param {Array} passesD - Toutes les passes décisives\n * @returns {number} Score global du joueur\n */\nexport const calculatePlayerScore = (joueur, notes, buteurs, tempsDeJeu, passesD) => {\n  // 1. Récupérer les stats du joueur\n  const totalButs = getTotalButs(buteurs, joueur.id);\n  const totalPasses = getTotalPasses(passesD, joueur.id);\n  const totalTemps = getTotalTemps(tempsDeJeu, joueur.id);\n  const moyenne = getMoyenneJoueur(notes, joueur.id);\n\n  // 2. Gérer le cas où le joueur n'a pas de note\n  const noteNormalisee = moyenne === '-' ? 0 : parseFloat(moyenne);\n\n  // 3. Normaliser le temps de jeu (temps total / 90 minutes)\n  // Un joueur qui a joué 90 minutes aura un score de 1 pour cette composante\n  const tempsNormalise = totalTemps / 90;\n\n  // 4. Calculer le score global selon la formule\n  const score = totalButs * 0.4 +\n  // Buts: 40%\n  totalPasses * 0.25 +\n  // Passes D: 25%\n  noteNormalisee * 0.25 +\n  // Note moyenne: 25%\n  tempsNormalise * 0.1 // Temps de jeu: 10%\n  ;\n  return score;\n};\n\n/**\n * Trie les joueurs par score décroissant (meilleur en premier)\n * @param {Array} joueurs - Liste des joueurs\n * @param {Array} notes - Toutes les notes\n * @param {Array} buteurs - Tous les buteurs\n * @param {Array} tempsDeJeu - Tous les temps de jeu\n * @param {Array} passesD - Toutes les passes décisives\n * @returns {Array} Joueurs triés avec leur score\n */\nexport const rankPlayers = (joueurs, notes, buteurs, tempsDeJeu, passesD) => {\n  return [...joueurs].map(joueur => ({\n    ...joueur,\n    score: calculatePlayerScore(joueur, notes, buteurs, tempsDeJeu, passesD)\n  })).sort((a, b) => b.score - a.score); // Tri décroissant\n};","map":{"version":3,"names":["getMoyenneJoueur","getTotalButs","getTotalTemps","getTotalPasses","calculatePlayerScore","joueur","notes","buteurs","tempsDeJeu","passesD","totalButs","id","totalPasses","totalTemps","moyenne","noteNormalisee","parseFloat","tempsNormalise","score","rankPlayers","joueurs","map","sort","a","b"],"sources":["/Users/hichamghazi/Desktop/esc-cappelle/src/utils/playerRanking.js"],"sourcesContent":["/**\n * Système de classement des joueurs basé sur une formule pondérée\n *\n * Formule: Score = (Buts × 0.4) + (Passes D × 0.25) + (Note moyenne × 0.25) + (Temps de jeu/90 × 0.1)\n *\n * Pondérations:\n * - Buts: 40%\n * - Passes décisives: 25%\n * - Note moyenne: 25%\n * - Temps de jeu: 10% (normalisé sur 90 minutes)\n */\n\nimport { getMoyenneJoueur } from './playerActions';\nimport { getTotalButs, getTotalTemps, getTotalPasses } from './statsCalculator';\n\n/**\n * Calcule le score global d'un joueur selon la formule pondérée\n * @param {Object} joueur - Le joueur\n * @param {Array} notes - Toutes les notes\n * @param {Array} buteurs - Tous les buteurs\n * @param {Array} tempsDeJeu - Tous les temps de jeu\n * @param {Array} passesD - Toutes les passes décisives\n * @returns {number} Score global du joueur\n */\nexport const calculatePlayerScore = (joueur, notes, buteurs, tempsDeJeu, passesD) => {\n  // 1. Récupérer les stats du joueur\n  const totalButs = getTotalButs(buteurs, joueur.id);\n  const totalPasses = getTotalPasses(passesD, joueur.id);\n  const totalTemps = getTotalTemps(tempsDeJeu, joueur.id);\n  const moyenne = getMoyenneJoueur(notes, joueur.id);\n\n  // 2. Gérer le cas où le joueur n'a pas de note\n  const noteNormalisee = moyenne === '-' ? 0 : parseFloat(moyenne);\n\n  // 3. Normaliser le temps de jeu (temps total / 90 minutes)\n  // Un joueur qui a joué 90 minutes aura un score de 1 pour cette composante\n  const tempsNormalise = totalTemps / 90;\n\n  // 4. Calculer le score global selon la formule\n  const score = (\n    (totalButs * 0.4) +           // Buts: 40%\n    (totalPasses * 0.25) +        // Passes D: 25%\n    (noteNormalisee * 0.25) +     // Note moyenne: 25%\n    (tempsNormalise * 0.1)        // Temps de jeu: 10%\n  );\n\n  return score;\n};\n\n/**\n * Trie les joueurs par score décroissant (meilleur en premier)\n * @param {Array} joueurs - Liste des joueurs\n * @param {Array} notes - Toutes les notes\n * @param {Array} buteurs - Tous les buteurs\n * @param {Array} tempsDeJeu - Tous les temps de jeu\n * @param {Array} passesD - Toutes les passes décisives\n * @returns {Array} Joueurs triés avec leur score\n */\nexport const rankPlayers = (joueurs, notes, buteurs, tempsDeJeu, passesD) => {\n  return [...joueurs]\n    .map(joueur => ({\n      ...joueur,\n      score: calculatePlayerScore(joueur, notes, buteurs, tempsDeJeu, passesD)\n    }))\n    .sort((a, b) => b.score - a.score); // Tri décroissant\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,gBAAgB,QAAQ,iBAAiB;AAClD,SAASC,YAAY,EAAEC,aAAa,EAAEC,cAAc,QAAQ,mBAAmB;;AAE/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,oBAAoB,GAAGA,CAACC,MAAM,EAAEC,KAAK,EAAEC,OAAO,EAAEC,UAAU,EAAEC,OAAO,KAAK;EACnF;EACA,MAAMC,SAAS,GAAGT,YAAY,CAACM,OAAO,EAAEF,MAAM,CAACM,EAAE,CAAC;EAClD,MAAMC,WAAW,GAAGT,cAAc,CAACM,OAAO,EAAEJ,MAAM,CAACM,EAAE,CAAC;EACtD,MAAME,UAAU,GAAGX,aAAa,CAACM,UAAU,EAAEH,MAAM,CAACM,EAAE,CAAC;EACvD,MAAMG,OAAO,GAAGd,gBAAgB,CAACM,KAAK,EAAED,MAAM,CAACM,EAAE,CAAC;;EAElD;EACA,MAAMI,cAAc,GAAGD,OAAO,KAAK,GAAG,GAAG,CAAC,GAAGE,UAAU,CAACF,OAAO,CAAC;;EAEhE;EACA;EACA,MAAMG,cAAc,GAAGJ,UAAU,GAAG,EAAE;;EAEtC;EACA,MAAMK,KAAK,GACRR,SAAS,GAAG,GAAG;EAAc;EAC7BE,WAAW,GAAG,IAAK;EAAU;EAC7BG,cAAc,GAAG,IAAK;EAAO;EAC7BE,cAAc,GAAG,GAAI,CAAQ;EAC/B;EAED,OAAOC,KAAK;AACd,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,WAAW,GAAGA,CAACC,OAAO,EAAEd,KAAK,EAAEC,OAAO,EAAEC,UAAU,EAAEC,OAAO,KAAK;EAC3E,OAAO,CAAC,GAAGW,OAAO,CAAC,CAChBC,GAAG,CAAChB,MAAM,KAAK;IACd,GAAGA,MAAM;IACTa,KAAK,EAAEd,oBAAoB,CAACC,MAAM,EAAEC,KAAK,EAAEC,OAAO,EAAEC,UAAU,EAAEC,OAAO;EACzE,CAAC,CAAC,CAAC,CACFa,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACN,KAAK,GAAGK,CAAC,CAACL,KAAK,CAAC,CAAC,CAAC;AACxC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}