/*! For license information please see main.bfffbb53.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var S=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,S(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(s,t,i,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",S(e))for(var u=0;u<e.length;u++){var c=o+I(a=e[u],u);l+=A(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,c=o+I(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},R={transition:null},P={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!_.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,R(x);else{var t=r(c);null!==t&&P(S,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,v(C),C=-1),p=!0;var o=f;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!A());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(u)&&i(u),w(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&P(S,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,k=null,C=-1,T=5,I=-1;function A(){return!(t.unstable_now()-I<T)}function N(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?E():(_=!1,k=null)}}else _=!1}if("function"===typeof b)E=function(){b(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,j=D.port2;D.port1.onmessage=N,E=function(){j.postMessage(null)}}else E=function(){y(N,0)};function R(e){k=e,_||(_=!0,E())}function P(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(v(C),C=-1):g=!0,P(S,o-s))):(e.sortIndex=a,n(u,e),m||p||(m=!0,R(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,O=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case k:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function ke(e){if(e=Si(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),xe(e.stateNode,e.type,t))}}function Ce(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==Ee||null!==_e)&&(Ae(),Te())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){Re=!1}function Le(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Oe=null,Fe=!1,ze=null,Ve={onError:function(e){Me=!0,Oe=e}};function Ue(e,t,n,r,i,o,s,a,l){Me=!1,Oe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,xt,Et,_t,Ct,Tt=!1,It=[],At=null,Nt=null,Dt=null,jt=new Map,Rt=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Si(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=wi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Si(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){zt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==At&&zt(At)&&(At=null),null!==Nt&&zt(Nt)&&(Nt=null),null!==Dt&&zt(Dt)&&(Dt=null),jt.forEach(Vt),Rt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),null!==Dt&&Bt(Dt,e),jt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var Wt=w.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Qt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Gt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Kr(e,t,r,Jt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Ot(At,e,t,n,r,i),!0;case"dragenter":return Nt=Ot(Nt,e,t,n,r,i),!0;case"mouseover":return Dt=Ot(Dt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return jt.set(o,Ot(jt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Ot(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=Si(i);if(null!==o&&St(o),null===(o=Xt(e,t,n,r))&&Kr(e,t,r,Jt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Jt=null;function Xt(e,t,n,r){if(Jt=null,null!==(e=wi(e=Se(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:sn,this.isPropagationStopped=sn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var ln,un,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(dn),fn=O({},dn,{view:0,detail:0}),pn=an(fn),mn=O({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=an(mn),yn=an(O({},mn,{dataTransfer:0})),vn=an(O({},fn,{relatedTarget:0})),bn=an(O({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=O({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=an(wn),xn=an(O({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Cn}var In=O({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(In),Nn=an(O({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=an(O({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),jn=an(O({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=O({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Ln=[9,13,27,32],Mn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Fn=c&&"TextEvent"in window&&!On,zn=c&&(!Mn||On&&8<On&&11>=On),Vn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Jn=null;function Xn(e){Vr(e,0)}function Yn(e){if(Q(xi(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(c){var er;if(c){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Jn=Gn=null)}function ir(e){if("value"===e.propertyName&&Yn(Jn)){var t=[];Qn(t,Jn,e,Se(e)),De(Xn,t)}}function or(e,t,n){"focusin"===e?(rr(),Jn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Jn)}function ar(e,t){if("click"===e)return Yn(t)}function lr(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=hr(n,o);var s=hr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,br=null,wr=null,Sr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==vr||vr!==G(r)||("selectionStart"in(r=vr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&cr(wr,r)||(wr=r,0<(r=Gr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},kr={},Cr={};function Tr(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ir=Tr("animationend"),Ar=Tr("animationiteration"),Nr=Tr("animationstart"),Dr=Tr("transitionend"),jr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){jr.set(e,t),l(t,[e])}for(var Lr=0;Lr<Rr.length;Lr++){var Mr=Rr[Lr];Pr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Ar,"onAnimationIteration"),Pr(Nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Dr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(o(198));var c=Oe;Me=!1,Oe=null,Fe||(Fe=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;zr(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;zr(i,a,u),o=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function Ur(e,t){var n=t[yi];void 0===n&&(n=t[yi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[qr]){e[qr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Fr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=wi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}De(function(){var r=o,i=Se(n),s=[];e:{var a=jr.get(e);if(void 0!==a){var l=hn,u=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case Ir:case Ar:case Nr:l=bn;break;case Dr:l=jn;break;case"scroll":l=pn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=je(p,h))&&c.push(Qr(p,m,f)))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!wi(u)&&!u[gi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?wi(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:xi(l),f=null==u?a:xi(u),(a=new c(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,wi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Jr(f))p++;for(f=0,m=h;m;m=Jr(m))f++;for(;0<p-f;)c=Jr(c),p--;for(;0<f-p;)h=Jr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Jr(c),h=Jr(h)}c=null}else c=null;null!==l&&Xr(s,a,l,c,!1),null!==u&&null!==d&&Xr(s,d,u,c,!0)}if("select"===(l=(a=r?xi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Kn(a))if(Zn)g=lr;else{g=sr;var y=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Qn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?xi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(vr=y,br=r,wr=null);break;case"focusout":wr=br=vr=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,xr(s,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(s,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(v=tn()):(Zt="value"in($t=i)?$t.value:$t.textContent,Wn=!0)),0<(y=Gr(r,b)).length&&(b=new xn(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=qn(n))&&(b.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=tn(),en=Zt=$t=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Vr(s,t)})}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Qr(e,o,i)),null!=(o=je(e,t))&&r.push(Qr(e,o,i))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=je(n,o))&&s.unshift(Qr(n,l,a)):i||null!=(l=je(n,o))&&s.push(Qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function ei(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function ti(){}var ni=null,ri=null;function ii(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var oi="function"===typeof setTimeout?setTimeout:void 0,si="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,li="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:oi;function ui(e){setTimeout(function(){throw e})}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function di(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),pi="__reactFiber$"+fi,mi="__reactProps$"+fi,gi="__reactContainer$"+fi,yi="__reactEvents$"+fi,vi="__reactListeners$"+fi,bi="__reactHandles$"+fi;function wi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hi(e);null!==e;){if(n=e[pi])return n;e=hi(e)}return t}n=(e=n).parentNode}return null}function Si(e){return!(e=e[pi]||e[gi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[mi]||null}var _i=[],ki=-1;function Ci(e){return{current:e}}function Ti(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Ii(e,t){ki++,_i[ki]=e.current,e.current=t}var Ai={},Ni=Ci(Ai),Di=Ci(!1),ji=Ai;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ti(Di),Ti(Ni)}function Mi(e,t,n){if(Ni.current!==Ai)throw Error(o(168));Ii(Ni,t),Ii(Di,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return O({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,ji=Ni.current,Ii(Ni,e),Ii(Di,Di.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ti(Di),Ti(Ni),Ii(Ni,e)):Ti(Di),Ii(Di,n)}var Vi=null,Ui=!1,Bi=!1;function qi(e){null===Vi?Vi=[e]:Vi.push(e)}function Wi(){if(!Bi&&null!==Vi){Bi=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Qe(Ze,Wi),i}finally{bt=t,Bi=!1}}return null}var Hi=[],Ki=0,Qi=null,Gi=0,Ji=[],Xi=0,Yi=null,$i=1,Zi="";function eo(e,t){Hi[Ki++]=Gi,Hi[Ki++]=Qi,Qi=e,Gi=t}function to(e,t,n){Ji[Xi++]=$i,Ji[Xi++]=Zi,Ji[Xi++]=Yi,Yi=e;var r=$i;e=Zi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Zi=o+e}else $i=1<<o|n<<i|r,Zi=e}function no(e){null!==e.return&&(eo(e,1),to(e,1,0))}function ro(e){for(;e===Qi;)Qi=Hi[--Ki],Hi[Ki]=null,Gi=Hi[--Ki],Hi[Ki]=null;for(;e===Yi;)Yi=Ji[--Xi],Ji[Xi]=null,Zi=Ji[--Xi],Ji[Xi]=null,$i=Ji[--Xi],Ji[Xi]=null}var io=null,oo=null,so=!1,ao=null;function lo(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function uo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,io=e,oo=di(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,io=e,oo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,io=e,oo=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ho(e){if(so){var t=oo;if(t){var n=t;if(!uo(e,t)){if(co(e))throw Error(o(418));t=di(n.nextSibling);var r=io;t&&uo(e,t)?lo(r,n):(e.flags=-4097&e.flags|2,so=!1,io=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,so=!1,io=e}}}function fo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;io=e}function po(e){if(e!==io)return!1;if(!so)return fo(e),so=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ii(e.type,e.memoizedProps)),t&&(t=oo)){if(co(e))throw mo(),Error(o(418));for(;t;)lo(e,t),t=di(t.nextSibling)}if(fo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oo=di(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oo=null}}else oo=io?di(e.stateNode.nextSibling):null;return!0}function mo(){for(var e=oo;e;)e=di(e.nextSibling)}function go(){oo=io=null,so=!1}function yo(e){null===ao?ao=[e]:ao.push(e)}var vo=w.ReactCurrentBatchConfig;function bo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function wo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function So(e){return(0,e._init)(e._payload)}function xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===j&&So(o)===t.type)?((r=i(t,n.props)).ref=bo(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=bo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=bo(e,null,t),n.return=e,n;case x:return(t=Vu(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ou(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?u(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);wo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);wo(t,r)}return null}function m(i,o,a,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===a.length)return n(i,d),so&&eo(i,m),u;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===c?u=d:c.sibling=d,c=d);return so&&eo(i,m),u}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),so&&eo(i,m),u}function g(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),so&&eo(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,u))&&(a=s(v,a,g),null===d?c=v:d.sibling=v,d=v);return so&&eo(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),so&&eo(i,g),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case S:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===E){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===j&&So(u)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=bo(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===E?((o=Ou(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Mu(s.type,s.key,s.props,null,r.mode,l)).ref=bo(r,o,s),l.return=r,r=l)}return a(r);case x:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vu(s,r.mode,l)).return=r,r=o}return a(r);case j:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);wo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=zu(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Eo=xo(!0),_o=xo(!1),ko=Ci(null),Co=null,To=null,Io=null;function Ao(){Io=To=Co=null}function No(e){var t=ko.current;Ti(ko),e._currentValue=t}function Do(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jo(e,t){Co=e,Io=To=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Sa=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(Io!==e)if(e={context:e,memoizedValue:t,next:null},null===To){if(null===Co)throw Error(o(308));To=e,Co.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Po=null;function Lo(e){null===Po?Po=[e]:Po.push(e)}function Mo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Lo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fo=!1;function zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Lo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function qo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Fo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,c=u=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=O({},d,h);break e;case 2:Fo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=d}}function Ko(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Qo={},Go=Ci(Qo),Jo=Ci(Qo),Xo=Ci(Qo);function Yo(e){if(e===Qo)throw Error(o(174));return e}function $o(e,t){switch(Ii(Xo,t),Ii(Jo,e),Ii(Go,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Go),Ii(Go,t)}function Zo(){Ti(Go),Ti(Jo),Ti(Xo)}function es(e){Yo(Xo.current);var t=Yo(Go.current),n=le(t,e.type);t!==n&&(Ii(Jo,e),Ii(Go,n))}function ts(e){Jo.current===e&&(Ti(Go),Ti(Jo))}var ns=Ci(0);function rs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var is=[];function os(){for(var e=0;e<is.length;e++)is[e]._workInProgressVersionPrimary=null;is.length=0}var ss=w.ReactCurrentDispatcher,as=w.ReactCurrentBatchConfig,ls=0,us=null,cs=null,ds=null,hs=!1,fs=!1,ps=0,ms=0;function gs(){throw Error(o(321))}function ys(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function vs(e,t,n,r,i,s){if(ls=s,us=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ss.current=null===e||null===e.memoizedState?ta:na,e=n(r,i),fs){s=0;do{if(fs=!1,ps=0,25<=s)throw Error(o(301));s+=1,ds=cs=null,t.updateQueue=null,ss.current=ra,e=n(r,i)}while(fs)}if(ss.current=ea,t=null!==cs&&null!==cs.next,ls=0,ds=cs=us=null,hs=!1,t)throw Error(o(300));return e}function bs(){var e=0!==ps;return ps=0,e}function ws(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ds?us.memoizedState=ds=e:ds=ds.next=e,ds}function Ss(){if(null===cs){var e=us.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ds?us.memoizedState:ds.next;if(null!==t)ds=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ds?us.memoizedState=ds=e:ds=ds.next=e}return ds}function xs(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=Ss(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=cs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((ls&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,a=r):u=u.next=h,us.lanes|=d,Fl|=d}c=c.next}while(null!==c&&c!==s);null===u?a=r:u.next=l,ur(r,t.memoizedState)||(Sa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,us.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=Ss(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ur(s,t.memoizedState)||(Sa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Cs(e,t){var n=us,r=Ss(),i=t(),s=!ur(r.memoizedState,i);if(s&&(r.memoizedState=i,Sa=!0),r=r.queue,Fs(As.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ds&&1&ds.memoizedState.tag){if(n.flags|=2048,Rs(9,Is.bind(null,n,r,i,t),void 0,null),null===Dl)throw Error(o(349));0!==(30&ls)||Ts(n,t,i)}return i}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=us.updateQueue)?(t={lastEffect:null,stores:null},us.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,Ns(t)&&Ds(e)}function As(e,t,n){return n(function(){Ns(t)&&Ds(e)})}function Ns(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Ds(e){var t=Oo(e,1);null!==t&&iu(t,e,1,-1)}function js(e){var t=ws();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Xs.bind(null,us,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=us.updateQueue)?(t={lastEffect:null,stores:null},us.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return Ss().memoizedState}function Ls(e,t,n,r){var i=ws();us.flags|=e,i.memoizedState=Rs(1|t,n,void 0,void 0===r?null:r)}function Ms(e,t,n,r){var i=Ss();r=void 0===r?null:r;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==r&&ys(r,s.deps))return void(i.memoizedState=Rs(t,n,o,r))}us.flags|=e,i.memoizedState=Rs(1|t,n,o,r)}function Os(e,t){return Ls(8390656,8,e,t)}function Fs(e,t){return Ms(2048,8,e,t)}function zs(e,t){return Ms(4,2,e,t)}function Vs(e,t){return Ms(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4,4,Us.bind(null,t,e),n)}function qs(){}function Ws(e,t){var n=Ss();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ys(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=Ss();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ys(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ks(e,t,n){return 0===(21&ls)?(e.baseState&&(e.baseState=!1,Sa=!0),e.memoizedState=n):(ur(n,t)||(n=mt(),us.lanes|=n,Fl|=n,e.baseState=!0),t)}function Qs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{bt=n,as.transition=r}}function Gs(){return Ss().memoizedState}function Js(e,t,n){var r=ru(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))$s(t,n);else if(null!==(n=Mo(e,t,n,r))){iu(n,e,r,nu()),Zs(n,t,r)}}function Xs(e,t,n){var r=ru(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))$s(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ur(a,s)){var l=t.interleaved;return null===l?(i.next=i,Lo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Mo(e,t,i,r))&&(iu(n,e,r,i=nu()),Zs(n,t,r))}}function Ys(e){var t=e.alternate;return e===us||null!==t&&t===us}function $s(e,t){fs=hs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var ea={readContext:Ro,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},ta={readContext:Ro,useCallback:function(e,t){return ws().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var n=ws();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ws();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Js.bind(null,us,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ws().memoizedState=e},useState:js,useDebugValue:qs,useDeferredValue:function(e){return ws().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Qs.bind(null,e[1]),ws().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=us,i=ws();if(so){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Dl)throw Error(o(349));0!==(30&ls)||Ts(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Os(As.bind(null,r,s,e),[e]),r.flags|=2048,Rs(9,Is.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ws(),t=Dl.identifierPrefix;if(so){var n=Zi;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=ps++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ms++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},na={readContext:Ro,useCallback:Ws,useContext:Ro,useEffect:Fs,useImperativeHandle:Bs,useInsertionEffect:zs,useLayoutEffect:Vs,useMemo:Hs,useReducer:Es,useRef:Ps,useState:function(){return Es(xs)},useDebugValue:qs,useDeferredValue:function(e){return Ks(Ss(),cs.memoizedState,e)},useTransition:function(){return[Es(xs)[0],Ss().memoizedState]},useMutableSource:ks,useSyncExternalStore:Cs,useId:Gs,unstable_isNewReconciler:!1},ra={readContext:Ro,useCallback:Ws,useContext:Ro,useEffect:Fs,useImperativeHandle:Bs,useInsertionEffect:zs,useLayoutEffect:Vs,useMemo:Hs,useReducer:_s,useRef:Ps,useState:function(){return _s(xs)},useDebugValue:qs,useDeferredValue:function(e){var t=Ss();return null===cs?t.memoizedState=e:Ks(t,cs.memoizedState,e)},useTransition:function(){return[_s(xs)[0],Ss().memoizedState]},useMutableSource:ks,useSyncExternalStore:Cs,useId:Gs,unstable_isNewReconciler:!1};function ia(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function oa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nu(),i=ru(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(iu(t,e,i,r),qo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nu(),i=ru(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(iu(t,e,i,r),qo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nu(),r=ru(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(iu(t,e,r,n),qo(t,e,r))}};function aa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function la(e,t,n){var r=!1,i=Ai,o=t.contextType;return"object"===typeof o&&null!==o?o=Ro(o):(i=Pi(t)?ji:Ni.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ai),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ua(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},zo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ro(o):(o=Pi(t)?ji:Ni.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(oa(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&sa.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function da(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pa="function"===typeof WeakMap?WeakMap:Map;function ma(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Ql=r),fa(0,t)},n}function ga(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fa(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fa(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ya(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ba(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=w.ReactCurrentOwner,Sa=!1;function xa(e,t,n,r){t.child=null===e?_o(t,null,n,r):Eo(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;return jo(t,i),r=vs(e,t,n,r,o,i),n=bs(),null===e||Sa?(so&&n&&no(t),t.flags|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function _a(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ka(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Lu(o,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(Sa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(Sa=!0)}}return Ia(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ll,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ll,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Ll,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Ll,Pl),Pl|=r;return xa(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var o=Pi(n)?ji:Ni.current;return o=Ri(t,o),jo(t,i),n=vs(e,t,n,r,o,i),r=bs(),null===e||Sa?(so&&r&&no(t),t.flags|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Aa(e,t,n,r,i){if(Pi(n)){var o=!0;Fi(t)}else o=!1;if(jo(t,i),null===t.stateNode)Ha(e,t),la(t,n,r),ca(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ro(u):u=Ri(t,u=Pi(n)?ji:Ni.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==u)&&ua(t,s,r,u),Fo=!1;var h=t.memoizedState;s.state=h,Ho(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Di.current||Fo?("function"===typeof c&&(oa(t,n,c,r),l=t.memoizedState),(a=Fo||aa(t,n,a,r,h,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Vo(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ia(t.type,a),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ro(l):l=Ri(t,l=Pi(n)?ji:Ni.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&ua(t,s,r,l),Fo=!1,h=t.memoizedState,s.state=h,Ho(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Di.current||Fo?("function"===typeof f&&(oa(t,n,f,r),p=t.memoizedState),(u=Fo||aa(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,o,i)}function Na(e,t,n,r,i,o){Ta(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&zi(t,n,!1),Ka(e,t,o);r=t.stateNode,wa.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,a,o)):xa(e,t,a,o),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Da(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),$o(e,t.containerInfo)}function ja(e,t,n,r,i){return go(),yo(i),t.flags|=256,xa(e,t,n,r),t.child}var Ra,Pa,La,Ma,Oa={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,t,n){var r,i=t.pendingProps,s=ns.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ii(ns,1&s),null===e)return ho(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fu(l,i,0,null),e=Ou(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Oa,e):Va(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fu({mode:"visible",children:r.children},i,0,null),(s=Ou(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Eo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Oa,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),Sa||l){if(null!==(r=Dl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Oo(e,i),iu(r,e,i,-1))}return yu(),Ua(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Au.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,oo=di(i.nextSibling),io=t,so=!0,ao=null,null!==e&&(Ji[Xi++]=$i,Ji[Xi++]=Zi,Ji[Xi++]=Yi,$i=e.id,Zi=e.overflow,Yi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Lu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lu(r,a):(a=Ou(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,i}return e=(a=e.child).sibling,i=Lu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&yo(r),Eo(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Do(e.return,t,n)}function qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=ns.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ns,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===rs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===rs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qa(e,t){if(!so)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ja(e,t,n){var r=t.pendingProps;switch(ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Pi(t.type)&&Li(),Ga(t),null;case 3:return r=t.stateNode,Zo(),Ti(Di),Ti(Ni),os(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ao&&(lu(ao),ao=null))),Pa(e,t),Ga(t),null;case 5:ts(t);var i=Yo(Xo.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=Yo(Go.current),po(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[pi]=t,r[mi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&ei(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&ei(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ti)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pi]=t,e[mi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=J(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=O({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ve(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Ur("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ti)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Xo.current),Yo(Go.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(s=r.nodeValue!==n)&&null!==(e=io))switch(e.tag){case 3:ei(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ei(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ti(ns),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(so&&null!==oo&&0!==(1&t.mode)&&0===(128&t.flags))mo(),go(),t.flags|=98560,s=!1;else if(s=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[pi]=t}else go(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==ao&&(lu(ao),ao=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ns.current)?0===Ml&&(Ml=3):yu())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Zo(),Pa(e,t),null===e&&Wr(t.stateNode.containerInfo),Ga(t),null;case 10:return No(t.type._context),Ga(t),null;case 19:if(Ti(ns),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Qa(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=rs(e))){for(t.flags|=128,Qa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ns,1&ns.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Wl&&(t.flags|=128,r=!0,Qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=rs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!so)return Ga(t),null}else 2*Ye()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=ns.current,Ii(ns,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xa(e,t){switch(ro(t),t.tag){case 1:return Pi(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),Ti(Di),Ti(Ni),os(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ts(t),null;case 13:if(Ti(ns),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));go()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ns),null;case 4:return Zo(),null;case 10:return No(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Go.current);var o,s=null;switch(n){case"input":i=J(e,i),r=J(e,r),s=[];break;case"select":i=O({},i,{value:void 0}),r=O({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ti)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,$a=!1,Za="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var rl=!1;function il(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&nl(t,n,o)}i=i.next}while(i!==r)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pi],delete t[mi],delete t[yi],delete t[vi],delete t[bi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function ul(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ti));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||tl(n,t);case 6:var r=hl,i=fl;hl=null,pl(e,t,n),fl=i,null!==(hl=r)&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),qt(e)):ci(hl,n.stateNode));break;case 4:r=hl,i=fl,hl=n.stateNode.containerInfo,fl=!0,pl(e,t,n),hl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&nl(n,t,s),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!$a&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cu(n,t,a)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,pl(e,t,n),$a=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach(function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===hl)throw Error(o(160));ml(s,a,i),hl=null,fl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Cu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),bl(e),4&r){try{il(3,e,e.return),ol(3,e)}catch(g){Cu(e,e.return,g)}try{il(5,e,e.return)}catch(g){Cu(e,e.return,g)}}break;case 1:yl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(yl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Cu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(i,s),be(l,a);var c=be(l,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,c)}switch(l){case"input":$(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[mi]=s}catch(g){Cu(e,e.return,g)}}break;case 6:if(yl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Cu(e,e.return,g)}}break;case 3:if(yl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Cu(e,e.return,g)}break;case 4:default:yl(t,e),bl(e);break;case 13:yl(t,e),bl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Ye())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($a=(c=$a)||d,yl(t,e),$a=c):yl(t,e),bl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(p=(f=el).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:tl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cu(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==p?(p.return=f,el=p):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Cu(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Cu(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yl(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),dl(e,ul(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ul(e),s);break;default:throw Error(o(161))}}catch(on){Cu(e,e.return,on)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){el=e,Sl(e,t,n)}function Sl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var i=el,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Ya;var u=$a;if(Ya=s,($a=l)&&!u)for(el=i;null!==el;)l=(s=el).child,22===s.tag&&null!==s.memoizedState?_l(i):null!==l?(l.return=s,el=l):_l(i);for(;null!==o;)el=o,Sl(o,t,n),o=o.sibling;el=i,Ya=a,$a=u}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,el=o):xl(e)}}function xl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||ol(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ia(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ko(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ko(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(o(163))}$a||512&t.flags&&sl(t)}catch(f){Cu(t,t.return,f)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function _l(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ol(4,t)}catch(on){Cu(t,n,on)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(on){Cu(t,i,on)}}var o=t.return;try{sl(t)}catch(on){Cu(t,o,on)}break;case 5:var s=t.return;try{sl(t)}catch(on){Cu(t,s,on)}}}catch(on){Cu(t,t.return,on)}if(t===e){el=null;break}var a=t.sibling;if(null!==a){a.return=t.return,el=a;break}el=t.return}}var kl,Cl=Math.ceil,Tl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Al=w.ReactCurrentBatchConfig,Nl=0,Dl=null,jl=null,Rl=0,Pl=0,Ll=Ci(0),Ml=0,Ol=null,Fl=0,zl=0,Vl=0,Ul=null,Bl=null,ql=0,Wl=1/0,Hl=null,Kl=!1,Ql=null,Gl=null,Jl=!1,Xl=null,Yl=0,$l=0,Zl=null,eu=-1,tu=0;function nu(){return 0!==(6&Nl)?Ye():-1!==eu?eu:eu=Ye()}function ru(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Rl?Rl&-Rl:null!==vo.transition?(0===tu&&(tu=mt()),tu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function iu(e,t,n,r){if(50<$l)throw $l=0,Zl=null,Error(o(185));yt(e,n,r),0!==(2&Nl)&&e===Dl||(e===Dl&&(0===(2&Nl)&&(zl|=n),4===Ml&&uu(e,Rl)),ou(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Wl=Ye()+500,Ui&&Wi()))}function ou(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Dl?Rl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,qi(e)}(cu.bind(null,e)):qi(cu.bind(null,e)),li(function(){0===(6&Nl)&&Wi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Du(n,su.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function su(e,t){if(eu=-1,tu=0,0!==(6&Nl))throw Error(o(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=ht(e,e===Dl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Nl;Nl|=2;var s=gu();for(Dl===e&&Rl===t||(Hl=null,Wl=Ye()+500,pu(e,t));;)try{wu();break}catch(l){mu(e,l)}Ao(),Tl.current=s,Nl=i,null!==jl?t=0:(Dl=null,Rl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=Ol,pu(e,0),uu(e,r),ou(e,Ye()),n;if(6===t)uu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(s=pt(e))&&(r=s,t=au(e,s))),1===t))throw n=Ol,pu(e,0),uu(e,r),ou(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Eu(e,Bl,Hl);break;case 3:if(uu(e,r),(130023424&r)===r&&10<(t=ql+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=oi(Eu.bind(null,e,Bl,Hl),t);break}Eu(e,Bl,Hl);break;case 4:if(uu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=oi(Eu.bind(null,e,Bl,Hl),r);break}Eu(e,Bl,Hl);break;default:throw Error(o(329))}}}return ou(e,Ye()),e.callbackNode===n?su.bind(null,e):null}function au(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Bl,Bl=n,null!==t&&lu(t)),e}function lu(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function uu(e,t){for(t&=~Vl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(0!==(6&Nl))throw Error(o(327));_u();var t=ht(e,0);if(0===(1&t))return ou(e,Ye()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Ol,pu(e,0),uu(e,t),ou(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Bl,Hl),ou(e,Ye()),null}function du(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Wl=Ye()+500,Ui&&Wi())}}function hu(e){null!==Xl&&0===Xl.tag&&0===(6&Nl)&&_u();var t=Nl;Nl|=1;var n=Al.transition,r=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=r,Al.transition=n,0===(6&(Nl=t))&&Wi()}}function fu(){Pl=Ll.current,Ti(Ll)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,si(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ro(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:Zo(),Ti(Di),Ti(Ni),os();break;case 5:ts(r);break;case 4:Zo();break;case 13:case 19:Ti(ns);break;case 10:No(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Dl=e,jl=e=Lu(e.current,null),Rl=Pl=t,Ml=0,Ol=null,Vl=zl=Fl=0,Bl=Ul=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Po=null}return e}function mu(e,t){for(;;){var n=jl;try{if(Ao(),ss.current=ea,hs){for(var r=us.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}hs=!1}if(ls=0,ds=cs=us=null,fs=!1,ps=0,Il.current=null,null===n||null===n.return){Ml=1,Ol=t,jl=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ba(p,a,l,0,t),1&p.mode&&ya(s,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ya(s,c,t),yu();break e}u=Error(o(426))}else if(so&&1&l.mode){var y=va(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ba(y,a,l,0,t),yo(da(u,l));break e}}s=u=da(u,l),4!==Ml&&(Ml=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Wo(s,ma(0,u,t));break e;case 1:l=u;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Wo(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}xu(n)}catch(w){t=w,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function gu(){var e=Tl.current;return Tl.current=ea,null===e?ea:e}function yu(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Dl||0===(268435455&Fl)&&0===(268435455&zl)||uu(Dl,Rl)}function vu(e,t){var n=Nl;Nl|=2;var r=gu();for(Dl===e&&Rl===t||(Hl=null,pu(e,t));;)try{bu();break}catch(i){mu(e,i)}if(Ao(),Nl=n,Tl.current=r,null!==jl)throw Error(o(261));return Dl=null,Rl=0,Ml}function bu(){for(;null!==jl;)Su(jl)}function wu(){for(;null!==jl&&!Je();)Su(jl)}function Su(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xu(e):jl=t,Il.current=null}function xu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ja(n,t,Pl)))return void(jl=n)}else{if(null!==(n=Xa(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Ml=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Eu(e,t,n){var r=bt,i=Al.transition;try{Al.transition=null,bt=1,function(e,t,n,r){do{_u()}while(null!==Xl);if(0!==(6&Nl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Dl&&(jl=Dl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Du(tt,function(){return _u(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Al.transition,Al.transition=null;var a=bt;bt=1;var l=Nl;Nl|=4,Il.current=null,function(e,t){if(ni=Ht,mr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(kt){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(u=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++d===r&&(u=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ri={focusedElem:e,selectionRange:n},Ht=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ia(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(kt){Cu(t,t.return,kt)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}m=rl,rl=!1}(e,n),vl(n,e),gr(ri),Ht=!!ni,ri=ni=null,e.current=n,wl(n,e,i),Xe(),Nl=l,bt=a,Al.transition=s}else e.current=n;if(Jl&&(Jl=!1,Xl=e,Yl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ou(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Ql,Ql=null,e;0!==(1&Yl)&&0!==e.tag&&_u(),s=e.pendingLanes,0!==(1&s)?e===Zl?$l++:($l=0,Zl=e):$l=0,Wi()}(e,t,n,r)}finally{Al.transition=i,bt=r}return null}function _u(){if(null!==Xl){var e=wt(Yl),t=Al.transition,n=bt;try{if(Al.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Nl))throw Error(o(331));var i=Nl;for(Nl|=4,el=e.current;null!==el;){var s=el,a=s.child;if(0!==(16&el.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(el=c;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:il(8,d,s)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var f=(d=el).sibling,p=d.return;if(al(d),d===c){el=null;break}if(null!==f){f.return=p,el=f;break}el=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}el=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,el=a;else e:for(;null!==el;){if(0!==(2048&(s=el).flags))switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,el=v;break e}el=s.return}}var b=e.current;for(el=b;null!==el;){var w=(a=el).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,el=w;else e:for(a=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(x){Cu(l,l.return,x)}if(l===a){el=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,el=S;break e}el=l.return}}if(Nl=i,Wi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Al.transition=t}}return!1}function ku(e,t,n){e=Bo(e,t=ma(0,t=da(n,t),1),1),t=nu(),null!==e&&(yt(e,1,t),ou(e,t))}function Cu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Bo(t,e=ga(t,e=da(n,e),1),1),e=nu(),null!==t&&(yt(t,1,e),ou(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nu(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Rl&n)===n&&(4===Ml||3===Ml&&(130023424&Rl)===Rl&&500>Ye()-ql?pu(e,0):Vl|=n),ou(e,t)}function Iu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=nu();null!==(e=Oo(e,t))&&(yt(e,t,n),ou(e,n))}function Au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Iu(e,n)}function Du(e,t){return Qe(e,t)}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new ju(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Pu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Ou(n.children,i,s,t);case _:a=8,i|=8;break;case k:return(e=Ru(12,n,t,2|i)).elementType=k,e.lanes=s,e;case A:return(e=Ru(13,n,t,i)).elementType=A,e.lanes=s,e;case N:return(e=Ru(19,n,t,i)).elementType=N,e.lanes=s,e;case R:return Fu(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case T:a=9;break e;case I:a=11;break e;case D:a=14;break e;case j:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ru(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ou(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Vu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,o,s,a,l){return e=new Uu(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ru(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zo(o),e}function qu(e){if(!e)return Ai;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Oi(e,n,t)}return t}function Wu(e,t,n,r,i,o,s,a,l){return(e=Bu(n,r,!0,e,0,o,0,a,l)).context=qu(null),n=e.current,(o=Uo(r=nu(),i=ru(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,yt(e,i,r),ou(e,r),e}function Hu(e,t,n,r){var i=t.current,o=nu(),s=ru(i);return n=qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,s))&&(iu(e,i,s,o),qo(e,i,s)),s}function Ku(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Qu(e,t),(e=e.alternate)&&Qu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)Sa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Sa=!1,function(e,t,n){switch(t.tag){case 3:Da(t),go();break;case 5:es(t);break;case 1:Pi(t.type)&&Fi(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ns,1&ns.current),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(Ii(ns,1&ns.current),null!==(e=Ka(e,t,n))?e.sibling:null);Ii(ns,1&ns.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ns,ns.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Ka(e,t,n)}(e,t,n);Sa=0!==(131072&e.flags)}else Sa=!1,so&&0!==(1048576&t.flags)&&to(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ri(t,Ni.current);jo(t,n),i=vs(null,t,r,e,i,n);var s=bs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Fi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,zo(t),i.updater=sa,t.stateNode=i,i._reactInternals=t,ca(t,r,e,n),t=Na(null,t,r,!0,s,n)):(t.tag=0,so&&s&&no(t),xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(r),e=ia(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Aa(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=_a(null,t,r,ia(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:ia(r,i),n);case 1:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:ia(r,i),n);case 3:e:{if(Da(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Vo(e,t),Ho(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=ja(e,t,r,n,i=da(Error(o(423)),t));break e}if(r!==i){t=ja(e,t,r,n,i=da(Error(o(424)),t));break e}for(oo=di(t.stateNode.containerInfo.firstChild),io=t,so=!0,ao=null,n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(go(),r===i){t=Ka(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return es(t),null===e&&ho(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ii(r,i)?a=null:null!==s&&ii(r,s)&&(t.flags|=32),Ta(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&ho(t),null;case 13:return za(e,t,n);case 4:return $o(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:ia(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ii(ko,r._currentValue),r._currentValue=a,null!==s)if(ur(s.value,a)){if(s.children===i.children&&!Di.current){t=Ka(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Uo(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Do(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Do(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,jo(t,n),r=r(i=Ro(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return i=ia(r=t.type,t.pendingProps),_a(e,t,r,i=ia(r.type,i),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ia(r,i),Ha(e,t),t.tag=1,Pi(r)?(e=!0,Fi(t)):e=!1,jo(t,n),la(t,r,i),ca(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return Ca(e,t,n)}throw Error(o(156,t.tag))};var Ju="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(){}function tc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Ku(s);a.call(e)}}Hu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Ku(s);o.call(e)}}var s=Wu(t,r,e,0,null,!1,0,"",ec);return e._reactRootContainer=s,e[gi]=s.current,Wr(8===e.nodeType?e.parentNode:e),hu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Ku(l);a.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",ec);return e._reactRootContainer=l,e[gi]=l.current,Wr(8===e.nodeType?e.parentNode:e),hu(function(){Hu(t,l,n,r)}),l}(n,t,e,i,r);return Ku(s)}Yu.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Yu.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu(function(){Hu(null,e,null,null)}),t[gi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ou(t,Ye()),0===(6&Nl)&&(Wl=Ye()+500,Wi()))}break;case 13:hu(function(){var t=Oo(e,1);if(null!==t){var n=nu();iu(t,e,1,n)}}),Gu(e,1)}},xt=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)iu(t,e,134217728,nu());Gu(e,134217728)}},Et=function(e){if(13===e.tag){var t=ru(e),n=Oo(e,t);if(null!==n)iu(n,e,t,nu());Gu(e,t)}},_t=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));Q(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=du,Ae=hu;var nc={usingClientEntryPoint:!1,Events:[Si,xi,Ei,Ce,Te,du]},rc={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{it=oc.inject(ic),ot=oc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$u(e))throw Error(o(299));var n=!1,r="",i=Ju;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[gi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Xu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(o(200));return tc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Ju;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,i,0,s,a),e[gi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(o(200));return tc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(o(40));return!!e._reactRootContainer&&(hu(function(){tc(null,null,e,!1,function(){e._reactRootContainer=null,e[gi]=null})}),!0)},t.unstable_batchedUpdates=du,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return tc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),i=n(391);const o=()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)("");return{user:e,setUser:t,loginUsername:n,setLoginUsername:i,loginPassword:o,setLoginPassword:s,handleLogin:(e,r)=>{const i=e.find(e=>e.username===n&&e.password===o);i?(t(i),localStorage.setItem("currentUser",JSON.stringify(i))):r("Identifiants incorrects","error")},handleLogout:()=>{t(null),localStorage.removeItem("currentUser"),i(""),s("")},loadUserFromStorage:()=>{const e=localStorage.getItem("currentUser");e&&t(JSON.parse(e))}}},s=()=>{const[e,t]=(0,r.useState)(null);return{notification:e,showNotification:function(e){t({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>t(null),3e3)}}};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function u(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new p;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class p extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m=function(e){return function(e){const t=h(e);return f.encodeByteArray(t,!0)}(e).replace(/\./g,"")},g=function(e){try{return f.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function y(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const v=()=>{try{return y().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SCRIPT_URL:"https://script.google.com/macros/s/AKfycbzcnM6ZokKfh9MD0fTjoZBVJVNmmS4WkmURjZ_HfCRjOiFMRR26LawfV6ArmrweSNwY/exec",REACT_APP_FIREBASE_API_KEY:"AIzaSyDuVUO1LV_EfPRNfdOJ1QRA9zp5SoWof5g",REACT_APP_FIREBASE_AUTH_DOMAIN:"ih-app-b8d8a.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"ih-app-b8d8a",REACT_APP_FIREBASE_STORAGE_BUCKET:"ih-app-b8d8a.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"807620143387",REACT_APP_FIREBASE_APP_ID:"1:807620143387:web:98bd92997dde9b3d060bbe",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-DR7FPKF7J8"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&g(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},b=e=>{const t=(e=>{var t;return null===(t=v())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},w=()=>{var e;return null===(e=v())||void 0===e?void 0:e.config};class S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function x(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const E={};let _=!1;function k(e,t){if("undefined"===typeof window||"undefined"===typeof document||!x(window.location.host)||E[e]===t||E[e]||_)return;function n(e){return"__firebase__banner__".concat(e)}E[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(E))E[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{_=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),u=n("preprendIcon"),c=document.getElementById(u)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,u),t.append(c,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function C(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){var e;const t=null===(e=v())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function I(){return!T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){try{return"object"===typeof indexedDB}catch(e){return!1}}function N(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class D extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(R,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new D(n,o,t)}}const R=/\{\$([^}]+)}/g;function P(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(L(n)&&L(o)){if(!P(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L(e){return null!==e&&"object"===typeof e}function M(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function O(e){return e&&e._delegate?e._delegate:e}class F{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const z="[DEFAULT]";class V{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new S;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:z})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===z?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.component?this.component.multipleInstances?e:z:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class U{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new V(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const B=[];var q;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(q||(q={}));const W={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},H=q.INFO,K={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},Q=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=K[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class G{constructor(e){this.name=e,this._logLevel=H,this._logHandler=Q,this._userLogHandler=null,B.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?W[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...t),this._logHandler(this,q.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...t),this._logHandler(this,q.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,q.INFO,...t),this._logHandler(this,q.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,q.WARN,...t),this._logHandler(this,q.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,q.ERROR,...t),this._logHandler(this,q.ERROR,...t)}}let J,X;const Y=new WeakMap,$=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap;let ne={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Z.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oe(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function re(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(se(this),n),oe(Y.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oe(e.apply(se(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(se(this),t,...r);return Z.set(o,t.sort?t.sort():[t]),oe(o)}}function ie(e){return"function"===typeof e?re(e):(e instanceof IDBTransaction&&function(e){if($.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});$.set(e,t)}(e),t=e,(J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ne):e);var t}function oe(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(oe(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Y.set(t,e)}).catch(()=>{}),te.set(t,e),t}(e);if(ee.has(e))return ee.get(e);const t=ie(e);return t!==e&&(ee.set(e,t),te.set(t,e)),t}const se=e=>te.get(e);function ae(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=oe(s);return r&&s.addEventListener("upgradeneeded",e=>{r(oe(s.result),e.oldVersion,e.newVersion,oe(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}const le=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],ce=new Map;function de(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ce.get(t))return ce.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ue.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!le.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return ce.set(t,o),o}ne=(e=>d(d({},e),{},{get:(t,n,r)=>de(t,n)||e.get(t,n,r),has:(t,n)=>!!de(t,n)||e.has(t,n)}))(ne);class he{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const fe="@firebase/app",pe="0.14.5",me=new G("@firebase/app"),ge="@firebase/app-compat",ye="@firebase/analytics-compat",ve="@firebase/analytics",be="@firebase/app-check-compat",we="@firebase/app-check",Se="@firebase/auth",xe="@firebase/auth-compat",Ee="@firebase/database",_e="@firebase/data-connect",ke="@firebase/database-compat",Ce="@firebase/functions",Te="@firebase/functions-compat",Ie="@firebase/installations",Ae="@firebase/installations-compat",Ne="@firebase/messaging",De="@firebase/messaging-compat",je="@firebase/performance",Re="@firebase/performance-compat",Pe="@firebase/remote-config",Le="@firebase/remote-config-compat",Me="@firebase/storage",Oe="@firebase/storage-compat",Fe="@firebase/firestore",ze="@firebase/ai",Ve="@firebase/firestore-compat",Ue="firebase",Be="[DEFAULT]",qe={[fe]:"fire-core",[ge]:"fire-core-compat",[ve]:"fire-analytics",[ye]:"fire-analytics-compat",[we]:"fire-app-check",[be]:"fire-app-check-compat",[Se]:"fire-auth",[xe]:"fire-auth-compat",[Ee]:"fire-rtdb",[_e]:"fire-data-connect",[ke]:"fire-rtdb-compat",[Ce]:"fire-fn",[Te]:"fire-fn-compat",[Ie]:"fire-iid",[Ae]:"fire-iid-compat",[Ne]:"fire-fcm",[De]:"fire-fcm-compat",[je]:"fire-perf",[Re]:"fire-perf-compat",[Pe]:"fire-rc",[Le]:"fire-rc-compat",[Me]:"fire-gcs",[Oe]:"fire-gcs-compat",[Fe]:"fire-fst",[Ve]:"fire-fst-compat",[ze]:"fire-vertex","fire-js":"fire-js",[Ue]:"fire-js-all"},We=new Map,He=new Map,Ke=new Map;function Qe(e,t){try{e.container.addComponent(t)}catch(n){me.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ge(e){const t=e.name;if(Ke.has(t))return me.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ke.set(t,e);for(const n of We.values())Qe(n,e);for(const n of He.values())Qe(n,e);return!0}function Je(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Xe=new j("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ye{constructor(e,t,n){this._isDeleted=!1,this._options=d({},e),this._config=d({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new F("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xe.create("app-deleted",{appName:this._name})}}function $e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=d({name:Be,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Xe.create("bad-app-name",{appName:String(i)});if(n||(n=w()),!n)throw Xe.create("no-options");const o=We.get(i);if(o){if(P(n,o.options)&&P(r,o.config))return o;throw Xe.create("duplicate-app",{appName:i})}const s=new U(i);for(const l of Ke.values())s.addComponent(l);const a=new Ye(n,r,s);return We.set(i,a),a}function Ze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;const t=We.get(e);if(!t&&e===Be&&w())return $e();if(!t)throw Xe.create("no-app",{appName:e});return t}function et(e,t,n){var r;let i=null!==(r=qe[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void me.warn(e.join(" "))}Ge(new F("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const tt="firebase-heartbeat-store";let nt=null;function rt(){return nt||(nt=ae("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(tt)}catch(n){console.warn(n)}}}).catch(e=>{throw Xe.create("idb-open",{originalErrorMessage:e.message})})),nt}async function it(e,t){try{const n=(await rt()).transaction(tt,"readwrite"),r=n.objectStore(tt);await r.put(t,ot(e)),await n.done}catch(n){if(n instanceof D)me.warn(n.message);else{const e=Xe.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});me.warn(e.message)}}}function ot(e){return"".concat(e.name,"!").concat(e.options.appId)}class st{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=at();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){me.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=at(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ut(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ut(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=m(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return me.warn(t),""}}}function at(){return(new Date).toISOString().substring(0,10)}class lt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!A()&&N().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await rt()).transaction(tt),n=await t.objectStore(tt).get(ot(e));return await t.done,n}catch(t){if(t instanceof D)me.warn(t.message);else{const e=Xe.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});me.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return it(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return it(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ut(e){return m(JSON.stringify({version:2,heartbeats:e})).length}var ct;ct="",Ge(new F("platform-logger",e=>new he(e),"PRIVATE")),Ge(new F("heartbeat",e=>new st(e),"PRIVATE")),et(fe,pe,ct),et(fe,pe,"esm2020"),et("fire-js","");var dt,ht,ft="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},pt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,s=e.g[3];o=t+(s^n&(i^s))+r[0]+3614090360&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[3]+3250441966&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[4]+4118548399&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[7]+4249261313&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[8]+1770035416&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[11]+2304563134&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[12]+1804603682&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[15]+1236535329&4294967295,o=t+(i^s&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[0]+3921069994&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[4]+3889429448&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[8]+1163531501&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^s)+r[5]+4294588738&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[1]+2763975236&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[13]+681279174&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[9]+3654602809&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~s))+r[0]+4096336452&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[12]+1700485571&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[8]+1873313359&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[4]+4149444226&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,s=0;for(;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),u=o(16777216);function c(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=o.add(r);u.l(e)<=0&&(i=i.add(n),o=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),u=(o=s(n)).j(t);d(u)||u.l(e)>0;)u=(o=s(n-=r)).j(t);c(o)&&(o=l),i=i.add(o),e=f(e,u)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let o=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(u)<0&&e.l(u)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),s=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=o*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=o*s,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,ht=pt.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+o),n);o<8?(o=s(Math.pow(n,o)),i=i.j(o).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},dt=pt.Integer=r}).apply("undefined"!==typeof ft?ft:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var mt,gt,yt,vt,bt,wt,St,xt,Et="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_t={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Et&&Et];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function c(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){o.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},S=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(x)}};function x(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function E(){this.u=this.u,this.C=this.C}function _(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},_.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function C(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){_.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}c(T,_),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var I="closure_listenable_"+(1e6*Math.random()|0),A=0;function N(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++A,this.da=this.fa=!1}function D(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<P.length;t++)n=P[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){this.src=e,this.g={},this.h=0}function O(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(D(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}M.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const s=F(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new N(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),V={};function U(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)U(e,t[o],n,r,i);return null}return n=X(n),e&&e[I]?e.J(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const a=s(i)?!!i.capture:!!i;let l=G(e);if(l||(e[z]=l=new M(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Q;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)k||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=X(n),e&&e[I]?e.K(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function W(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)W(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=X(n),e&&e[I]?(e=e.i,(o=String(t).toString())in e.g&&((n=F(t=e.g[o],n,r,i))>-1&&(D(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=G(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&H(n))}function H(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[I])O(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=G(t))?(O(n,e),0==n.h&&(n.src=null,t[z]=null)):D(e)}}}function K(e){return e in V?V[e]:V[e]="on"+e}function Q(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&H(e),e=n.call(r,t)}return e}function G(e){return(e=e[z])instanceof M?e:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[J]||(e[J]=function(t){return e.handleEvent(t)}),e[J])}function Y(){E.call(this),this.i=new M(this),this.M=this,this.G=null}function $(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new _(t,e);else if(t instanceof _)t.target=t.target||e;else{var i=t;L(t=new _(r,e),i)}let o,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)o=t.g=n[s],i=Z(o,r,!0,t)&&i;if(o=t.g=e,i=Z(o,r,!0,t)&&i,i=Z(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Z(o,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const s=t[o];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&O(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}c(Y,E),Y.prototype[I]=!0,Y.prototype.removeEventListener=function(e,t,n,r){W(this,e,t,n,r)},Y.prototype.N=function(){if(Y.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)D(n[e]);delete e.g[t],e.h--}}this.G=null},Y.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Y.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends E{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){E.call(this),this.h=e,this.g={}}c(ne,E);var re=[];function ie(e){j(e.g,function(e,t){this.g.hasOwnProperty(t)&&H(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,se=o.JSON.parse,ae=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ue(){}var ce={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){_.call(this,"d")}function he(){_.call(this,"c")}c(de,_),c(he,_);var fe={},pe=null;function me(){return pe=pe||new Y}function ge(e){_.call(this,fe.Ia,e)}function ye(e){const t=me();$(t,new ge(t))}function ve(e,t){_.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();$(t,new ve(t,e))}function we(e,t){_.call(this,fe.Ja,e),this.size=t}function Se(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function xe(){this.g=!0}function Ee(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",c(ge,_),fe.STAT_EVENT="statevent",c(ve,_),fe.Ja="timingevent",c(we,_),xe.prototype.ua=function(){this.g=!1},xe.prototype.info=function(){};var _e,ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function Ie(e){return encodeURIComponent(String(e))}function Ae(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ne(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}c(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},_e=new Te;var je={},Re={};function Pe(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Nt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new De,e.g=vn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=U(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var s="",a=o.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Me(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Oe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,ze(e,e.H)}function ze(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Se(l(e.aa,e),t)}function Ve(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function Ue(e){0==e.j.I||e.K||fn(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ge(n.h,e)))if(!e.L&&Ge(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),en(n)}un(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Se(l(n.Va,n),6e3));Qe(n.h)<=1&&n.ta&&(n.ta=void 0)}else mn(n,11)}else if((e.L||n.g==e)&&hn(n),!C(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const c=l[0];if(!(c<=n.K))if(n.K=c,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const c=l[5];null!=c&&"number"===typeof c&&c>0&&(r=1.5*c,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Je(o,o.h),o.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=yn(r,r.L?r.ba:null,r.W),s.L){Xe(r.h,s);var a=s,u=r.O;u&&(a.H=u),a.D&&(Ve(a),Fe(a)),r.g=s}else ln(r);n.i.length>0&&nn(n)}else"stop"!=l[0]&&"close"!=l[0]||mn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?mn(n,7):Zt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(c){}}Ne.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Jt(e)?t.j():this.Y(e)},Ne.prototype.Y=function(e){try{if(e==this.g)e:{const l=Jt(this.g),u=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||4!=l||7==u||ye(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Me(e))return e.g.la();const t=Xt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Jt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),Ue(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),Be(this),Ue(this);break e}Ee(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Oe(this,n),t==Re){4==l&&(this.m=4,be(14),e=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}if(t==je){this.m=4,be(15),Ee(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Ee(this.i,this.l,t,null),qe(this,t)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),cn(a),a.P=!0,be(11))}}else Ee(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),Ue(this)}else Ee(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?fn(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Jt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=Ae(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),Ue(this)}}}catch(on){}},Ne.prototype.cancel=function(){this.K=!0,Be(this)},Ne.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),Be(this),this.m=2,Ue(this)):ze(this,this.T-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function He(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qe(e){return e.h?1:e.g?e.g.size:0}function Ge(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Je(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ye(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}He.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var $e=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,Dt(e.i)),this.m=e.m):e&&(t=String(e).match($e))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(Tt(this,t),Nt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ut,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ut,!0),"@"),e.push(Ie(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?dt:ct,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,Dt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ut=/[#\/\?@]/g,ct=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Tt(e,t){kt(e),t=jt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return kt(e),t=jt(e,t),e.g.has(t)}function At(e,t){kt(e);let n=[];if("string"===typeof t)It(e,t)&&(n=n.concat(e.g.get(jt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function Nt(e,t,n){Tt(e,t),n.length>0&&(e.i=null,e.g.set(jt(e,t),h(n)),e.h+=n.length)}function Dt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Pt(){this.g=new ae}function Lt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Mt(e,t){Y.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ot(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ft(e){e.readyState=4,e.l=null,e.j=null,e.B=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return j(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ut(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&Ie(n):it(e,t,n))}function Bt(e){Y.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){kt(this),this.i=null,e=jt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return kt(this),this.i=null,It(this,e=jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=At(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ie(n);n=At(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ie(n[t])),e.push(r)}}return this.i=e.join("&")},c(Lt,le),Lt.prototype.g=function(){return new Mt(this.i,this.h)},c(Mt,Y),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ft(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ot(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ft(this):zt(this),3==this.readyState&&Ot(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ft(this))},e.Na=function(e){this.g&&(this.response=e,Ft(this))},e.ga=function(){this.g&&Ft(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),c(Bt,Y);var qt=/^https?$/i,Wt=["POST","PUT"];function Ht(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Kt(e),Gt(e)}function Kt(e){e.A||(e.A=!0,$(e,"complete"),$(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Jt(e))setTimeout(e.Ca.bind(e),0);else if($(e,"readystatechange"),4==Jt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match($e)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!qt.test(t?t.toLowerCase():"")}n=r}if(n)$(e,"complete"),$(e,"success");else{e.o=6;try{var s=Jt(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Kt(e)}}finally{Gt(e)}}}function Gt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||$(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Jt(e){return e.g?e.g.readyState:0}function Xt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Yt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $t(e){this.za=0,this.i=[],this.j=new xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yt("baseRetryDelayMs",5e3,e),this.Za=Yt("retryDelaySeedMs",1e4,e),this.Ta=Yt("forwardChannelMaxRetries",2,e),this.va=Yt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new He(e&&e.concurrentRequestLimit),this.Ba=new Pt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Zt(e){if(tn(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),sn(e,n),(t=new Ne(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=vn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}gn(e)}function en(e){e.g&&(cn(e),e.g.cancel(),e.g=null)}function tn(e){en(e),e.v&&(o.clearTimeout(e.v),e.v=null),hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function nn(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||S(),b||(v(),b=!0),w.add(t,e),e.D=0}}function rn(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),sn(e,r),e.u&&e.o&&Ut(r,e.u,e.o),n=new Ne(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=an(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Je(e.h,n),Pe(n,r,t)}function sn(e,t){e.H&&j(e.H,function(e,n){it(t,n,e)}),e.l&&j({},function(e,n){it(t,n,e)})}function an(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var o=i[u].g;const n=i[u].map;if((o-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(Ct){throw e.push(o+"type="+encodeURIComponent("_badmap")),Ct}}catch(Ct){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||S(),b||(v(),b=!0),w.add(t,e),e.A=0}}function un(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Se(l(e.Da,e),pn(e,e.A)),e.A++,!0)}function cn(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function dn(e){e.g=new Ne(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),sn(e,t),e.u&&e.o&&Ut(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,Le(n,e)}function hn(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function fn(e,t){var n=null;if(e.g==t){hn(e),cn(e),e.g=null;var r=2}else{if(!Ge(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;$(r=me(),new we(r,n)),nn(e)}else ln(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Qe(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Se(l(e.Ea,e,t),pn(e,e.D)),e.D++,!0))}(e,t)||2==r&&un(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function pn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new xe;if(o.Image){const r=new Image;r.onload=u(Rt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Rt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Rt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Rt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Rt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Rt(0,0,!0,t):Rt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Rt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),gn(e),tn(e)}function gn(e){if(e.I=0,e.ja=[],e.l){const t=Ye(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function yn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),sn(e,r),r}function vn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Bt(new Lt({ab:n})):new Bt(e.ma)).Fa(e.L),t}function bn(){}function wn(){}function Sn(e,t){Y.call(this),this.g=new $t(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!C(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _n(this)}function xn(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function En(){he.call(this),this.status=1}function _n(e){this.g=e}(e=Bt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_e.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ht(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(Wt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ht(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,$(this,"complete"),$(this,"abort"),Gt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gt(this,!0)),Bt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qt(this):this.Xa())},e.Xa=function(){Qt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Jt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=$t.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=yn(this,null,this.W),nn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ne(this,this.j,e);let o=this.o;if(this.U&&(o?(o=R(o),L(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=an(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),sn(this,n),o&&(this.R?t="headers="+Ie(Vt(o))+"&"+t:this.u&&Ut(n,this.u,o)),Je(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Pe(i,n,null)):Pe(i,n,t),this.I=2}}else 3==this.I&&(e?rn(this,e):0==this.i.length||Ke(this.h)||rn(this))},e.Da=function(){if(this.v=null,dn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Se(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),en(this),dn(this))},e.Va=function(){null!=this.C&&(this.C=null,en(this),un(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},wn.prototype.g=function(e,t){return new Sn(e,t)},c(Sn,Y),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Zt(this.g)},Sn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.I&&nn(t)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,Sn.Z.N.call(this)},c(xn,de),c(En,he),c(_n,bn),_n.prototype.ra=function(){$(this.g,"a")},_n.prototype.qa=function(e){$(this.g,new xn(e))},_n.prototype.pa=function(e){$(this.g,new En)},_n.prototype.oa=function(){$(this.g,"b")},wn.prototype.createWebChannel=wn.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,xt=_t.createWebChannelTransport=function(){return new wn},St=_t.getStatEventTarget=function(){return me()},wt=_t.Event=fe,bt=_t.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,vt=_t.ErrorCode=ke,Ce.COMPLETE="complete",yt=_t.EventType=Ce,ue.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",Y.prototype.listen=Y.prototype.J,gt=_t.WebChannel=ue,_t.FetchXmlHttpFactory=Lt,Bt.prototype.listenOnce=Bt.prototype.K,Bt.prototype.getLastError=Bt.prototype.Ha,Bt.prototype.getLastErrorCode=Bt.prototype.ya,Bt.prototype.getStatus=Bt.prototype.ca,Bt.prototype.getResponseJson=Bt.prototype.La,Bt.prototype.getResponseText=Bt.prototype.la,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Fa,mt=_t.XhrIo=Bt}).apply("undefined"!==typeof Et?Et:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const kt="@firebase/firestore",Ct="4.9.2";class Tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");let It="12.3.0";const At=new G("@firebase/firestore");function Nt(){return At.logLevel}function Dt(e){if(At.logLevel<=q.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Pt);At.debug("Firestore (".concat(It,"): ").concat(e),...i)}}function jt(e){if(At.logLevel<=q.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Pt);At.error("Firestore (".concat(It,"): ").concat(e),...i)}}function Rt(e){if(At.logLevel<=q.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Pt);At.warn("Firestore (".concat(It,"): ").concat(e),...i)}}function Pt(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Lt(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Mt(e,r,n)}function Mt(e,t,n){let r="FIRESTORE (".concat(It,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw jt(r),new Error(r)}function Ot(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Mt(t,i,r)}function Ft(e,t){return e}const zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends D{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ut{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Bt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class qt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tt.UNAUTHENTICATED))}shutdown(){}}class Wt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ht{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ot(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ut,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ut)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ot("string"==typeof t.accessToken,31837,{l:t}),new Bt(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e,2055,{h:e}),new Tt(e)}}class Kt{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qt{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Kt(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jt{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ot(void 0===this.o,3512);const n=e=>{null!=e.error&&Dt("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Dt("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gt(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ot("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Gt(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xt(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Yt{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Xt(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function $t(e,t){return e<t?-1:e>t?1:0}function Zt(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return nn(n)===nn(i)?$t(n,i):nn(n)?1:-1}return $t(e.length,t.length)}const en=55296,tn=57343;function nn(e){const t=e.charCodeAt(0);return t>=en&&t<=tn}function rn(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const on="__name__";class sn{constructor(e,t,n){void 0===t?t=0:t>e.length&&Lt(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Lt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===sn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sn?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=sn.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return $t(e.length,t.length)}static compareSegments(e,t){const n=sn.isNumericId(e),r=sn.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?sn.extractNumericId(e).compare(sn.extractNumericId(t)):Zt(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dt.fromString(e.substring(4,e.length-2))}}class an extends sn{construct(e,t,n){return new an(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Vt(zt.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new an(e)}static emptyPath(){return new an([])}}const ln=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends sn{construct(e,t,n){return new un(e,t,n)}static isValidIdentifier(e){return ln.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===on}static keyField(){return new un([on])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Vt(zt.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Vt(zt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Vt(zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Vt(zt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}class cn{constructor(e){this.path=e}static fromPath(e){return new cn(an.fromString(e))}static fromName(e){return new cn(an.fromString(e).popFirst(5))}static empty(){return new cn(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new cn(new an(e.slice()))}}function dn(e,t,n){if(!n)throw new Vt(zt.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function hn(e){if(!cn.isDocumentKey(e))throw new Vt(zt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function fn(e){if(cn.isDocumentKey(e))throw new Vt(zt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function pn(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function mn(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Lt(12329,{type:typeof e})}function gn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vt(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mn(e);throw new Vt(zt.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function yn(e,t){const n={typeString:e};return t&&(n.value=t),n}function vn(e,t){if(!pn(e))throw new Vt(zt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new Vt(zt.INVALID_ARGUMENT,n);return!0}const bn=-62135596800,wn=1e6;class Sn{static now(){return Sn.fromMillis(Date.now())}static fromDate(e){return Sn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*wn);return new Sn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vt(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vt(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bn)throw new Vt(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vt(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wn}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Sn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vn(e,Sn._jsonSchema))return new Sn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bn;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Sn._jsonSchemaVersion="firestore/timestamp/1.0",Sn._jsonSchema={type:yn("string",Sn._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};class xn{static fromTimestamp(e){return new xn(e)}static min(){return new xn(new Sn(0,0))}static max(){return new xn(new Sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const En=-1;class _n{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_n.UNKNOWN_ID=-1;function kn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xn.fromTimestamp(1e9===r?new Sn(n+1,0):new Sn(n,r));return new Tn(i,cn.empty(),t)}function Cn(e){return new Tn(e.readTime,e.key,En)}class Tn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Tn(xn.min(),cn.empty(),En)}static max(){return new Tn(xn.max(),cn.empty(),En)}}function In(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=cn.comparator(e.documentKey,t.documentKey),0!==n?n:$t(e.largestBatchId,t.largestBatchId))}const An="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Dn(e){if(e.code!==zt.FAILED_PRECONDITION||e.message!==An)throw e;Dt("LocalStore","Unexpectedly lost primary lease")}class jn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new jn((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof jn?t:jn.resolve(t)}catch(e){return jn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):jn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):jn.reject(t)}static resolve(e){return new jn((t,n)=>{t(e)})}static reject(e){return new jn((t,n)=>{n(e)})}static waitFor(e){return new jn((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=jn.resolve(!1);for(const n of e)t=t.next(e=>e?jn.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new jn((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new jn((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Rn(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pn(e){return"IndexedDbTransactionError"===e.name}class Ln{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ln.ce=-1;const Mn=-1;function On(e){return null==e}function Fn(e){return 0===e&&1/e==-1/0}function zn(e){return"number"==typeof e&&Number.isInteger(e)&&!Fn(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Vn="\x01";function Un(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=qn(t)),t=Bn(e.get(n),t);return qn(t)}function Bn(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Vn:n+="\x01\x11";break;default:n+=t}}return n}function qn(e){return e+Vn+"\x01"}const Wn="remoteDocuments",Hn="owner",Kn="mutationQueues",Qn="mutations";const Gn="documentMutations",Jn="remoteDocumentsV14",Xn="remoteDocumentGlobal",Yn="targets",$n="targetDocuments",Zn="targetGlobal",er="collectionParents",tr="clientMetadata",nr="bundles",rr="namedQueries",ir="indexConfiguration",or="indexState",sr="indexEntries",ar="documentOverlays",lr="globals",ur=[Kn,Qn,Gn,Wn,Yn,Hn,Zn,$n,tr,Xn,er,nr,rr],cr=[Kn,Qn,Gn,Jn,Yn,Hn,Zn,$n,tr,Xn,er,nr,rr,ar],dr=cr,hr=[...dr,ir,or,sr];function fr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class gr{constructor(e,t){this.comparator=e,this.root=t||vr.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yr(this.root,e,this.comparator,!1)}getReverseIterator(){return new yr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yr(this.root,e,this.comparator,!0)}}class yr{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:vr.RED,this.left=null!=r?r:vr.EMPTY,this.right=null!=i?i:vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new vr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vr.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Lt(27949);return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1,vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt(57766)}get value(){throw Lt(16141)}get color(){throw Lt(16727)}get left(){throw Lt(29726)}get right(){throw Lt(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new vr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class br{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wr(this.data.getIterator())}getIteratorFrom(e){return new wr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof br))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new br(this.comparator);return t.data=e,t}}class wr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sr{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Sr([])}unionWith(e){let t=new br(un.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rn(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class xr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xr("Invalid base64 string: "+e):e}}(e);return new Er(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const _r=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(e){if(Ot(!!e,39018),"string"==typeof e){let t=0;const n=_r.exec(e);if(Ot(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Cr(e.seconds),nanos:Cr(e.nanos)}}function Cr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tr(e){return"string"==typeof e?Er.fromBase64String(e):Er.fromUint8Array(e)}const Ir="server_timestamp",Ar="__type__",Nr="__previous_value__",Dr="__local_write_time__";function jr(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ar])||void 0===t?void 0:t.stringValue)===Ir}function Rr(e){const t=e.mapValue.fields[Nr];return jr(t)?Rr(t):t}function Pr(e){const t=kr(e.mapValue.fields[Dr].timestampValue);return new Sn(t.seconds,t.nanos)}class Lr{constructor(e,t,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=u}}const Mr="(default)";class Or{constructor(e,t){this.projectId=e,this.database=t||Mr}static empty(){return new Or("","")}get isDefaultDatabase(){return this.database===Mr}isEqual(e){return e instanceof Or&&e.projectId===this.projectId&&e.database===this.database}}const Fr="__type__",zr="__max__",Vr={mapValue:{fields:{__type__:{stringValue:zr}}}},Ur="__vector__",Br="value";function qr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jr(e)?4:oi(e)?9007199254740991:ri(e)?10:11:Lt(28295,{value:e})}function Wr(e,t){if(e===t)return!0;const n=qr(e);if(n!==qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pr(e).isEqual(Pr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=kr(e.timestampValue),r=kr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Tr(e.bytesValue).isEqual(Tr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cr(e.geoPointValue.latitude)===Cr(t.geoPointValue.latitude)&&Cr(e.geoPointValue.longitude)===Cr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cr(e.integerValue)===Cr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Cr(e.doubleValue),r=Cr(t.doubleValue);return n===r?Fn(n)===Fn(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rn(e.arrayValue.values||[],t.arrayValue.values||[],Wr);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fr(n)!==fr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wr(n[i],r[i])))return!1;return!0}(e,t);default:return Lt(52216,{left:e})}}function Hr(e,t){return void 0!==(e.values||[]).find(e=>Wr(e,t))}function Kr(e,t){if(e===t)return 0;const n=qr(e),r=qr(t);if(n!==r)return $t(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $t(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Cr(e.integerValue||e.doubleValue),r=Cr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qr(e.timestampValue,t.timestampValue);case 4:return Qr(Pr(e),Pr(t));case 5:return Zt(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Tr(e),r=Tr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=$t(n[i],r[i]);if(0!==e)return e}return $t(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$t(Cr(e.latitude),Cr(t.latitude));return 0!==n?n:$t(Cr(e.longitude),Cr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Gr(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,o){const s=e.fields||{},a=t.fields||{},l=null===(n=s[Br])||void 0===n?void 0:n.arrayValue,u=null===(r=a[Br])||void 0===r?void 0:r.arrayValue,c=$t((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===u||void 0===u||null===(o=u.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:Gr(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Vr.mapValue&&t===Vr.mapValue)return 0;if(e===Vr.mapValue)return 1;if(t===Vr.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Zt(r[s],o[s]);if(0!==e)return e;const t=Kr(n[r[s]],i[o[s]]);if(0!==t)return t}return $t(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Lt(23264,{he:n})}}function Qr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $t(e,t);const n=kr(e),r=kr(t),i=$t(n.seconds,r.seconds);return 0!==i?i:$t(n.nanos,r.nanos)}function Gr(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Kr(n[i],r[i]);if(e)return e}return $t(n.length,r.length)}function Jr(e){return Xr(e)}function Xr(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=kr(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Tr(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return cn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xr(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Xr(e.fields[i]));return n+"}"}(e.mapValue):Lt(61005,{value:e})}function Yr(e){switch(qr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rr(e);return t?16+Yr(t):16;case 5:return 2*e.stringValue.length;case 6:return Tr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Yr(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return pr(e.fields,(e,n)=>{t+=e.length+Yr(n)}),t}(e.mapValue);default:throw Lt(13486,{value:e})}}function $r(e){return!!e&&"integerValue"in e}function Zr(e){return!!e&&"arrayValue"in e}function ei(e){return!!e&&"nullValue"in e}function ti(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ni(e){return!!e&&"mapValue"in e}function ri(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Fr])||void 0===t?void 0:t.stringValue)===Ur}function ii(e){if(e.geoPointValue)return{geoPointValue:d({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:d({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return pr(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ii(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ii(e.arrayValue.values[n]);return t}return d({},e)}function oi(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===zr}class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ni(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ii(t)}setAll(e){let t=un.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ii(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ni(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ni(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){pr(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new si(ii(this.value))}}function ai(e){const t=[];return pr(e.fields,(e,n)=>{const r=new un([e]);if(ni(n)){const e=ai(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Sr(t)}class li{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new li(e,0,xn.min(),xn.min(),xn.min(),si.empty(),0)}static newFoundDocument(e,t,n,r){return new li(e,1,t,xn.min(),n,r,0)}static newNoDocument(e,t){return new li(e,2,t,xn.min(),xn.min(),si.empty(),0)}static newUnknownDocument(e,t){return new li(e,3,t,xn.min(),xn.min(),si.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ui{constructor(e,t){this.position=e,this.inclusive=t}}function ci(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?cn.comparator(cn.fromName(s.referenceValue),n.key):Kr(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function di(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Wr(e.position[n],t.position[n]))return!1;return!0}class hi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function fi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class pi{}class mi extends pi{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ei(e,t,n):"array-contains"===t?new Ti(e,n):"in"===t?new Ii(e,n):"not-in"===t?new Ai(e,n):"array-contains-any"===t?new Ni(e,n):new mi(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new _i(e,n):new ki(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Kr(t,this.value)):null!==t&&qr(this.value)===qr(t)&&this.matchesComparison(Kr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends pi{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new gi(e,t)}matches(e){return yi(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yi(e){return"and"===e.op}function vi(e){return bi(e)&&yi(e)}function bi(e){for(const t of e.filters)if(t instanceof gi)return!1;return!0}function wi(e){if(e instanceof mi)return e.field.canonicalString()+e.op.toString()+Jr(e.value);if(vi(e))return e.filters.map(e=>wi(e)).join(",");{const t=e.filters.map(e=>wi(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Si(e,t){return e instanceof mi?function(e,t){return t instanceof mi&&e.op===t.op&&e.field.isEqual(t.field)&&Wr(e.value,t.value)}(e,t):e instanceof gi?function(e,t){return t instanceof gi&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Si(n,t.filters[r]),!0)}(e,t):void Lt(19439)}function xi(e){return e instanceof mi?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Jr(e.value))}(e):e instanceof gi?function(e){return e.op.toString()+" {"+e.getFilters().map(xi).join(" ,")+"}"}(e):"Filter"}class Ei extends mi{constructor(e,t,n){super(e,t,n),this.key=cn.fromName(n.referenceValue)}matches(e){const t=cn.comparator(e.key,this.key);return this.matchesComparison(t)}}class _i extends mi{constructor(e,t){super(e,"in",t),this.keys=Ci("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ki extends mi{constructor(e,t){super(e,"not-in",t),this.keys=Ci("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ci(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>cn.fromName(e.referenceValue))}class Ti extends mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zr(t)&&Hr(t.arrayValue,this.value)}}class Ii extends mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hr(this.value.arrayValue,t)}}class Ai extends mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Hr(this.value.arrayValue,t)}}class Ni extends mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Hr(this.value.arrayValue,e))}}class Di{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function ji(e){return new Di(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ri(e){const t=Ft(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>wi(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),On(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Jr(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Jr(e)).join(",")),t.Te=e}return t.Te}function Pi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Si(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!di(e.startAt,t.startAt)&&di(e.endAt,t.endAt)}function Li(e){return cn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Mi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Oi(e,t,n,r,i,o,s,a){return new Mi(e,t,n,r,i,o,s,a)}function Fi(e){return new Mi(e)}function zi(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vi(e){return null!==e.collectionGroup}function Ui(e){const t=Ft(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new br(un.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new hi(r,n))}),e.has(un.keyField().canonicalString())||t.Ie.push(new hi(un.keyField(),n))}return t.Ie}function Bi(e){const t=Ft(e);return t.Ee||(t.Ee=qi(t,Ui(e))),t.Ee}function qi(e,t){if("F"===e.limitType)return ji(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new hi(e.field,t)});const n=e.endAt?new ui(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ui(e.startAt.position,e.startAt.inclusive):null;return ji(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Wi(e,t,n){return new Mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hi(e,t){return Pi(Bi(e),Bi(t))&&e.limitType===t.limitType}function Ki(e){return"".concat(Ri(Bi(e)),"|lt:").concat(e.limitType)}function Qi(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>xi(e)).join(", "),"]")),On(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Jr(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Jr(e)).join(",")),"Target(".concat(t,")")}(Bi(e)),"; limitType=").concat(e.limitType,")")}function Gi(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ui(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ci(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ui(e),t))&&!(e.endAt&&!function(e,t,n){const r=ci(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ui(e),t))}(e,t)}function Ji(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xi(e){return(t,n)=>{let r=!1;for(const i of Ui(e)){const e=Yi(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Yi(e,t,n){const r=e.field.isKeyField()?cn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Kr(r,i):Lt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Lt(19790,{direction:e.dir})}}class $i{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pr(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return mr(this.inner)}size(){return this.innerSize}}const Zi=new gr(cn.comparator);function eo(){return Zi}const to=new gr(cn.comparator);function no(){let e=to;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ro(e){let t=to;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function io(){return so()}function oo(){return so()}function so(){return new $i(e=>e.toString(),(e,t)=>e.isEqual(t))}const ao=new gr(cn.comparator),lo=new br(cn.comparator);function uo(){let e=lo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const co=new br($t);function ho(){return co}function fo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fn(t)?"-0":t}}function po(e){return{integerValue:""+e}}function mo(e,t){return zn(t)?po(t):fo(e,t)}class go{constructor(){this._=void 0}}function yo(e,t,n){return e instanceof wo?function(e,t){const n={fields:{[Ar]:{stringValue:Ir},[Dr]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&jr(t)&&(t=Rr(t)),t&&(n.fields[Nr]=t),{mapValue:n}}(n,t):e instanceof So?xo(e,t):e instanceof Eo?_o(e,t):function(e,t){const n=bo(e,t),r=Co(n)+Co(e.Ae);return $r(n)&&$r(e.Ae)?po(r):fo(e.serializer,r)}(e,t)}function vo(e,t,n){return e instanceof So?xo(e,t):e instanceof Eo?_o(e,t):n}function bo(e,t){return e instanceof ko?function(e){return $r(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class wo extends go{}class So extends go{constructor(e){super(),this.elements=e}}function xo(e,t){const n=To(t);for(const r of e.elements)n.some(e=>Wr(e,r))||n.push(r);return{arrayValue:{values:n}}}class Eo extends go{constructor(e){super(),this.elements=e}}function _o(e,t){let n=To(t);for(const r of e.elements)n=n.filter(e=>!Wr(e,r));return{arrayValue:{values:n}}}class ko extends go{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Co(e){return Cr(e.integerValue||e.doubleValue)}function To(e){return Zr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Io{constructor(e,t){this.version=e,this.transformResults=t}}class Ao{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ao}static exists(e){return new Ao(void 0,e)}static updateTime(e){return new Ao(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Do{}function jo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Bo(e.key,Ao.none()):new Oo(e.key,e.data,Ao.none());{const n=e.data,r=si.empty();let i=new br(un.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Fo(e.key,r,new Sr(i.toArray()),Ao.none())}}function Ro(e,t,n){e instanceof Oo?function(e,t,n){const r=e.value.clone(),i=Vo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Fo?function(e,t,n){if(!No(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Vo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(zo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Po(e,t,n,r){return e instanceof Oo?function(e,t,n,r){if(!No(e.precondition,t))return n;const i=e.value.clone(),o=Uo(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Fo?function(e,t,n,r){if(!No(e.precondition,t))return n;const i=Uo(e.fieldTransforms,r,t),o=t.data;return o.setAll(zo(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return No(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Lo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=bo(r.transform,e||null);null!=i&&(null===n&&(n=si.empty()),n.set(r.field,i))}return n||null}function Mo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rn(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof So&&t instanceof So||e instanceof Eo&&t instanceof Eo?rn(e.elements,t.elements,Wr):e instanceof ko&&t instanceof ko?Wr(e.Ae,t.Ae):e instanceof wo&&t instanceof wo}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Oo extends Do{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fo extends Do{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zo(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Vo(e,t,n){const r=new Map;Ot(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,vo(s,a,n[i]))}return r}function Uo(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,yo(e,o,t))}return r}class Bo extends Do{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qo extends Do{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wo{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ro(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Po(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Po(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=oo();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=jo(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(xn.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),uo())}isEqual(e){return this.batchId===e.batchId&&rn(this.mutations,e.mutations,(e,t)=>Mo(e,t))&&rn(this.baseMutations,e.baseMutations,(e,t)=>Mo(e,t))}}class Ho{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ot(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=ao;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Ho(e,t,n,r)}}class Ko{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Qo{constructor(e,t){this.count=e,this.unchangedNames=t}}var Go,Jo;function Xo(e){switch(e){case zt.OK:return Lt(64938);case zt.CANCELLED:case zt.UNKNOWN:case zt.DEADLINE_EXCEEDED:case zt.RESOURCE_EXHAUSTED:case zt.INTERNAL:case zt.UNAVAILABLE:case zt.UNAUTHENTICATED:return!1;case zt.INVALID_ARGUMENT:case zt.NOT_FOUND:case zt.ALREADY_EXISTS:case zt.PERMISSION_DENIED:case zt.FAILED_PRECONDITION:case zt.ABORTED:case zt.OUT_OF_RANGE:case zt.UNIMPLEMENTED:case zt.DATA_LOSS:return!0;default:return Lt(15467,{code:e})}}function Yo(e){if(void 0===e)return jt("GRPC error has no .code"),zt.UNKNOWN;switch(e){case Go.OK:return zt.OK;case Go.CANCELLED:return zt.CANCELLED;case Go.UNKNOWN:return zt.UNKNOWN;case Go.DEADLINE_EXCEEDED:return zt.DEADLINE_EXCEEDED;case Go.RESOURCE_EXHAUSTED:return zt.RESOURCE_EXHAUSTED;case Go.INTERNAL:return zt.INTERNAL;case Go.UNAVAILABLE:return zt.UNAVAILABLE;case Go.UNAUTHENTICATED:return zt.UNAUTHENTICATED;case Go.INVALID_ARGUMENT:return zt.INVALID_ARGUMENT;case Go.NOT_FOUND:return zt.NOT_FOUND;case Go.ALREADY_EXISTS:return zt.ALREADY_EXISTS;case Go.PERMISSION_DENIED:return zt.PERMISSION_DENIED;case Go.FAILED_PRECONDITION:return zt.FAILED_PRECONDITION;case Go.ABORTED:return zt.ABORTED;case Go.OUT_OF_RANGE:return zt.OUT_OF_RANGE;case Go.UNIMPLEMENTED:return zt.UNIMPLEMENTED;case Go.DATA_LOSS:return zt.DATA_LOSS;default:return Lt(39323,{code:e})}}(Jo=Go||(Go={}))[Jo.OK=0]="OK",Jo[Jo.CANCELLED=1]="CANCELLED",Jo[Jo.UNKNOWN=2]="UNKNOWN",Jo[Jo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jo[Jo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jo[Jo.NOT_FOUND=5]="NOT_FOUND",Jo[Jo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jo[Jo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jo[Jo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jo[Jo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jo[Jo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jo[Jo.ABORTED=10]="ABORTED",Jo[Jo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jo[Jo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jo[Jo.INTERNAL=13]="INTERNAL",Jo[Jo.UNAVAILABLE=14]="UNAVAILABLE",Jo[Jo.DATA_LOSS=15]="DATA_LOSS";let $o=null;function Zo(){return new TextEncoder}const es=new dt([4294967295,4294967295],0);function ts(e){const t=Zo().encode(e),n=new ht;return n.update(t),new Uint8Array(n.digest())}function ns(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new dt([n,r],0),new dt([i,o],0)]}class rs{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new is("Invalid padding: ".concat(t));if(n<0)throw new is("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new is("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new is("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=dt.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(dt.fromNumber(n)));return 1===r.compare(es)&&(r=new dt([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=ts(e),[n,r]=ns(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new rs(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=ts(e),[n,r]=ns(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class is extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class os{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ss.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new os(xn.min(),r,new gr($t),eo(),uo())}}class ss{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ss(n,t,uo(),uo(),uo())}}class as{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class ls{constructor(e,t){this.targetId=e,this.Ce=t}}class us{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Er.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class cs{constructor(){this.ve=0,this.Fe=fs(),this.Me=Er.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=uo(),t=uo(),n=uo();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Lt(38017,{changeType:i})}}),new ss(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=fs()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ds{constructor(e){this.Ge=e,this.ze=new Map,this.je=eo(),this.Je=hs(),this.He=hs(),this.Ye=new gr($t)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Lt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(Li(o))if(0===n){const e=new cn(o.path);this.et(t,e,li.newNoDocument(e,xn.min()))}else Ot(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=$o)||void 0===i||i.lt(function(e,t,n,r,i,o,s,a,l,u){const c={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(c.bloomFilter={applied:0===i,hashCount:null!==(o=null===d||void 0===d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(u=d.bits)||void 0===u?void 0:u.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),c}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Tr(n).toUint8Array()}catch(e){if(e instanceof xr)return Rt("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new rs(o,r,i)}catch(e){return Rt(e instanceof is?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Li(i.target)){const t=new cn(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,li.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=uo();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new os(e,t,this.Ye,this.je,n);return this.je=eo(),this.Je=hs(),this.He=hs(),this.Ye=new gr($t),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new cs,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new br($t),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new br($t),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Dt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cs),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hs(){return new gr(cn.comparator)}function fs(){return new gr(cn.comparator)}const ps={asc:"ASCENDING",desc:"DESCENDING"},ms={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gs={and:"AND",or:"OR"};class ys{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vs(e,t){return e.useProto3Json||On(t)?t:{value:t}}function bs(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ws(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ss(e,t){return bs(e,t.toTimestamp())}function xs(e){return Ot(!!e,49232),xn.fromTimestamp(function(e){const t=kr(e);return new Sn(t.seconds,t.nanos)}(e))}function Es(e,t){return _s(e,t).canonicalString()}function _s(e,t){const n=function(e){return new an(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ks(e){const t=an.fromString(e);return Ot(Hs(t),10190,{key:t.toString()}),t}function Cs(e,t){return Es(e.databaseId,t.path)}function Ts(e,t){const n=ks(t);if(n.get(1)!==e.databaseId.projectId)throw new Vt(zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vt(zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cn(Ds(n))}function Is(e,t){return Es(e.databaseId,t)}function As(e){const t=ks(e);return 4===t.length?an.emptyPath():Ds(t)}function Ns(e){return new an(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ds(e){return Ot(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function js(e,t,n){return{name:Cs(e,t),fields:n.value.mapValue.fields}}function Rs(e,t){let n;if(t instanceof Oo)n={update:js(e,t.key,t.value)};else if(t instanceof Bo)n={delete:Cs(e,t.key)};else if(t instanceof Fo)n={update:js(e,t.key,t.data),updateMask:Ws(t.fieldMask)};else{if(!(t instanceof qo))return Lt(16599,{Vt:t.type});n={verify:Cs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof wo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof So)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Eo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ko)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Lt(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ss(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Lt(27497)}(e,t.precondition)),n}function Ps(e,t){return{documents:[Is(e,t.path)]}}function Ls(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Is(e,i);const o=function(e){if(0!==e.length)return qs(gi.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Us(e.field),direction:Fs(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=vs(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Ms(e){let t=As(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ot(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Os(e);return t instanceof gi&&vi(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new hi(Bs(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,On(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ui(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new ui(n,t)}(n.endAt)),Oi(t,i,s,o,a,"F",l,u)}function Os(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bs(e.unaryFilter.field);return mi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Bs(e.unaryFilter.field);return mi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bs(e.unaryFilter.field);return mi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bs(e.unaryFilter.field);return mi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Lt(61313);default:return Lt(60726)}}(e):void 0!==e.fieldFilter?function(e){return mi.create(Bs(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Lt(58110);default:return Lt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return gi.create(e.compositeFilter.filters.map(e=>Os(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Lt(1026)}}(e.compositeFilter.op))}(e):Lt(30097,{filter:e})}function Fs(e){return ps[e]}function zs(e){return ms[e]}function Vs(e){return gs[e]}function Us(e){return{fieldPath:e.canonicalString()}}function Bs(e){return un.fromServerFormat(e.fieldPath)}function qs(e){return e instanceof mi?function(e){if("=="===e.op){if(ti(e.value))return{unaryFilter:{field:Us(e.field),op:"IS_NAN"}};if(ei(e.value))return{unaryFilter:{field:Us(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ti(e.value))return{unaryFilter:{field:Us(e.field),op:"IS_NOT_NAN"}};if(ei(e.value))return{unaryFilter:{field:Us(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(e.field),op:zs(e.op),value:e.value}}}(e):e instanceof gi?function(e){const t=e.getFilters().map(e=>qs(e));return 1===t.length?t[0]:{compositeFilter:{op:Vs(e.op),filters:t}}}(e):Lt(54877,{filter:e})}function Ws(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Hs(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ks{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xn.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xn.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Er.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qs{constructor(e){this.yt=e}}function Gs(e){const t=Ms({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wi(t,t.limit,"L"):t}class Js{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Cr(e.integerValue));else if("doubleValue"in e){const n=Cr(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Fn(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=kr(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Tr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?oi(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ri(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Lt(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Br,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Cr(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),cn.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Js.Kt=new Js;class Xs{constructor(){this.Cn=new Ys}addToCollectionParentIndex(e,t){return this.Cn.add(t),jn.resolve()}getCollectionParents(e,t){return jn.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return jn.resolve()}deleteFieldIndex(e,t){return jn.resolve()}deleteAllFieldIndexes(e){return jn.resolve()}createTargetIndexes(e,t){return jn.resolve()}getDocumentsMatchingTarget(e,t){return jn.resolve(null)}getIndexType(e,t){return jn.resolve(0)}getFieldIndexes(e,t){return jn.resolve([])}getNextCollectionGroupToUpdate(e){return jn.resolve(null)}getMinOffset(e,t){return jn.resolve(Tn.min())}getMinOffsetFromCollectionGroup(e,t){return jn.resolve(Tn.min())}updateCollectionGroup(e,t,n){return jn.resolve()}updateIndexEntries(e,t){return jn.resolve()}}class Ys{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new br(an.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new br(an.comparator)).toArray()}}new Uint8Array(0);const $s={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zs=41943040;class ea{static withCacheSize(e){return new ea(e,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}ea.DEFAULT_COLLECTION_PERCENTILE=10,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ea.DEFAULT=new ea(Zs,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ea.DISABLED=new ea(-1,0,0);class ta{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ta(0)}static cr(){return new ta(-1)}}const na="LruGarbageCollector",ra=1048576;function ia(e,t){let[n,r]=e,[i,o]=t;const s=$t(n,i);return 0===s?$t(r,o):s}class oa{constructor(e){this.Ir=e,this.buffer=new br(ia),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ia(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sa{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Dt(na,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Pn(e)?Dt(na,"Ignoring IndexedDB error during garbage collection: ",e):await Dn(e)}await this.Vr(3e5)})}}class aa{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return jn.resolve(Ln.ce);const n=new oa(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),jn.resolve($s)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),$s):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,s,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Nt()<=q.DEBUG&&Dt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-u,"ms")),jn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function la(e,t){return new aa(e,t)}class ua{constructor(){this.changes=new $i(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?jn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ca{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class da{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Po(n.mutation,e,Sr.empty(),Sn.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,uo()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uo();const r=io();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=no();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=io();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,uo()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=eo();const o=so(),s=so();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Fo)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Po(s.mutation,t,s.mutation.getFieldMask(),Sn.now())):o.set(t.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new ca(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=so();let r=new gr((e,t)=>e-t),i=uo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Sr.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||uo()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=oo();l.forEach(e=>{if(!i.has(e)){const r=jo(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return jn.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return cn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vi(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):jn.resolve(io());let s=En,a=i;return o.next(t=>jn.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?jn.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,uo())).next(e=>({batchId:s,changes:ro(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new cn(t)).next(e=>{let t=no();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=no();return this.indexManager.getCollectionParents(e,i).next(s=>jn.forEach(s,s=>{const a=function(e,t){return new Mi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,li.newInvalidDocument(r)))});let n=no();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Po(o.mutation,r,Sr.empty(),Sn.now()),Gi(t,r)&&(n=n.insert(e,r))}),n})}}class ha{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return jn.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:xs(e.createTime)}}(t)),jn.resolve()}getNamedQuery(e,t){return jn.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Gs(e.bundledQuery),readTime:xs(e.readTime)}}(t)),jn.resolve()}}class fa{constructor(){this.overlays=new gr(cn.comparator),this.qr=new Map}getOverlay(e,t){return jn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=io();return jn.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),jn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),jn.resolve()}getOverlaysForCollection(e,t,n){const r=io(),i=t.length+1,o=new cn(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return jn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new gr((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=io(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=io(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return jn.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ko(t,n));let i=this.qr.get(t);void 0===i&&(i=uo(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class pa{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(e){return jn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,jn.resolve()}}class ma{constructor(){this.Qr=new br(ga.$r),this.Ur=new br(ga.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ga(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new ga(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new cn(new an([])),n=new ga(t,e),r=new ga(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new cn(new an([])),n=new ga(t,e),r=new ga(t,e+1);let i=uo();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ga(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ga{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return cn.comparator(e.key,t.key)||$t(e.Yr,t.Yr)}static Kr(e,t){return $t(e.Yr,t.Yr)||cn.comparator(e.key,t.key)}}class ya{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new br(ga.$r)}checkEmpty(e){return jn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Wo(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Zr=this.Zr.add(new ga(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return jn.resolve(o)}lookupMutationBatch(e,t){return jn.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return jn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return jn.resolve(0===this.mutationQueue.length?Mn:this.tr-1)}getAllMutationBatches(e){return jn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ga(t,0),r=new ga(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),jn.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new br($t);return t.forEach(e=>{const t=new ga(e,0),r=new ga(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),jn.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;cn.isDocumentKey(i)||(i=i.child(""));const o=new ga(new cn(i),0);let s=new br($t);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},o),jn.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ot(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return jn.forEach(t.mutations,r=>{const i=new ga(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new ga(t,0),r=this.Zr.firstAfterOrEqual(n);return jn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,jn.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class va{constructor(e){this.ri=e,this.docs=new gr(cn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return jn.resolve(n?n.document.mutableCopy():li.newInvalidDocument(t))}getEntries(e,t){let n=eo();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():li.newInvalidDocument(e))}),jn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=eo();const o=t.path,s=new cn(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||In(Cn(s),n)<=0||(r.has(s.key)||Gi(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return jn.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Lt(9500)}ii(e,t){return jn.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ba(this)}getSize(e){return jn.resolve(this.size)}}class ba extends ua{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),jn.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class wa{constructor(e){this.persistence=e,this.si=new $i(e=>Ri(e),Pi),this.lastRemoteSnapshotVersion=xn.min(),this.highestTargetId=0,this.oi=0,this._i=new ma,this.targetCount=0,this.ai=ta.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),jn.resolve()}getLastRemoteSnapshotVersion(e){return jn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return jn.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),jn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),jn.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ta(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,jn.resolve()}updateTargetData(e,t){return this.Pr(t),jn.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,jn.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),jn.waitFor(i).next(()=>r)}getTargetCount(e){return jn.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return jn.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),jn.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),jn.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),jn.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return jn.resolve(n)}containsKey(e,t){return jn.resolve(this._i.containsKey(t))}}class Sa{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ln(0),this.li=!1,this.li=!0,this.hi=new pa,this.referenceDelegate=e(this),this.Pi=new wa(this),this.indexManager=new Xs,this.remoteDocumentCache=function(e){return new va(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Qs(t),this.Ii=new ha(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new ya(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Dt("MemoryPersistence","Starting transaction:",e);const r=new xa(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return jn.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class xa extends Nn{constructor(e){super(),this.currentSequenceNumber=e}}class Ea{constructor(e){this.persistence=e,this.Ri=new ma,this.Vi=null}static mi(e){return new Ea(e)}get fi(){if(this.Vi)return this.Vi;throw Lt(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),jn.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),jn.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),jn.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jn.forEach(this.fi,n=>{const r=cn.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,xn.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return jn.or([()=>jn.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class _a{constructor(e,t){this.persistence=e,this.pi=new $i(e=>Un(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=la(this,t)}static mi(e,t){return new _a(e,t)}Ei(){}di(e){return jn.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return jn.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?jn.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,xn.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),jn.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),jn.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),jn.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),jn.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yr(e.data.value)),t}br(e,t,n){return jn.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return jn.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ka{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=uo(),r=uo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ka(e,t.fromCache,n,r)}}class Ca{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ta{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=I()?8:Rn(C())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Ca;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Nt()<=q.DEBUG&&Dt("QueryEngine","SDK will not create cache indexes for query:",Qi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),jn.resolve()):(Nt()<=q.DEBUG&&Dt("QueryEngine","Query:",Qi(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Nt()<=q.DEBUG&&Dt("QueryEngine","The SDK decides to create cache indexes for query:",Qi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(t))):jn.resolve())}ys(e,t){if(zi(t))return jn.resolve(null);let n=Bi(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Wi(t,null,"F"),n=Bi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=uo(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,Wi(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return zi(t)||r.isEqual(xn.min())?jn.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?jn.resolve(null):(Nt()<=q.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qi(t)),this.vs(e,o,t,kn(r,En)).next(e=>e))})}Ds(e,t){let n=new br(Xi(e));return t.forEach((t,r)=>{Gi(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Nt()<=q.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",Qi(t)),this.ps.getDocumentsMatchingQuery(e,t,Tn.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Ia="LocalStore";class Aa{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new gr($t),this.xs=new $i(e=>Ri(e),Pi),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new da(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Na(e,t,n,r){return new Aa(e,t,n,r)}async function Da(e,t){const n=Ft(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=uo();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function ja(e){const t=Ft(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Ra(e,t,n){let r=uo(),i=uo();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=eo();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(xn.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Dt(Ia,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{ks:r,qs:i}})}function Pa(e,t){const n=Ft(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Mn),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function La(e,t){const n=Ft(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,jn.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Ks(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Ma(e,t,n){const r=Ft(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Pn(e))throw e;Dt(Ia,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Oa(e,t,n){const r=Ft(e);let i=xn.min(),o=uo();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Ft(e),i=r.xs.get(n);return void 0!==i?jn.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Bi(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:xn.min(),n?o:uo())).next(e=>(Fa(r,Ji(t),e),{documents:e,Qs:o})))}function Fa(e,t,n){let r=e.Os.get(t)||xn.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class za{constructor(){this.activeTargetIds=ho()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Va{constructor(){this.Mo=new za,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new za,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ua{Oo(e){}shutdown(){}}const Ba="ConnectivityMonitor";class qa{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Dt(Ba,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Dt(Ba,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wa=null;function Ha(){return null===Wa?Wa=268435456+Math.round(2147483648*Math.random()):Wa++,"0x"+Wa.toString(16)}const Ka="RestConnection",Qa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ga{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Mr?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=Ha(),s=this.zo(e,t.toUriEncodedString());Dt(Ka,"Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(s),u=x(l);return this.Jo(e,s,a,n,u).then(t=>(Dt(Ka,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw Rt(Ka,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+It,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Qa[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Ja{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xa="WebChannelConnection";class Ya extends Ga{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=Ha();return new Promise((i,s)=>{const a=new mt;a.setWithCredentials(!0),a.listenOnce(yt.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case vt.NO_ERROR:const n=a.getResponseJson();Dt(Xa,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case vt.TIMEOUT:Dt(Xa,"RPC '".concat(e,"' ").concat(o," timed out")),s(new Vt(zt.DEADLINE_EXCEEDED,"Request time out"));break;case vt.HTTP_ERROR:const r=a.getStatus();if(Dt(Xa,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(zt).indexOf(t)>=0?t:zt.UNKNOWN}(n.status);s(new Vt(e,n.message))}else s(new Vt(zt.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Vt(zt.UNAVAILABLE,"Connection failed."));break;default:Lt(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Dt(Xa,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);Dt(Xa,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ha(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xt(),s=St(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Dt(Xa,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=o.createWebChannel(u,a);this.I_(c);let d=!1,h=!1;const f=new Ja({Yo:t=>{h?Dt(Xa,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Dt(Xa,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),d=!0),Dt(Xa,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Zo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,gt.EventType.OPEN,()=>{h||(Dt(Xa,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(c,gt.EventType.CLOSE,()=>{h||(h=!0,Dt(Xa,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(c))}),p(c,gt.EventType.ERROR,t=>{h||(h=!0,Rt(Xa,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Vt(zt.UNAVAILABLE,"The operation could not be completed")))}),p(c,gt.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];Ot(!!i,16349);const o=i,s=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Dt(Xa,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Go[e];if(void 0!==t)return Yo(t)}(t),i=s.message;void 0===n&&(n=zt.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new Vt(n,i)),c.close()}else Dt(Xa,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(s,wt.STAT_EVENT,t=>{t.stat===bt.PROXY?Dt(Xa,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===bt.NOPROXY&&Dt(Xa,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function $a(){return"undefined"!=typeof document?document:null}function Za(e){return new ys(e,!0)}class el{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Dt("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const tl="PersistentStream";class nl{constructor(e,t,n,r,i,o,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new el(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===zt.RESOURCE_EXHAUSTED?(jt(t.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===zt.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Vt(zt.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Dt(tl,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Dt(tl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rl extends nl{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Lt(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Ot(void 0===t||"string"==typeof t,58123),Er.fromBase64String(t||"")):(Ot(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Er.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?zt.UNKNOWN:Yo(e.code);return new Vt(t,e.message||"")}(s);n=new us(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ts(e,r.document.name),o=xs(r.document.updateTime),s=r.document.createTime?xs(r.document.createTime):xn.min(),a=new si({mapValue:{fields:r.document.fields}}),l=li.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new as(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ts(e,r.document),o=r.readTime?xs(r.readTime):xn.min(),s=li.newNoDocument(i,o),a=r.removedTargetIds||[];n=new as([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ts(e,r.document),o=r.removedTargetIds||[];n=new as([],o,i,null)}else{if(!("filter"in t))return Lt(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Qo(r,i),s=e.targetId;n=new ls(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return xn.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?xn.min():t.readTime?xs(t.readTime):xn.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ns(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Li(r)?{documents:Ps(e,r)}:{query:Ls(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ws(e,t.resumeToken);const r=vs(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(xn.min())>0){n.readTime=bs(e,t.snapshotVersion.toTimestamp());const r=vs(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ns(this.serializer),t.removeTarget=e,this.q_(t)}}class il extends nl{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ot(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Ot(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?xs(e.updateTime):xs(t);return n.isEqual(xn.min())&&(n=xs(t)),new Io(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=xs(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ns(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Rs(this.serializer,e))};this.q_(t)}}class ol{}class sl extends ol{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Vt(zt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Go(e,_s(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vt(zt.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Ho(e,_s(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vt(zt.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class al{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(jt(t),this.aa=!1):Dt("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const ll="RemoteStore";class ul{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{vl(this)&&(Dt(ll,"Restarting streams for network reachability change."),await async function(e){const t=Ft(e);t.Ea.add(4),await dl(t),t.Ra.set("Unknown"),t.Ea.delete(4),await cl(t)}(this))})}),this.Ra=new al(n,r)}}async function cl(e){if(vl(e))for(const t of e.da)await t(!0)}async function dl(e){for(const t of e.da)await t(!1)}function hl(e,t){const n=Ft(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),yl(n)?gl(n):Ol(n).O_()&&pl(n,t))}function fl(e,t){const n=Ft(e),r=Ol(n);n.Ia.delete(t),r.O_()&&ml(n,t),0===n.Ia.size&&(r.O_()?r.L_():vl(n)&&n.Ra.set("Unknown"))}function pl(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ol(e).Y_(t)}function ml(e,t){e.Va.Ue(t),Ol(e).Z_(t)}function gl(e){e.Va=new ds({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ol(e).start(),e.Ra.ua()}function yl(e){return vl(e)&&!Ol(e).x_()&&e.Ia.size>0}function vl(e){return 0===Ft(e).Ea.size}function bl(e){e.Va=void 0}async function wl(e){e.Ra.set("Online")}async function Sl(e){e.Ia.forEach((t,n)=>{pl(e,t)})}async function xl(e,t){bl(e),yl(e)?(e.Ra.ha(t),gl(e)):e.Ra.set("Unknown")}async function El(e,t,n){if(e.Ra.set("Online"),t instanceof us&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Dt(ll,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await _l(e,n)}else if(t instanceof as?e.Va.Ze(t):t instanceof ls?e.Va.st(t):e.Va.tt(t),!n.isEqual(xn.min()))try{const t=await ja(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Er.EMPTY_BYTE_STRING,r.snapshotVersion)),ml(e,t);const i=new Ks(r.target,t,n,r.sequenceNumber);pl(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Dt(ll,"Failed to raise snapshot:",t),await _l(e,t)}}async function _l(e,t,n){if(!Pn(t))throw t;e.Ea.add(1),await dl(e),e.Ra.set("Offline"),n||(n=()=>ja(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Dt(ll,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await cl(e)})}function kl(e,t){return t().catch(n=>_l(e,n,t))}async function Cl(e){const t=Ft(e),n=Fl(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mn;for(;Tl(t);)try{const e=await Pa(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Il(t,e)}catch(e){await _l(t,e)}Al(t)&&Nl(t)}function Tl(e){return vl(e)&&e.Ta.length<10}function Il(e,t){e.Ta.push(t);const n=Fl(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Al(e){return vl(e)&&!Fl(e).x_()&&e.Ta.length>0}function Nl(e){Fl(e).start()}async function Dl(e){Fl(e).ra()}async function jl(e){const t=Fl(e);for(const n of e.Ta)t.ea(n.mutations)}async function Rl(e,t,n){const r=e.Ta.shift(),i=Ho.from(r,t,n);await kl(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Cl(e)}async function Pl(e,t){t&&Fl(e).X_&&await async function(e,t){if(function(e){return Xo(e)&&e!==zt.ABORTED}(t.code)){const n=e.Ta.shift();Fl(e).B_(),await kl(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Cl(e)}}(e,t),Al(e)&&Nl(e)}async function Ll(e,t){const n=Ft(e);n.asyncQueue.verifyOperationInProgress(),Dt(ll,"RemoteStore received new credentials");const r=vl(n);n.Ea.add(3),await dl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await cl(n)}async function Ml(e,t){const n=Ft(e);t?(n.Ea.delete(2),await cl(n)):t||(n.Ea.add(2),await dl(n),n.Ra.set("Unknown"))}function Ol(e){return e.ma||(e.ma=function(e,t,n){const r=Ft(e);return r.sa(),new rl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:wl.bind(null,e),t_:Sl.bind(null,e),r_:xl.bind(null,e),H_:El.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),yl(e)?gl(e):e.Ra.set("Unknown")):(await e.ma.stop(),bl(e))})),e.ma}function Fl(e){return e.fa||(e.fa=function(e,t,n){const r=Ft(e);return r.sa(),new il(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Dl.bind(null,e),r_:Pl.bind(null,e),ta:jl.bind(null,e),na:Rl.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Cl(e)):(await e.fa.stop(),e.Ta.length>0&&(Dt(ll,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class zl{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new zl(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vt(zt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vl(e,t){if(jt("AsyncQueue","".concat(t,": ").concat(e)),Pn(e))return new Vt(zt.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||cn.comparator(t.key,n.key):(e,t)=>cn.comparator(e.key,t.key),this.keyedMap=no(),this.sortedSet=new gr(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ul;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Bl{constructor(){this.ga=new gr(cn.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Lt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class ql{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new ql(e,t,Ul.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Wl{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Hl{constructor(){this.queries=Kl(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Ft(e),r=n.queries;n.queries=Kl(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Vt(zt.ABORTED,"Firestore shutting down"))}}function Kl(){return new $i(e=>Ki(e),Hi)}async function Ql(e,t){const n=Ft(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new Wl,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Vl(e,"Initialization of query '".concat(Qi(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&Yl(n)}async function Gl(e,t){const n=Ft(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jl(e,t){const n=Ft(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Yl(n)}function Xl(e,t,n){const r=Ft(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function Yl(e){e.Ca.forEach(e=>{e.next()})}var $l,Zl;(Zl=$l||($l={})).Ma="default",Zl.Cache="cache";class eu{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ql(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$l.Cache}}class tu{constructor(e){this.key=e}}class nu{constructor(e){this.key=e}}class ru{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=uo(),this.mutatedKeys=uo(),this.eu=Xi(e),this.tu=new Ul(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Bl,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Gi(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.su(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.eu(c,a)>0||l&&this.eu(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==o.length||l?{snapshot:new ql(this.query,e.tu,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bl,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=uo(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new nu(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new tu(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=uo();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const iu="SyncEngine";class ou{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class su{constructor(e){this.key=e,this.hu=!1}}class au{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new $i(e=>Ki(e),Hi),this.Iu=new Map,this.Eu=new Set,this.du=new gr(cn.comparator),this.Au=new Map,this.Ru=new ma,this.Vu={},this.mu=new Map,this.fu=ta.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function lu(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Au(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await cu(r,t,n,!0),i}async function uu(e,t){const n=Au(e);await cu(n,t,!0,!1)}async function cu(e,t,n,r){const i=await La(e.localStore,Bi(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await du(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&hl(e.remoteStore,i),a}async function du(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Oa(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Eu(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const o=await Oa(e.localStore,t,!0),s=new ru(t,o.Qs),a=s.ru(o.documents),l=ss.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);Eu(e,n,u.au);const c=new ou(t,n,s);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function hu(e,t,n){const r=Ft(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!Hi(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ma(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fl(r.remoteStore,i.targetId),Su(r,i.targetId)}).catch(Dn)):(Su(r,i.targetId),await Ma(r.localStore,i.targetId,!0))}async function fu(e,t){const n=Ft(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fl(n.remoteStore,r.targetId))}async function pu(e,t){const n=Ft(e);try{const e=await function(e,t){const n=Ft(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,a)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Er.EMPTY_BYTE_STRING,xn.min()).withLastLimboFreeSnapshotVersion(xn.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,o)&&s.push(n.Pi.updateTargetData(e,u))});let a=eo(),l=uo();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Ra(e,o,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(xn.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return jn.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Ot(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Ot(r.hu,14607):e.removedDocuments.size>0&&(Ot(r.hu,42227),r.hu=!1))}),await Cu(n,e,t)}catch(e){await Dn(e)}}function mu(e,t,n){const r=Ft(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Ft(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Yl(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gu(e,t,n){const r=Ft(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new gr(cn.comparator);e=e.insert(o,li.newNoDocument(o,xn.min()));const n=uo().add(o),i=new os(xn.min(),new Map,new gr($t),e,n);await pu(r,i),r.du=r.du.remove(o),r.Au.delete(t),ku(r)}else await Ma(r.localStore,t,!1).then(()=>Su(r,t,n)).catch(Dn)}async function yu(e,t){const n=Ft(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ft(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=jn.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Ot(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=uo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);wu(n,r,null),bu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,e)}catch(e){await Dn(e)}}async function vu(e,t,n){const r=Ft(e);try{const e=await function(e,t){const n=Ft(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ot(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);wu(r,t,n),bu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Cu(r,e)}catch(n){await Dn(n)}}function bu(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function wu(e,t,n){const r=Ft(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Su(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||xu(e,t)})}function xu(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(fl(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),ku(e))}function Eu(e,t,n){for(const r of n)r instanceof tu?(e.Ru.addReference(r.key,t),_u(e,r)):r instanceof nu?(Dt(iu,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||xu(e,r.key)):Lt(19791,{wu:r})}function _u(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Dt(iu,"New document in limbo: "+n),e.Eu.add(r),ku(e))}function ku(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new cn(an.fromString(t)),r=e.fu.next();e.Au.set(r,new su(n)),e.du=e.du.insert(n,r),hl(e.remoteStore,new Ks(Bi(Fi(n.path)),r,"TargetPurposeLimboResolution",Ln.ce))}}async function Cu(e,t,n){const r=Ft(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ka.As(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=Ft(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>jn.forEach(t,t=>jn.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>jn.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Pn(e))throw e;Dt(Ia,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function Tu(e,t){const n=Ft(e);if(!n.currentUser.isEqual(t)){Dt(iu,"User change. New user:",t.toKey());const e=await Da(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Vt(zt.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Cu(n,e.Ls)}}function Iu(e,t){const n=Ft(e),r=n.Au.get(t);if(r&&r.hu)return uo().add(r.key);{let e=uo();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Au(e){const t=Ft(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gu.bind(null,t),t.Pu.H_=Jl.bind(null,t.eventManager),t.Pu.yu=Xl.bind(null,t.eventManager),t}function Nu(e){const t=Ft(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vu.bind(null,t),t}class Du{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Za(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Na(this.persistence,new Ta,e.initialUser,this.serializer)}Cu(e){return new Sa(Ea.mi,this.serializer)}Du(e){return new Va}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Du.provider={build:()=>new Du};class ju extends Du{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ot(this.persistence.referenceDelegate instanceof _a,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new sa(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?ea.withCacheSize(this.cacheSizeBytes):ea.DEFAULT;return new Sa(e=>_a.mi(e,t),this.serializer)}}class Ru{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>mu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tu.bind(null,this.syncEngine),await Ml(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Hl}createDatastore(e){const t=Za(e.databaseInfo.databaseId),n=function(e){return new Ya(e)}(e.databaseInfo);return function(e,t,n,r){return new sl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ul(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>mu(this.syncEngine,e,0),qa.v()?new qa:new Ua)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new au(e,t,n,r,i,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ft(e);Dt(ll,"RemoteStore shutting down."),t.Ea.add(5),await dl(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ru.provider={build:()=>new Ru};class Pu{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Lu="FirestoreClient";class Mu{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Tt.UNAUTHENTICATED,this.clientId=Yt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Dt(Lu,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Dt(Lu,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Vl(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ou(e,t){e.asyncQueue.verifyOperationInProgress(),Dt(Lu,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Da(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Fu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zu(e);Dt(Lu,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ll(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ll(t.remoteStore,n)),e._onlineComponents=t}async function zu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Dt(Lu,"Using user provided OfflineComponentProvider");try{await Ou(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===zt.FAILED_PRECONDITION||e.code===zt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Rt("Error using user provided cache. Falling back to memory cache: "+n),await Ou(e,new Du)}}else Dt(Lu,"Using default OfflineComponentProvider"),await Ou(e,new ju(void 0));return e._offlineComponents}async function Vu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Dt(Lu,"Using user provided OnlineComponentProvider"),await Fu(e,e._uninitializedComponentsProvider._online)):(Dt(Lu,"Using default OnlineComponentProvider"),await Fu(e,new Ru))),e._onlineComponents}function Uu(e){return Vu(e).then(e=>e.syncEngine)}async function Bu(e){const t=await Vu(e),n=t.eventManager;return n.onListen=lu.bind(null,t.syncEngine),n.onUnlisten=hu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=uu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=fu.bind(null,t.syncEngine),n}function qu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ut;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Pu({next:n=>{o.Nu(),t.enqueueAndForget(()=>Gl(e,s)),n.fromCache&&"server"===r.source?i.reject(new Vt(zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new eu(n,o,{includeMetadataChanges:!0,qa:!0});return Ql(e,s)}(await Bu(e),e.asyncQueue,t,n,r)),r.promise}function Wu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Hu=new Map,Ku="firestore.googleapis.com",Qu=!0;class Gu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Vt(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ku,this.ssl=Qu}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Qu;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Zs;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ra)throw new Vt(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Vt(zt.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Vt(zt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Vt(zt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Vt(zt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ju{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Vt(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vt(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gu(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qt;switch(e.type){case"firstParty":return new Qt(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Vt(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hu.get(e);t&&(Dt("ComponentProvider","Removing Datastore"),Hu.delete(e),t.terminate())}(this),Promise.resolve()}}function Xu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=gn(e,Ju);const i=x(t),o=e._getSettings(),s=d(d({},o),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(async function(e){(await fetch(e,{credentials:"include"})).ok}("https://".concat(a)),k("Firestore",!0)),o.host!==Ku&&o.host!==a&&Rt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=d(d({},o),{},{host:a,ssl:i,emulatorOptions:r});if(!P(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Tt.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=d({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[m(JSON.stringify({alg:"none",type:"JWT"})),m(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Vt(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Tt(i)}e._authCredentials=new Wt(new Bt(t,n))}}class Yu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yu(this.firestore,e,this._query)}}class $u{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $u(this.firestore,e,this._key)}toJSON(){return{type:$u._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(vn(t,$u._jsonSchema))return new $u(e,n||null,new cn(an.fromString(t.referencePath)))}}$u._jsonSchemaVersion="firestore/documentReference/1.0",$u._jsonSchema={type:yn("string",$u._jsonSchemaVersion),referencePath:yn("string")};class Zu extends Yu{constructor(e,t,n){super(e,t,Fi(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $u(this.firestore,null,new cn(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function ec(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=O(e),dn("collection","path",t),e instanceof Ju){const n=an.fromString(t,...r);return fn(n),new Zu(e,null,n)}{if(!(e instanceof $u||e instanceof Zu))throw new Vt(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(an.fromString(t,...r));return fn(n),new Zu(e.firestore,null,n)}}function tc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=O(e),1===arguments.length&&(t=Yt.newId()),dn("doc","path",t),e instanceof Ju){const n=an.fromString(t,...r);return hn(n),new $u(e,null,new cn(n))}{if(!(e instanceof $u||e instanceof Zu))throw new Vt(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(an.fromString(t,...r));return hn(n),new $u(e.firestore,e instanceof Zu?e.converter:null,new cn(n))}}const nc="AsyncQueue";class rc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new el(this,"async_queue_retry"),this._c=()=>{const e=$a();e&&Dt(nc,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=$a();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$a();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ut;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pn(e))throw e;Dt(nc,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,jt("INTERNAL UNHANDLED ERROR: ",ic(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=zl.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Lt(47125,{Pc:ic(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ic(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class oc extends Ju{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new rc,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rc(e),this._firestoreClient=void 0,await e}}}function sc(e){if(e._terminated)throw new Vt(zt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ac(e),e._firestoreClient}function ac(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Lr(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Wu(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Mu(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lc(Er.fromBase64String(e))}catch(e){throw new Vt(zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new lc(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vn(e,lc._jsonSchema))return lc.fromBase64String(e.bytes)}}lc._jsonSchemaVersion="firestore/bytes/1.0",lc._jsonSchema={type:yn("string",lc._jsonSchemaVersion),bytes:yn("string")};class uc{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Vt(zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cc{constructor(e){this._methodName=e}}class dc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vt(zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vt(zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dc._jsonSchemaVersion}}static fromJSON(e){if(vn(e,dc._jsonSchema))return new dc(e.latitude,e.longitude)}}dc._jsonSchemaVersion="firestore/geoPoint/1.0",dc._jsonSchema={type:yn("string",dc._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};class hc{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vn(e,hc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new hc(e.vectorValues);throw new Vt(zt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hc._jsonSchemaVersion="firestore/vectorValue/1.0",hc._jsonSchema={type:yn("string",hc._jsonSchemaVersion),vectorValues:yn("object")};const fc=/^__.*__$/;class pc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Fo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oo(e,this.data,t,this.fieldTransforms)}}function mc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt(40011,{Ac:e})}}class gc{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gc(d(d({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(mc(this.Ac)&&fc.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yc{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Za(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gc({Ac:e,methodName:t,Dc:n,path:un.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vc(e){const t=e._freezeSettings(),n=Za(e._databaseId);return new yc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bc(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);Ec("Data must be an object, but it was:",s,r);const a=Sc(r,s);let l,u;if(o.merge)l=new Sr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=_c(t,r,n);if(!s.contains(i))throw new Vt(zt.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ic(e,i)||e.push(i)}l=new Sr(e),u=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=s.fieldTransforms;return new pc(new si(a),l,u)}function wc(e,t){if(xc(e=O(e)))return Ec("Unsupported field value:",t,e),Sc(e,t);if(e instanceof cc)return function(e,t){if(!mc(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=wc(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=O(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mo(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Sn.fromDate(e);return{timestampValue:bs(t.serializer,n)}}if(e instanceof Sn){const n=new Sn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bs(t.serializer,n)}}if(e instanceof dc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lc)return{bytesValue:ws(t.serializer,e._byteString)};if(e instanceof $u){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Es(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof hc)return function(e,t){return{mapValue:{fields:{[Fr]:{stringValue:Ur},[Br]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return fo(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(mn(e)))}(e,t)}function Sc(e,t){const n={};return mr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pr(e,(e,r)=>{const i=wc(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function xc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Sn||e instanceof dc||e instanceof lc||e instanceof $u||e instanceof cc||e instanceof hc)}function Ec(e,t,n){if(!xc(n)||!pn(n)){const r=mn(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function _c(e,t,n){if((t=O(t))instanceof uc)return t._internalPath;if("string"==typeof t)return Cc(e,t);throw Tc("Field path arguments must be of type string or ",e,!1,void 0,n)}const kc=new RegExp("[~\\*/\\[\\]]");function Cc(e,t,n){if(t.search(kc)>=0)throw Tc("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new uc(...t.split("."))._internalPath}catch(r){throw Tc("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Tc(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Vt(zt.INVALID_ARGUMENT,a+e+l)}function Ic(e,t){return e.some(e=>e.isEqual(t))}class Ac{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $u(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Nc extends Ac{data(){return super.data()}}function Dc(e,t){return"string"==typeof t?Cc(e,t):t instanceof uc?t._internalPath:t._delegate._internalPath}function jc(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Vt(zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rc{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Lt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return pr(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Br].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Cr(e.doubleValue));return new hc(n)}convertGeoPoint(e){return new dc(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Rr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pr(e));default:return null}}convertTimestamp(e){const t=kr(e);return new Sn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=an.fromString(e);Ot(Hs(n),9688,{name:e});const r=new Or(n.get(1),n.get(3)),i=new cn(n.popFirst(5));return r.isEqual(t)||jt("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Pc(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Lc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mc extends Ac{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Dc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Vt(zt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Mc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Mc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mc._jsonSchema={type:yn("string",Mc._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class Oc extends Mc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Fc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Lc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Oc(this._firestore,this._userDataWriter,n.key,n,new Lc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Vt(zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Oc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Lc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Oc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Lc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:zc(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Vt(zt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yt.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt(61501,{type:e})}}Fc._jsonSchemaVersion="firestore/querySnapshot/1.0",Fc._jsonSchema={type:yn("string",Fc._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class Vc extends Rc{constructor(e){super(),this.firestore=e}convertBytes(e){return new lc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $u(this.firestore,null,t)}}function Uc(e){e=gn(e,Yu);const t=gn(e.firestore,oc),n=sc(t),r=new Vc(t);return jc(e._query),qu(n,e._query).then(n=>new Fc(t,r,e,n))}function Bc(e,t){return function(e,t){const n=new Ut;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Nu(e);try{const e=await function(e,t){const n=Ft(e),r=Sn.now(),i=t.reduce((e,t)=>e.add(t.key),uo());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=eo(),l=uo();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=Lo(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Fo(e.key,t,ai(t.value.mapValue),Ao.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:ro(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new gr($t)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Cu(r,e.changes),await Cl(r.remoteStore)}catch(e){const t=Vl(e,"Failed to persist write");n.reject(t)}}(await Uu(e),t,n)),n.promise}(sc(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){It=e}("12.5.0"),Ge(new F("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new oc(new Ht(e.getProvider("auth-internal")),new Jt(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vt(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Or(e.options.projectId,t)}(o,r),o);return i=d({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),et(kt,Ct,e),et(kt,Ct,"esm2020")}();et("firebase","12.5.0","app");const qc="@firebase/installations",Wc="0.6.19",Hc=1e4,Kc="w:".concat(Wc),Qc="FIS_v2",Gc=36e5,Jc=new j("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xc(e){return e instanceof D&&e.code.includes("request-failed")}function Yc(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function $c(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Zc(e,t){const n=(await t.json()).error;return Jc.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ed(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function td(e,t){let{refreshToken:n}=t;const r=ed(e);return r.append("Authorization",function(e){return"".concat(Qc," ").concat(e)}(n)),r}async function nd(e){const t=await e();return t.status>=500&&t.status<600?e():t}function rd(e){return new Promise(t=>{setTimeout(t,e)})}const id=/^[cdef][\w-]{21}$/;function od(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return id.test(t)?t:""}catch(e){return""}}function sd(e){return"".concat(e.appName,"!").concat(e.appId)}const ad=new Map;function ld(e,t){const n=sd(e);ud(n,t),function(e,t){const n=dd();n&&n.postMessage({key:e,fid:t});hd()}(n,t)}function ud(e,t){const n=ad.get(e);if(n)for(const r of n)r(t)}let cd=null;function dd(){return!cd&&"BroadcastChannel"in self&&(cd=new BroadcastChannel("[Firebase] FID Change"),cd.onmessage=e=>{ud(e.data.key,e.data.fid)}),cd}function hd(){0===ad.size&&cd&&(cd.close(),cd=null)}const fd="firebase-installations-store";let pd=null;function md(){return pd||(pd=ae("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(fd)}})),pd}async function gd(e,t){const n=sd(e),r=(await md()).transaction(fd,"readwrite"),i=r.objectStore(fd),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||ld(e,t.fid),t}async function yd(e){const t=sd(e),n=(await md()).transaction(fd,"readwrite");await n.objectStore(fd).delete(t),await n.done}async function vd(e,t){const n=sd(e),r=(await md()).transaction(fd,"readwrite"),i=r.objectStore(fd),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||ld(e,s.fid),s}async function bd(e){let t;const n=await vd(e.appConfig,n=>{const r=function(e){const t=e||{fid:od(),registrationStatus:0};return xd(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Jc.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Yc(n),s=ed(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:Qc,appId:n.appId,sdkVersion:Kc},u={method:"POST",headers:s,body:JSON.stringify(l)},c=await nd(()=>fetch(o,u));if(c.ok){const e=await c.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:$c(e.authToken)}}throw await Zc("Create Installation",c)}(e,t);return gd(e.appConfig,n)}catch(n){throw Xc(n)&&409===n.customData.serverCode?await yd(e.appConfig):await gd(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:wd(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function wd(e){let t=await Sd(e.appConfig);for(;1===t.registrationStatus;)await rd(100),t=await Sd(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await bd(e);return n||t}return t}function Sd(e){return vd(e,e=>{if(!e)throw Jc.create("installation-not-found");return xd(e)})}function xd(e){return 1===(t=e).registrationStatus&&t.registrationTime+Hc<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ed(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Yc(e),"/").concat(n,"/authTokens:generate")}(n,t),o=td(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:Kc,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},u=await nd(()=>fetch(i,l));if(u.ok){return $c(await u.json())}throw await Zc("Generate Auth Token",u)}async function _d(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await vd(e.appConfig,r=>{if(!Cd(r))throw Jc.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Gc}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await kd(e.appConfig);for(;1===n.authToken.requestStatus;)await rd(100),n=await kd(e.appConfig);const r=n.authToken;return 0===r.requestStatus?_d(e,t):r}(e,n),r;{if(!navigator.onLine)throw Jc.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return d(d({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await Ed(e,t),r=d(d({},t),{},{authToken:n});return await gd(e.appConfig,r),n}catch(n){if(!Xc(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=d(d({},t),{},{authToken:{requestStatus:0}});await gd(e.appConfig,n)}else await yd(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function kd(e){return vd(e,e=>{if(!Cd(e))throw Jc.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Hc<Date.now()?d(d({},e),{},{authToken:{requestStatus:0}}):e;var n})}function Cd(e){return void 0!==e&&2===e.registrationStatus}async function Td(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await bd(e);t&&await t}(n);return(await _d(n,t)).token}function Id(e){return Jc.create("missing-app-config-values",{valueName:e})}const Ad="installations",Nd=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Id("App Configuration");if(!e.name)throw Id("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Id(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Je(t,"heartbeat"),_delete:()=>Promise.resolve()}},Dd=e=>{const t=Je(e.getProvider("app").getImmediate(),Ad).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await bd(t);return r?r.catch(console.error):_d(t).catch(console.error),n.fid}(t),getToken:e=>Td(t,e)}};Ge(new F(Ad,Nd,"PUBLIC")),Ge(new F("installations-internal",Dd,"PRIVATE")),et(qc,Wc),et(qc,Wc,"esm2020");const jd="analytics",Rd="https://www.googletagmanager.com/gtag/js",Pd=new G("@firebase/analytics"),Ld=new j("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Md(e){if(!e.startsWith(Rd)){const t=Ld.create("invalid-gtag-resource",{gtagURL:e});return Pd.warn(t.message),""}return e}function Od(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Fd(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Md}),r=document.createElement("script"),i="".concat(Rd,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function zd(e,t,n,r){return async function(i){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Od(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){Pd.error(o)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=s;await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await Od(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(a){Pd.error(a)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(l){Pd.error(l)}}}const Vd=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ud(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Bd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vd,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Ld.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Ld.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Wd;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),qd({appId:r,apiKey:i,measurementId:o},s,a,t)}async function qd(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Vd;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Ld.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(u){if(a)return Pd.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===u||void 0===u?void 0:u.message,"]")),{appId:s,measurementId:a};throw u}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:Ud(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),o=await fetch(i,r);if(200!==o.status&&304!==o.status){let e="";try{var s;const t=await o.json();null!==(s=t.error)&&void 0!==s&&s.message&&(e=t.error.message)}catch(a){}throw Ld.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return o.deleteThrottleMetadata(s),t}catch(u){var l;const t=u;if(!function(e){if(!(e instanceof D)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(o.deleteThrottleMetadata(s),a)return Pd.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:a};throw u}const r=503===Number(null===t||void 0===t||null===(l=t.customData)||void 0===l?void 0:l.httpStatus)?M(i,o.intervalMillis,30):M(i,o.intervalMillis),c={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return o.setThrottleMetadata(s,c),Pd.debug("Calling attemptFetch again in ".concat(r," millis")),qd(e,c,n,o)}}class Wd{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Hd,Kd;function Qd(e){Kd=e}function Gd(e){Hd=e}async function Jd(e,t,n,r,i,o,s){var a;const l=Bd(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Pd.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Pd.error(e)),t.push(l);const u=async function(){if(!A())return Pd.warn(Ld.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await N()}catch(e){return Pd.warn(Ld.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[c,d]=await Promise.all([l,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Rd)&&n.src.includes(e))return n;return null})(o)||Fd(o,c.measurementId),Kd&&(i("consent","default",Kd),Qd(void 0)),i("js",new Date);const h=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",c.measurementId,h),Hd&&(i("set",Hd),Gd(void 0)),c.measurementId}class Xd{constructor(e){this.app=e}_delete(){return delete Yd[this.app.options.appId],Promise.resolve()}}let Yd={},$d=[];const Zd={};let eh,th,nh="dataLayer",rh="gtag",ih=!1;function oh(){const e=[];if(function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=Ld.create("invalid-analytics-context",{errorInfo:t});Pd.warn(n.message)}}function sh(e,t,n){oh();const r=e.options.appId;if(!r)throw Ld.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ld.create("no-api-key");Pd.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Yd[r])throw Ld.create("already-exists",{id:r});if(!ih){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(nh);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=zd(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Yd,$d,Zd,nh,rh);th=e,eh=t,ih=!0}Yd[r]=Jd(e,$d,Zd,t,eh,nh,n);return new Xd(e)}function ah(e,t,n){e=O(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(th,Yd[e.app.options.appId],t,n).catch(e=>Pd.error(e))}function lh(e,t,n,r){e=O(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,d(d({},r),{},{send_to:i}))}}(th,Yd[e.app.options.appId],t,n,r).catch(e=>Pd.error(e))}const uh="@firebase/analytics",ch="0.10.19";Ge(new F(jd,(e,t)=>{let{options:n}=t;return sh(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Ge(new F("analytics-internal",function(e){try{const t=e.getProvider(jd).getImmediate();return{logEvent:(e,n,r)=>lh(t,e,n,r),setUserProperties:(e,n)=>ah(t,e,n)}}catch(t){throw Ld.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),et(uh,ch),et(uh,ch,"esm2020");const dh=$e({apiKey:"AIzaSyD9xPsE6tpiA2PRKrSXLgM2g4OVgYsxNL8",authDomain:"ih-app-b8d8a.firebaseapp.com",projectId:"ih-app-b8d8a",storageBucket:"ih-app-b8d8a.firebasestorage.app",messagingSenderId:"807620143387",appId:"1:807620143387:web:98bd92997dde9b3d060bbe",measurementId:"G-DR7FPKF7J8"}),hh=function(e,t){const n="object"==typeof e?e:Ze(),r="string"==typeof e?e:t||Mr,i=Je(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=b("firestore");e&&Xu(i,...e)}return i}(dh),fh=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();e=O(e);const t=Je(e,jd);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Je(e,jd);if(n.isInitialized()){const e=n.getImmediate();if(P(t,n.getOptions()))return e;throw Ld.create("already-initialized")}const r=n.initialize({options:t})}(e)}(dh),e=>{const[t,n]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[l,u]=(0,r.useState)([]),[c,h]=(0,r.useState)([]),[f,p]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[y,v]=(0,r.useState)([]),[b,w]=(0,r.useState)(!0),[S,x]=(0,r.useState)(!1),E=(0,r.useRef)(!0),_=async e=>{try{const t=await Uc(ec(hh,e)),n=[];return t.forEach(e=>{n.push(d(d({},e.data()),{},{docId:e.id}))}),n}catch(t){return console.error("Erreur lecture ".concat(e,":"),t),[]}},k=async(e,t)=>{try{const n=await Uc(ec(hh,e)),r=[];n.forEach(t=>{var n;r.push(Bc(gn((n=tc(hh,e,t.id)).firestore,oc),[new Bo(n._key,Ao.none())]))}),await Promise.all(r);const i=[];t.forEach((t,n)=>{const r=t.id||t.docId||"doc_".concat(n),o=d({},t);delete o.docId,i.push(function(e,t,n){e=gn(e,$u);const r=gn(e.firestore,oc),i=Pc(e.converter,t,n);return Bc(r,[bc(vc(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ao.none())])}(tc(hh,e,r),o))}),await Promise.all(i)}catch(n){console.error("Erreur \xe9criture ".concat(e,":"),n)}};return(0,r.useEffect)(()=>{!E.current&&e&&s.length>0&&("coach"===e.role||"coach_adjoint"===e.role?k("convocations",s):"joueur"===e.role&&S&&(k("convocations",s),x(!1)))},[s,e,S]),(0,r.useEffect)(()=>{!E.current&&"coach"===(null===e||void 0===e?void 0:e.role)&&l.length>0&&k("notes",l)},[l,e]),(0,r.useEffect)(()=>{!E.current&&("coach"===(null===e||void 0===e?void 0:e.role)||"coach_adjoint"===(null===e||void 0===e?void 0:e.role))&&c.length>0&&k("buteurs",c)},[c,e]),(0,r.useEffect)(()=>{!E.current&&("coach"===(null===e||void 0===e?void 0:e.role)||"coach_adjoint"===(null===e||void 0===e?void 0:e.role))&&f.length>0&&k("temps_de_jeu",f)},[f,e]),(0,r.useEffect)(()=>{!E.current&&("coach"===(null===e||void 0===e?void 0:e.role)||"coach_adjoint"===(null===e||void 0===e?void 0:e.role))&&m.length>0&&k("passes_d",m)},[m,e]),(0,r.useEffect)(()=>{!E.current&&"coach"===(null===e||void 0===e?void 0:e.role)&&i.length>0?(console.log("\ud83d\udcbe Sauvegarde Matchs:",i.length,"matchs"),k("matchs",i)):E.current||"coach"!==(null===e||void 0===e?void 0:e.role)||0!==i.length||console.error("\u26a0\ufe0f ALERTE: Tentative d'\xe9criture de matchs vides BLOQU\xc9E")},[i,e]),(0,r.useEffect)(()=>{!E.current&&"joueur"===(null===e||void 0===e?void 0:e.role)&&y.length>0&&k("evaluations_coach",y)},[y,e]),{joueurs:t,setJoueurs:n,matchs:i,setMatchs:o,convocations:s,setConvocations:a,notes:l,setNotes:u,buteurs:c,setButeurs:h,tempsDeJeu:f,setTempsDeJeu:p,passesD:m,setPassesD:g,evaluationsCoach:y,setEvaluationsCoach:v,loading:b,chargerDonnees:async()=>{w(!0);try{const[e,t,r,i,s,l,c,d]=await Promise.all([_("joueurs"),_("matchs"),_("convocations"),_("notes"),_("buteurs"),_("temps_de_jeu"),_("passes_d"),_("evaluations_coach")]);console.log("\ud83d\udce5 Donn\xe9es charg\xe9es depuis Firebase:",{joueurs:e.length,matchs:t.length,convocations:r.length,notes:i.length,buteurs:s.length,tempsDeJeu:l.length,passesD:c.length,evaluationsCoach:d.length}),n(e),o(t),a(r),u(i),h(s),p(l),g(c),v(d)}catch(e){console.error("Erreur chargement donn\xe9es:",e)}finally{w(!1),E.current=!1}},actionJoueurEnCours:S,setActionJoueurEnCours:x}}),ph=()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1),[o,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(""),[u,c]=(0,r.useState)("");return{selectedMatch:e,setSelectedMatch:t,showScoreModal:n,setShowScoreModal:i,matchToPlay:o,scoreEquipeInput:a,setScoreEquipeInput:l,scoreAdversaireInput:u,setScoreAdversaireInput:c,marquerCommeJoue:(e,t)=>{const n=t.find(t=>t.id===e);s(n),l(""),c(""),i(!0)},confirmerScoreEtJouer:(e,t,n)=>{if(""===a||""===u)return void n("Veuillez saisir les deux scores","error");t(e.map(e=>e.id===o.id?d(d({},e),{},{statut:"joue",scoreEquipe:parseInt(a),scoreAdversaire:parseInt(u)}):e)),i(!1),s(null)},repasserEnAttente:(e,t,n,r)=>{if(r.some(t=>t.id_match===e)){if(!window.confirm("ATTENTION : Ce match a d\xe9j\xe0 des notes enregistr\xe9es. Si vous le repassez en attente, toutes les donn\xe9es seront supprim\xe9es. Continuer ?"))return}n(t.map(t=>t.id===e?d(d({},t),{},{statut:"avenir",scoreEquipe:0,scoreAdversaire:0}):t))}}},mh=e=>{const t=[e.entrainements,e.coaching,e.relation].filter(e=>""!==e&&!isNaN(e));if(0===t.length)return"";const n=t.reduce((e,t)=>e+parseFloat(t),0)/t.length;return n.toFixed(1)},gh=(e,t)=>{const n=e.filter(e=>e.id_match===t&&e.note);if(0===n.length)return null;const r=n.reduce((e,t)=>e+t.note,0)/n.length;return r.toFixed(1)},yh=e=>{const t=e.filter(e=>e.note);if(0===t.length)return null;const n=t.reduce((e,t)=>e+t.note,0)/t.length;return n.toFixed(1)},vh=e=>e>=8?"Exceptionnel":e>=7?"Tr\xe8s bien":e>=6?"Bien":e>=5?"Correct":"\xc0 am\xe9liorer",bh=(e,t)=>t.filter(e=>"joue"===e.statut).sort((e,t)=>e.id-t.id).map(t=>{const n=gh(e,t.id);return{match:t.adversaire.substring(0,15),note:n?parseFloat(n):null}}).filter(e=>null!==e.note),wh=()=>{const[e,t]=(0,r.useState)({entrainements:"",coaching:"",relation:""}),[n,i]=(0,r.useState)({entrainements:"",coaching:"",relation:""});return{evalIsma:e,setEvalIsma:t,evalAdam:n,setEvalAdam:i,loadEvaluations:(e,n)=>{if("joueur"===(null===e||void 0===e?void 0:e.role)&&n.length>0){const r=n.find(t=>t.id_joueur===e.id&&("1"===t.id_coach||1===t.id_coach));r&&t({entrainements:String(r.entrainements||r.communication||""),coaching:String(r.coaching||r.tactique||""),relation:String(r.relation||r.respect||"")});const o=n.find(t=>t.id_joueur===e.id&&("27"===t.id_coach||27===t.id_coach));o&&i({entrainements:String(o.entrainements||o.communication||""),coaching:String(o.coaching||o.tactique||""),relation:String(o.relation||o.respect||"")})}},saveEvaluationIsma:(t,n,r,i)=>{const o=n.filter(e=>!(e.id_joueur===t.id&&("1"===e.id_coach||1===e.id_coach))),s=mh(e);s&&(o.push({id:Date.now().toString(),id_joueur:t.id,id_coach:1,entrainements:parseFloat(e.entrainements)||0,coaching:parseFloat(e.coaching)||0,relation:parseFloat(e.relation)||0,note_globale:parseFloat(s).toFixed(1),derniere_modification:(new Date).toISOString()}),r(o),i("\xc9valuation d'Isma sauvegard\xe9e !","success"))},saveEvaluationAdam:(e,t,r,i)=>{const o=t.filter(t=>!(t.id_joueur===e.id&&("27"===t.id_coach||27===t.id_coach))),s=mh(n);s&&(o.push({id:Date.now().toString(),id_joueur:e.id,id_coach:27,entrainements:parseFloat(n.entrainements)||0,coaching:parseFloat(n.coaching)||0,relation:parseFloat(n.relation)||0,note_globale:parseFloat(s).toFixed(1),derniere_modification:(new Date).toISOString()}),r(o),i("\xc9valuation d'Adam sauvegard\xe9e !","success"))}}},Sh=()=>{const[e,t]=(0,r.useState)({}),[n,i]=(0,r.useState)({}),[o,s]=(0,r.useState)({}),[a,l]=(0,r.useState)({}),[u,c]=(0,r.useState)(null);return{noteInputs:e,setNoteInputs:t,butInputs:n,setButInputs:i,tempsInputs:o,setTempsInputs:s,passesInputs:a,setPassesInputs:l,editingNote:u,setEditingNote:c,handleNoteChange:(n,r)=>{t(d(d({},e),{},{[n]:r}))},handleButsChange:(e,t)=>{i(d(d({},n),{},{[e]:t}))},handleTempsChange:(e,t)=>{s(d(d({},o),{},{[e]:t}))},handlePassesChange:(e,t)=>{l(d(d({},a),{},{[e]:t}))}}},xh=()=>({convoquerJoueur:(e,t,n,r)=>{const i=[...n];i.push({id_match:e,id_joueur:t,est_convoque:!0,statut:"en_attente",coach_a_envoye:!0}),r(i)},deconvoquerJoueur:(e,t,n,r)=>{r(n.filter(n=>!(n.id_match===e&&n.id_joueur===t)))},accepterConvocation:(e,t,n,r,i,o)=>{i(r.map(n=>n.id_match===e&&n.id_joueur===t?d(d({},n),{},{statut:"accepte"}):n)),"joueur"===(null===n||void 0===n?void 0:n.role)&&n.id===t&&o(!0)},refuserConvocation:(e,t,n,r,i,o)=>{i(r.map(n=>n.id_match===e&&n.id_joueur===t?d(d({},n),{},{statut:"refuse"}):n)),"joueur"===(null===n||void 0===n?void 0:n.role)&&n.id===t&&o(!0)}}),Eh=()=>{const e=(e,t,n,r,i,o)=>{const s=r.filter(n=>!(n.id_match===e&&n.id_joueur===t));s.push({id_match:e,id_joueur:t,note:parseFloat(n)}),i(s),o(null)},t=(e,t,n,r,i)=>{const o=r.filter(n=>!(n.id_match===e&&n.id_joueur===t));if(""!==n&&null!==n&&void 0!==n){const r=parseInt(n);r>=0&&o.push({id_match:e,id_joueur:t,nombre_de_buts:r})}i(o)};return{setNoteJoueur:e,setButsJoueur:t,saveNote:(t,n,r,i,o,s,a,l)=>{const u=r[t];if(""===u||null===u||void 0===u){s(o.filter(e=>!(e.id_match===n&&e.id_joueur===t))),a(null),i(d(d({},r),{},{[t]:""}))}else u>=1&&u<=9?(e(n,t,u,o,s,a),i(d(d({},r),{},{[t]:""}))):l("La note doit \xeatre comprise entre 1 et 9","error")},saveButs:(e,n,r,i,o,s,a)=>{const l=r[e];if(""===l||null===l||void 0===l){s(o.filter(t=>!(t.id_match===n&&t.id_joueur===e))),i(d(d({},r),{},{[e]:""}))}else{const u=parseInt(l);u>=0&&u<=15?(t(n,e,l,o,s),i(d(d({},r),{},{[e]:""}))):a("Le nombre de buts doit \xeatre compris entre 0 et 15","error")}},saveTemps:(e,t,n,r,i,o,s)=>{const a=n[e];if(""===a||null===a||void 0===a){o(i.filter(n=>!(n.id_match===t&&n.id_joueur===e))),r(d(d({},n),{},{[e]:""}))}else{const l=parseInt(a);if(l>=0&&l<=120){const s=i.filter(n=>!(n.id_match===t&&n.id_joueur===e));s.push({id_match:t,id_joueur:e,minutes_jouees:l}),o(s),r(d(d({},n),{},{[e]:""}))}else s("Le temps de jeu doit \xeatre compris entre 0 et 120 minutes","error")}},savePasses:(e,t,n,r,i,o,s)=>{const a=n[e];if(""===a||null===a||void 0===a){o(i.filter(n=>!(n.id_match===t&&n.id_joueur===e))),r(d(d({},n),{},{[e]:""}))}else{const l=parseInt(a);if(l>=0&&l<=30){const s=i.filter(n=>!(n.id_match===t&&n.id_joueur===e));s.push({id_match:t,id_joueur:e,nombre_passes_d:l}),o(s),r(d(d({},n),{},{[e]:""}))}else s("Le nombre de passes D doit \xeatre compris entre 0 et 30","error")}}}};var _h=n(579);const kh=e=>{let{message:t,type:n,onClose:r}=e;const i={success:{bg:"#10b981",icon:"\u2713"},error:{bg:"#ef4444",icon:"\u2715"},info:{bg:"#ff8800",icon:"\u2139"}};return(0,_h.jsxs)("div",{style:{position:"fixed",top:"2rem",right:"2rem",zIndex:9999,background:i[n].bg,color:"white",padding:"1rem 1.5rem",borderRadius:"0.75rem",boxShadow:"0 10px 25px rgba(0,0,0,0.3)",display:"flex",alignItems:"center",gap:"0.75rem",minWidth:"300px",animation:"slideIn 0.3s ease-out"},children:[(0,_h.jsx)("style",{children:"\n        @keyframes slideIn {\n          from { transform: translateX(400px); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n      "}),(0,_h.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:i[n].icon}),(0,_h.jsx)("div",{style:{flex:1,fontWeight:"600"},children:t}),(0,_h.jsx)("button",{onClick:r,style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",fontWeight:"bold"},children:"\xd7"})]})},Ch=()=>(0,_h.jsx)("div",{style:{minHeight:"100vh",background:"#000000",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,_h.jsxs)("div",{style:{textAlign:"center",color:"white"},children:[(0,_h.jsx)("img",{src:"/logo_IH.png",alt:"ESC Cappelle",style:{height:"120px",width:"auto",marginBottom:"2rem",filter:"drop-shadow(0 0 20px rgba(255, 136, 0, 0.5))"}}),(0,_h.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\u26bd"}),(0,_h.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:"Chargement..."})]})}),Th=e=>{let{show:t,match:n,scoreEquipe:r,scoreAdversaire:i,onScoreEquipeChange:o,onScoreAdversaireChange:s,onConfirm:a,onCancel:l}=e;return t?(0,_h.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,_h.jsxs)("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"28rem",width:"90%"},children:[(0,_h.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"Match jou\xe9 - Saisir le score"}),(0,_h.jsx)("p",{style:{marginBottom:"1.5rem",color:"#6b7280"},children:null===n||void 0===n?void 0:n.adversaire}),(0,_h.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[(0,_h.jsxs)("div",{children:[(0,_h.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"ESC Cappelle"}),(0,_h.jsx)("input",{type:"number",min:"0",value:r,onChange:e=>o(e.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1.5rem",textAlign:"center",fontWeight:"bold"},placeholder:"0"})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Adversaire"}),(0,_h.jsx)("input",{type:"number",min:"0",value:i,onChange:e=>s(e.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1.5rem",textAlign:"center",fontWeight:"bold"},placeholder:"0"})]})]}),(0,_h.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,_h.jsx)("button",{onClick:l,style:{flex:1,padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #6b7280",background:"white",color:"#6b7280",cursor:"pointer",fontWeight:"600"},children:"Annuler"}),(0,_h.jsx)("button",{onClick:a,style:{flex:1,padding:"0.75rem",borderRadius:"0.5rem",background:"#ff8800",color:"white",border:"none",cursor:"pointer",fontWeight:"600"},children:"Valider"})]})]})}):null},Ih=e=>{let{loginUsername:t,setLoginUsername:n,loginPassword:r,setLoginPassword:i,onLogin:o}=e;return(0,_h.jsx)("div",{style:{minHeight:"100vh",background:"#000000",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:(0,_h.jsxs)("div",{style:{background:"white",borderRadius:"1.5rem",boxShadow:"0 20px 25px -5px rgba(255, 136, 0, 0.5)",padding:"2.5rem",width:"100%",maxWidth:"28rem",border:"2px solid #ff8800"},children:[(0,_h.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,_h.jsx)("img",{src:"/logonoir_IH.png",alt:"ESC Cappelle",style:{height:"100px",width:"auto",marginBottom:"1rem"}}),(0,_h.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"800",color:"#1f2937",marginBottom:"0.5rem"},children:"ESC Cappelle"}),(0,_h.jsx)("p",{style:{color:"#ff8800",fontWeight:"600"},children:"\xc9quipe S\xe9niors D3 - \xc9quipe B"})]}),(0,_h.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,_h.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Identifiant"}),(0,_h.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&o(),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid #e5e7eb",borderRadius:"0.75rem",fontSize:"1rem"},placeholder:"Votre pseudo"})]}),(0,_h.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,_h.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Mot de passe"}),(0,_h.jsx)("input",{type:"password",value:r,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&o(),style:{width:"100%",padding:"0.75rem 1rem",border:"2px solid #e5e7eb",borderRadius:"0.75rem",fontSize:"1rem"},placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,_h.jsx)("button",{onClick:o,style:{width:"100%",background:"#ff8800",color:"white",padding:"0.875rem",borderRadius:"0.75rem",fontWeight:"700",border:"none",cursor:"pointer",fontSize:"1rem"},children:"Se connecter"})]})})},Ah=e=>e>=7?{bg:"linear-gradient(90deg, #10b981 0%, #059669 100%)",color:"white",emoji:"\ud83d\udd25"}:e>=5?{bg:"linear-gradient(90deg, #f59e0b 0%, #d97706 100%)",color:"white",emoji:"\ud83d\udc4d"}:{bg:"linear-gradient(90deg, #ef4444 0%, #dc2626 100%)",color:"white",emoji:"\ud83d\udcaa"},Nh=e=>e>=7?{bg:"linear-gradient(90deg, #10b981 0%, #059669 100%)",color:"white",emoji:"\ud83c\udfc6",text:"Excellente performance !"}:e>=5?{bg:"linear-gradient(90deg, #f59e0b 0%, #d97706 100%)",color:"white",emoji:"\u26bd",text:"Performance correcte"}:{bg:"linear-gradient(90deg, #ef4444 0%, #dc2626 100%)",color:"white",emoji:"\ud83d\udcaa",text:"\xc0 am\xe9liorer ensemble"},Dh=e=>{let{user:t,notes:n,onLogout:r}=e;const i=yh(n);return(0,_h.jsx)("div",{style:{background:"#000000",color:"white",padding:"1rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)",borderBottom:"3px solid #ff8800"},children:(0,_h.jsxs)("div",{style:{maxWidth:"72rem",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[(0,_h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,_h.jsx)("img",{src:"/logo_IH.png",alt:"ESC Cappelle",style:{height:"60px",width:"auto"}}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:0},children:"Interface Coach"}),(0,_h.jsxs)("p",{style:{margin:0,color:"#ff8800",fontWeight:"600"},children:["ESC Cappelle - ",t.nom,i&&(0,_h.jsxs)("span",{style:{marginLeft:"0.5rem",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:Nh(i).bg,color:"white"},children:[Nh(i).emoji," \xc9quipe: ",i,"/10"]})]})]})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("button",{onClick:()=>window.location.reload(),style:{background:"#6b7280",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",color:"white",cursor:"pointer",fontWeight:"600",marginRight:"0.5rem"},children:"Actualiser"}),(0,_h.jsx)("button",{onClick:r,style:{background:"#ff8800",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",color:"white",cursor:"pointer",fontWeight:"600"},children:"D\xe9connexion"})]})]})})},jh=e=>{let{view:t,setView:n,matchsCount:r,joueursCount:i}=e;return(0,_h.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[(0,_h.jsxs)("button",{onClick:()=>n("matchs"),style:{flex:"1 1 200px",padding:"0.75rem",borderRadius:"0.75rem",fontWeight:"600",border:"none",cursor:"pointer",background:"matchs"===t?"#ff8800":"white",color:"matchs"===t?"white":"#1f2937",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:["\ud83d\udcc5 Matchs (",r,")"]}),(0,_h.jsxs)("button",{onClick:()=>n("joueurs"),style:{flex:"1 1 200px",padding:"0.75rem",borderRadius:"0.75rem",fontWeight:"600",border:"none",cursor:"pointer",background:"joueurs"===t?"#ff8800":"white",color:"joueurs"===t?"white":"#1f2937",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:["\ud83d\udc65 Joueurs (",i,")"]}),(0,_h.jsx)("button",{onClick:()=>n("evaluations"),style:{flex:"1 1 200px",padding:"0.75rem",borderRadius:"0.75rem",fontWeight:"600",border:"none",cursor:"pointer",background:"evaluations"===t?"#ff8800":"white",color:"evaluations"===t?"white":"#1f2937",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:"\u2b50 Mes \xe9valuations"})]})},Rh=e=>{if(!e)return"";if(e.includes("/"))return e;const t=new Date(e),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return"".concat(n,"/").concat(r,"/").concat(i)},Ph=e=>e.filter(e=>"avenir"===e.statut).sort((e,t)=>new Date(e.date)-new Date(t.date))[0],Lh=e=>{let{matchs:t,notes:n,onSelectMatch:r}=e;const i=[...t].sort((e,t)=>new Date(e.date)-new Date(t.date));return(0,_h.jsx)("div",{style:{display:"grid",gap:"1rem"},children:i.map(e=>{const t=(e=>"joue"!==e.statut?null:e.scoreEquipe>e.scoreAdversaire?"Victoire":e.scoreEquipe<e.scoreAdversaire?"D\xe9faite":"Nul")(e);return(0,_h.jsx)("div",{onClick:()=>r(e.id),style:{background:"white",padding:"1.25rem",borderRadius:"0.75rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",cursor:"pointer"},children:(0,_h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,_h.jsxs)("div",{style:{flex:1},children:[(0,_h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[(0,_h.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:"joue"===e.statut?"#1f2937":"#fff7ed",color:"joue"===e.statut?"white":"#ff8800"},children:"joue"===e.statut?"JOU\xc9":"\xc0 VENIR"}),"joue"===e.statut&&t&&(0,_h.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:"Victoire"===t?"#dcfce7":"D\xe9faite"===t?"#fee2e2":"#f3f4f6",color:"Victoire"===t?"#166534":"D\xe9faite"===t?"#dc2626":"#6b7280"},children:t}),"joue"===e.statut&&gh(n,e.id)&&(0,_h.jsxs)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:Nh(gh(n,e.id)).bg,color:"white"},children:[Nh(gh(n,e.id)).emoji," \xc9quipe: ",gh(n,e.id),"/10"]}),(0,_h.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:Rh(e.date)})]}),(0,_h.jsx)("h3",{style:{fontWeight:"bold",fontSize:"1.125rem",color:"#1f2937",margin:0},children:e.adversaire}),(0,_h.jsxs)("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:[e.domicile?"\ud83c\udfe0 Domicile":"\u2708\ufe0f Ext\xe9rieur","joue"===e.statut&&" \u2022 Score: ".concat(e.scoreEquipe||0," - ").concat(e.scoreAdversaire||0)]})]}),(0,_h.jsx)("div",{style:{fontSize:"1.5rem",color:"#ff8800"},children:"\u2192"})]})},e.id)})})},Mh=e=>{let{match:t,user:n,onBack:r,onMarquerJoue:i,onRepasserAttente:o,noteEquipe:s,children:a}=e;return(0,_h.jsxs)("div",{style:{background:"white",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",padding:"1.5rem"},children:[(0,_h.jsx)("button",{onClick:r,style:{marginBottom:"1rem",color:"#ff8800",fontWeight:"600",background:"none",border:"none",cursor:"pointer",fontSize:"1rem"},children:"\u2190 Retour aux matchs"}),(0,_h.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,_h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem",flexWrap:"wrap"},children:[(0,_h.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:"joue"===t.statut?"#1f2937":"#fff7ed",color:"joue"===t.statut?"white":"#ff8800"},children:"joue"===t.statut?"JOU\xc9":"\xc0 VENIR"}),(0,_h.jsx)("span",{style:{color:"#6b7280"},children:Rh(t.date)})]}),(0,_h.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1f2937",margin:0},children:t.adversaire}),"joue"===t.statut&&s&&(0,_h.jsxs)("div",{style:{background:Nh(s).bg,color:"white",padding:"1.5rem",borderRadius:"1rem",margin:"1.5rem 0",textAlign:"center",boxShadow:"0 8px 25px -5px rgba(0, 0, 0, 0.3)"},children:[(0,_h.jsxs)("div",{style:{fontSize:"1rem",opacity:.9,marginBottom:"0.5rem"},children:[Nh(s).emoji," ",Nh(s).text]}),(0,_h.jsxs)("div",{style:{fontSize:"3rem",fontWeight:"bold",marginBottom:"0.25rem"},children:[s,"/10"]}),(0,_h.jsx)("div",{style:{fontSize:"0.875rem",opacity:.8},children:"Note moyenne de l'\xe9quipe"})]}),(0,_h.jsxs)("p",{style:{color:"#6b7280",marginTop:"0.25rem"},children:[t.domicile?"Domicile":"Ext\xe9rieur","joue"===t.statut&&" \u2022 Score: ".concat(t.scoreEquipe||0," - ").concat(t.scoreAdversaire||0)]}),"coach"===n.role&&"avenir"===t.statut&&(0,_h.jsx)("button",{onClick:()=>i(t.id),style:{marginTop:"1rem",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",background:"#10b981",color:"white",border:"none",cursor:"pointer",fontSize:"1rem",fontWeight:"600"},children:"\u2713 Marquer comme jou\xe9"}),"coach"===n.role&&"joue"===t.statut&&(0,_h.jsx)("button",{onClick:()=>o(t.id),style:{marginTop:"1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#6b7280",color:"white",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:"\u27f2 Repasser en attente"})]}),a]})},Oh=(e,t)=>{const n=e.filter(e=>e.id_joueur===t&&e.note);if(0===n.length)return"-";const r=n.reduce((e,t)=>e+t.note,0)/n.length;return r.toFixed(1)},Fh=(e,t)=>e.filter(e=>e.id_joueur===t).reduce((e,t)=>e+t.nombre_de_buts,0),zh=(e,t)=>e.filter(e=>e.id_joueur===t).reduce((e,t)=>e+t.minutes_jouees,0),Vh=(e,t)=>e.filter(e=>e.id_joueur===t).reduce((e,t)=>e+t.nombre_passes_d,0),Uh=(e,t,n)=>{const r=e.find(e=>e.id_match===t&&e.id_joueur===n);return(null===r||void 0===r?void 0:r.nombre_de_buts)||0},Bh=(e,t,n)=>{const r=e.find(e=>e.id_match===t&&e.id_joueur===n);return(null===r||void 0===r?void 0:r.minutes_jouees)||0},qh=(e,t,n)=>{const r=e.find(e=>e.id_match===t&&e.id_joueur===n);return(null===r||void 0===r?void 0:r.nombre_passes_d)||0},Wh=e=>{let{joueurs:t,notes:n,convocations:r,buteurs:i,tempsDeJeu:o,passesD:s}=e;const a=e=>{const t=Oh(n,e.id);if("-"===t)return-1;const r=parseFloat(t),a=Fh(i,e.id),l=zh(o,e.id),u=Vh(s,e.id),c=90*n.filter(t=>t.id_joueur===e.id&&t.note).length,d=c>0?l/c*10:0;return"gardien"===e.role?.6*r+.4*d:.5*r+.2*a+.15*u+.15*d},l=[...t].sort((e,t)=>a(t)-a(e));return(0,_h.jsx)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))"},children:l.map(e=>{const t=Oh(n,e.id),a=r.filter(t=>t.id_joueur===e.id&&t.est_convoque).length,l=Fh(i,e.id),u=zh(o,e.id),c=Vh(s,e.id),d=n.filter(t=>t.id_joueur===e.id&&t.note);return(0,_h.jsxs)("div",{style:{background:"white",padding:"1.25rem",borderRadius:"0.75rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:[(0,_h.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,_h.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,_h.jsx)("h3",{style:{fontWeight:"bold",fontSize:"1.125rem",color:"#1f2937",margin:0},children:e.nom}),(0,_h.jsxs)("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:["@",e.username]})]}),(0,_h.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem",marginTop:"0.75rem"},children:[(0,_h.jsxs)("div",{style:{textAlign:"center",background:"#fff7ed",padding:"0.75rem",borderRadius:"0.5rem"},children:[(0,_h.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:"Moyenne"}),(0,_h.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"-"!==t?Ah(parseFloat(t)).bg:"#ff8800",margin:0},children:"-"!==t?"".concat(Ah(parseFloat(t)).emoji," ").concat(t):t})]}),(0,_h.jsxs)("div",{style:{textAlign:"center",background:"#fff7ed",padding:"0.75rem",borderRadius:"0.5rem"},children:[(0,_h.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:"Buts"}),(0,_h.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ff8800",margin:0},children:l})]}),(0,_h.jsxs)("div",{style:{textAlign:"center",background:"#f3f4f6",padding:"0.75rem",borderRadius:"0.5rem"},children:[(0,_h.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:"Temps (min)"}),(0,_h.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1f2937",margin:0},children:u})]}),(0,_h.jsxs)("div",{style:{textAlign:"center",background:"#dbeafe",padding:"0.75rem",borderRadius:"0.5rem"},children:[(0,_h.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:"Passes D"}),(0,_h.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1e40af",margin:0},children:c})]})]})]}),(0,_h.jsxs)("div",{style:{display:"flex",gap:"0.5rem",fontSize:"0.875rem",flexWrap:"wrap"},children:[(0,_h.jsx)("div",{style:{background:"#f3f4f6",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:(0,_h.jsxs)("span",{style:{color:"#1f2937",fontWeight:"600"},children:[d.length," matchs"]})}),(0,_h.jsx)("div",{style:{background:"#fff7ed",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:(0,_h.jsxs)("span",{style:{color:"#9a3412",fontWeight:"600"},children:[a," convocs"]})})]})]},e.id)})})},Hh=e=>{let{user:t,evaluationsCoach:n}=e;const r=n.filter(e=>e.id_coach===t.id),i=r.length;if(0===i)return(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"Mes \xe9valuations re\xe7ues"}),(0,_h.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:(0,_h.jsx)("p",{children:"Aucune \xe9valuation re\xe7ue pour le moment."})})]});const o={entrainements:(r.reduce((e,t)=>e+(t.entrainements||t.communication||0),0)/i).toFixed(1),coaching:(r.reduce((e,t)=>e+(t.coaching||t.tactique||0),0)/i).toFixed(1),relation:(r.reduce((e,t)=>e+(t.relation||t.respect||0),0)/i).toFixed(1),globale:(r.reduce((e,t)=>e+(t.note_globale||0),0)/i).toFixed(1)};return(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"Mes \xe9valuations re\xe7ues"}),(0,_h.jsx)("div",{style:{background:"#1f2937",padding:"2rem",borderRadius:"0.75rem",marginBottom:"1.5rem"},children:(0,_h.jsxs)("div",{style:{textAlign:"center"},children:[(0,_h.jsx)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.7)",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1rem"},children:"Note globale moyenne"}),(0,_h.jsx)("div",{style:{fontSize:"4.5rem",fontWeight:"bold",color:"white",lineHeight:"1"},children:o.globale}),(0,_h.jsxs)("div",{style:{fontSize:"0.875rem",color:"rgba(255,255,255,0.6)",fontWeight:"500",marginTop:"0.75rem"},children:[i," \xe9valuation",i>1?"s":""]})]})}),(0,_h.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[(0,_h.jsxs)("div",{style:{background:"#f9fafb",padding:"1.5rem",borderRadius:"0.75rem",textAlign:"center",border:"2px solid #e5e7eb"},children:[(0,_h.jsx)("div",{style:{fontSize:"2.5rem",marginBottom:"0.75rem"},children:"\ud83c\udfcb\ufe0f"}),(0,_h.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.75rem"},children:"Entra\xeenements"}),(0,_h.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#1f2937"},children:o.entrainements})]}),(0,_h.jsxs)("div",{style:{background:"#f9fafb",padding:"1.5rem",borderRadius:"0.75rem",textAlign:"center",border:"2px solid #e5e7eb"},children:[(0,_h.jsx)("div",{style:{fontSize:"2.5rem",marginBottom:"0.75rem"},children:"\u26bd"}),(0,_h.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.75rem"},children:"Coaching match"}),(0,_h.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#1f2937"},children:o.coaching})]}),(0,_h.jsxs)("div",{style:{background:"#f9fafb",padding:"1.5rem",borderRadius:"0.75rem",textAlign:"center",border:"2px solid #e5e7eb"},children:[(0,_h.jsx)("div",{style:{fontSize:"2.5rem",marginBottom:"0.75rem"},children:"\ud83e\udd1d"}),(0,_h.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.75rem"},children:"Relation joueurs"}),(0,_h.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#1f2937"},children:o.relation})]})]}),(0,_h.jsx)("div",{style:{textAlign:"center",fontSize:"0.875rem",color:"#6b7280",padding:"0.5rem",background:"#f9fafb",borderRadius:"0.375rem"},children:"Toutes les notes sont sur 10"})]})},Kh=(e,t,n)=>e.some(e=>e.id_match===t&&e.id_joueur===n&&e.est_convoque),Qh=(e,t,n)=>{const r=e.find(e=>e.id_match===t&&e.id_joueur===n&&e.est_convoque);return(null===r||void 0===r?void 0:r.statut)||null},Gh=e=>{let{matchId:t,joueurs:n,convocations:r,onConvoquer:i,onDeconvoquer:o,isNextMatch:s=!0}=e;n.filter(e=>Kh(r,t,e.id)).length;const a=n.filter(e=>"en_attente"===Qh(r,t,e.id)).length,l=n.filter(e=>"accepte"===Qh(r,t,e.id)).length,u=n.filter(e=>"refuse"===Qh(r,t,e.id)).length;return(0,_h.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,_h.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"0.5rem"},children:"Gestion des convocations"}),!s&&(0,_h.jsxs)("div",{style:{background:"#fef3c7",border:"2px solid #fbbf24",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.875rem",color:"#92400e"},children:[(0,_h.jsx)("strong",{children:"\u26a0\ufe0f Information :"})," Vous ne pouvez convoquer que pour le prochain match"]}),(0,_h.jsxs)("div",{style:{display:"flex",gap:"1rem",fontSize:"0.875rem",flexWrap:"wrap",marginBottom:"1rem"},children:[(0,_h.jsxs)("span",{style:{background:"#fff7ed",color:"#9a3412",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontWeight:"600"},children:["\u23f3 En attente: ",a]}),(0,_h.jsxs)("span",{style:{background:"#dcfce7",color:"#166534",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontWeight:"600"},children:["\u2713 Accept\xe9es: ",l]}),(0,_h.jsxs)("span",{style:{background:"#fee2e2",color:"#dc2626",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontWeight:"600"},children:["\u2717 Refus\xe9es: ",u]})]}),(0,_h.jsx)("div",{style:{display:"grid",gap:"0.5rem"},children:n.map(e=>{const n=Kh(r,t,e.id),a=Qh(r,t,e.id);return(0,_h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",background:"#f9fafb",borderRadius:"0.5rem",flexWrap:"wrap"},children:[(0,_h.jsxs)("div",{style:{flex:"1 1 150px"},children:[(0,_h.jsx)("p",{style:{fontWeight:"600",color:"#1f2937",margin:0},children:e.nom}),(0,_h.jsxs)("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:["@",e.username]})]}),(0,_h.jsx)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:n?(0,_h.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:["en_attente"===a&&(0,_h.jsx)("span",{style:{background:"#fff7ed",color:"#9a3412",padding:"0.5rem 0.75rem",borderRadius:"9999px",fontWeight:"600",fontSize:"0.875rem"},children:"\u23f3 En attente"}),"accepte"===a&&(0,_h.jsx)("span",{style:{background:"#dcfce7",color:"#166534",padding:"0.5rem 0.75rem",borderRadius:"9999px",fontWeight:"600",fontSize:"0.875rem"},children:"\u2713 Accept\xe9e"}),"refuse"===a&&(0,_h.jsx)("span",{style:{background:"#fee2e2",color:"#dc2626",padding:"0.5rem 0.75rem",borderRadius:"9999px",fontWeight:"600",fontSize:"0.875rem"},children:"\u2717 Refus\xe9e"}),(0,_h.jsx)("button",{onClick:()=>o(t,e.id),style:{padding:"0.5rem 0.75rem",borderRadius:"0.5rem",border:"1px solid #6b7280",cursor:"pointer",background:"#6b7280",color:"white",fontWeight:"600",fontSize:"0.75rem"},children:"\u2715 Annuler"})]}):(0,_h.jsx)("button",{onClick:s?()=>i(t,e.id):void 0,disabled:!s,style:{padding:"0.625rem 1.25rem",borderRadius:"0.75rem",border:s?"2px solid #ff8800":"2px solid #d1d5db",cursor:s?"pointer":"not-allowed",background:s?"#ff8800":"#e5e7eb",color:s?"white":"#9ca3af",fontWeight:"700",fontSize:"0.875rem",transition:"all 0.2s",boxShadow:s?"0 2px 4px rgba(255, 136, 0, 0.3)":"none",opacity:s?1:.6},children:"\u2713 Convoquer"})})]},e.id)})})]})},Jh=e=>{let{data:t}=e;if(!t||0===t.length)return null;const n=600,r=250,i=50,o=t.map((e,n)=>({x:i+n/Math.max(t.length-1,1)*500,y:200-e.note/10*150,note:e.note,match:e.match})),s=o.map((e,t)=>"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)).join(" ");return(0,_h.jsxs)("svg",{width:"100%",height:"250",viewBox:"0 0 ".concat(n," ").concat(r),style:{maxWidth:"100%"},children:[[0,2.5,5,7.5,10].map(e=>{const t=200-e/10*150;return(0,_h.jsxs)("g",{children:[(0,_h.jsx)("line",{x1:i,y1:t,x2:550,y2:t,stroke:"#e5e7eb",strokeDasharray:"3,3"}),(0,_h.jsx)("text",{x:40,y:t+5,textAnchor:"end",fontSize:"12",fill:"#6b7280",children:e})]},e)}),(0,_h.jsx)("path",{d:s,fill:"none",stroke:"#ff8800",strokeWidth:"3"}),o.map((e,t)=>(0,_h.jsxs)("g",{children:[(0,_h.jsx)("circle",{cx:e.x,cy:e.y,r:"5",fill:"#ff8800"}),(0,_h.jsx)("title",{children:"".concat(e.match,": ").concat(e.note,"/10")})]},t)),(0,_h.jsx)("line",{x1:i,y1:200,x2:550,y2:200,stroke:"#1f2937",strokeWidth:"2"}),(0,_h.jsx)("line",{x1:i,y1:i,x2:i,y2:200,stroke:"#1f2937",strokeWidth:"2"})]})},Xh=e=>{let{joueurs:t,notes:n,buteurs:r,tempsDeJeu:i,passesD:o}=e;const s=e=>{const t=Oh(n,e.id);if("-"===t)return null;const s=parseFloat(t),a=Fh(r,e.id),l=zh(i,e.id),u=Vh(o,e.id),c=90*n.filter(t=>t.id_joueur===e.id&&t.note).length,d=c>0?l/c*10:0;if("gardien"===e.role){return.6*s+.4*d}return.5*s+.2*a+.15*u+.15*d},a=t.map(e=>d(d({},e),{},{score:s(e),moyenne:Oh(n,e.id)})).filter(e=>null!==e.score).sort((e,t)=>t.score-e.score),l=a.slice(0,3);if(0===l.length)return(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"\ud83c\udfc6 Podium TOP 3 des meilleurs joueurs"}),(0,_h.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:(0,_h.jsx)("p",{children:"Aucune note disponible pour le moment."})})]});const u=e=>0===e?{bg:"#fef3c7",border:"#fbbf24",medal:"\ud83e\udd47"}:1===e?{bg:"#e5e7eb",border:"#9ca3af",medal:"\ud83e\udd48"}:2===e?{bg:"#fed7aa",border:"#fb923c",medal:"\ud83e\udd49"}:void 0,c=e=>0===e?"10rem":1===e?"8rem":2===e?"6rem":void 0;return(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"\ud83c\udfc6 Podium TOP 3 des meilleurs joueurs"}),(0,_h.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"center",gap:"1rem",marginBottom:"1rem"},children:[l[1]&&(0,_h.jsxs)("div",{style:{flex:"0 1 150px",textAlign:"center"},children:[(0,_h.jsx)("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:u(1).medal}),(0,_h.jsxs)("div",{style:{background:u(1).bg,border:"3px solid ".concat(u(1).border),borderRadius:"1rem",padding:"1rem",height:c(1),display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,_h.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#1f2937",marginBottom:"0.25rem"},children:l[1].moyenne}),(0,_h.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"600"},children:l[1].nom})]})]}),l[0]&&(0,_h.jsxs)("div",{style:{flex:"0 1 150px",textAlign:"center"},children:[(0,_h.jsx)("div",{style:{fontSize:"4rem",marginBottom:"0.5rem"},children:u(0).medal}),(0,_h.jsxs)("div",{style:{background:u(0).bg,border:"3px solid ".concat(u(0).border),borderRadius:"1rem",padding:"1rem",height:c(0),display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,_h.jsx)("div",{style:{fontSize:"3rem",fontWeight:"bold",color:"#1f2937",marginBottom:"0.25rem"},children:l[0].moyenne}),(0,_h.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"600"},children:l[0].nom})]})]}),l[2]&&(0,_h.jsxs)("div",{style:{flex:"0 1 150px",textAlign:"center"},children:[(0,_h.jsx)("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:u(2).medal}),(0,_h.jsxs)("div",{style:{background:u(2).bg,border:"3px solid ".concat(u(2).border),borderRadius:"1rem",padding:"1rem",height:c(2),display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,_h.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#1f2937",marginBottom:"0.25rem"},children:l[2].moyenne}),(0,_h.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"600"},children:l[2].nom})]})]})]}),(0,_h.jsx)("div",{style:{textAlign:"center",fontSize:"0.75rem",color:"#6b7280",marginTop:"1rem"},children:"Classement bas\xe9 sur : Note (50%), Buts (20%), Passes D (15%), Temps de jeu (15%)"})]})},Yh=e=>{let{user:t,joueurs:n,matchs:i,convocations:o,notes:s,buteurs:a,tempsDeJeu:l,passesD:u,evaluationsCoach:c,selectedMatch:h,setSelectedMatch:f,noteInputs:p,setNoteInputs:m,butInputs:g,setButInputs:y,tempsInputs:v,setTempsInputs:b,passesInputs:w,setPassesInputs:S,editingNote:x,setEditingNote:E,handleNoteChange:_,handleButsChange:k,handleTempsChange:C,handlePassesChange:T,convoquerJoueur:I,deconvoquerJoueur:A,marquerCommeJoue:N,repasserEnAttente:D,saveNote:j,saveButs:R,saveTemps:P,savePasses:L,setNotes:M,setButeurs:O,setTempsDeJeu:F,setPassesD:z,onLogout:V}=e;const[U,B]=(0,r.useState)("matchs"),q=i.find(e=>e.id===h),W=n.filter(e=>"joueur"===e.role||"gardien"===e.role),H=q?gh(s,q.id):null,K=bh(s,i),Q=Ph(i),G=(null===q||void 0===q?void 0:q.id)===(null===Q||void 0===Q?void 0:Q.id);return console.log("\ud83d\udd0d DEBUG CONVOCATIONS:",{matchEnCours:null===q||void 0===q?void 0:q.adversaire,matchEnCoursId:null===q||void 0===q?void 0:q.id,prochainMatch:null===Q||void 0===Q?void 0:Q.adversaire,prochainMatchId:null===Q||void 0===Q?void 0:Q.id,isNextMatch:G,tousLesMatchs:i.map(e=>({id:e.id,adversaire:e.adversaire,statut:e.statut}))}),(0,_h.jsxs)("div",{style:{minHeight:"100vh",background:"#f9fafb"},children:[(0,_h.jsx)(Dh,{user:t,notes:s,onLogout:V}),(0,_h.jsxs)("div",{style:{maxWidth:"72rem",margin:"1.5rem auto",padding:"0 1rem",paddingBottom:"2rem"},children:[!h&&(0,_h.jsx)(jh,{view:U,setView:B,matchsCount:i.length,joueursCount:W.length}),K.length>0&&(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"\ud83d\udcc8 \xc9volution de l'\xe9quipe"}),(0,_h.jsx)(Jh,{data:K})]}),"matchs"===U&&!h&&(0,_h.jsx)(Lh,{matchs:i,notes:s,onSelectMatch:f}),"matchs"===U&&h&&q&&(0,_h.jsxs)(Mh,{match:q,user:t,onBack:()=>f(null),onMarquerJoue:N,onRepasserAttente:D,noteEquipe:H,children:["avenir"===q.statut&&(0,_h.jsx)(Gh,{matchId:h,joueurs:W,convocations:o,onConvoquer:I,onDeconvoquer:A,isNextMatch:G}),"joue"===q.statut&&(0,_h.jsxs)(_h.Fragment,{children:[(0,_h.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem"},children:"Joueurs convoqu\xe9s"}),(0,_h.jsx)("div",{style:{display:"grid",gap:"0.5rem"},children:W.map(e=>{var n,r,i,c;const f=Kh(o,h,e.id),I=((e,t,n)=>{const r=e.find(e=>e.id_match===t&&e.id_joueur===n);return null===r||void 0===r?void 0:r.note})(s,h,e.id),A=Uh(a,h,e.id),N=Bh(l,h,e.id),D=qh(u,h,e.id),V=x===e.id;return"joue"!==q.statut||f?(0,_h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",background:"#f9fafb",borderRadius:"0.5rem",flexWrap:"wrap"},children:[(0,_h.jsxs)("div",{style:{flex:"1 1 150px"},children:[(0,_h.jsx)("p",{style:{fontWeight:"600",color:"#1f2937",margin:0},children:e.nom}),(0,_h.jsxs)("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:["@",e.username]})]}),"joue"===q.statut&&("coach"===t.role||"coach_adjoint"===t.role)&&(0,_h.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:!V&&(I||A>0||N>0||D>0)?(0,_h.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[I&&(0,_h.jsxs)("span",{style:{background:Ah(I).bg,color:Ah(I).color,padding:"0.5rem 1rem",borderRadius:"9999px",fontWeight:"bold",fontSize:"0.875rem"},children:[Ah(I).emoji," ",I,"/10 \u2022 ",vh(I)]}),A>0&&(0,_h.jsxs)("span",{style:{background:"#fff7ed",color:"#9a3412",padding:"0.5rem 0.75rem",borderRadius:"9999px",fontWeight:"bold",fontSize:"0.875rem"},children:["\u26bd ",A," but",A>1?"s":""]}),N>0&&(0,_h.jsxs)("span",{style:{background:"#f3f4f6",color:"#1f2937",padding:"0.5rem 0.75rem",borderRadius:"9999px",fontWeight:"bold",fontSize:"0.875rem"},children:["\u23f1\ufe0f ",N," min"]}),D>0&&(0,_h.jsxs)("span",{style:{background:"#dbeafe",color:"#1e40af",padding:"0.5rem 0.75rem",borderRadius:"9999px",fontWeight:"bold",fontSize:"0.875rem"},children:["\ud83c\udfaf ",D," passes D"]}),(0,_h.jsx)("button",{onClick:()=>{E(e.id),m(d(d({},p),{},{[e.id]:I})),y(d(d({},g),{},{[e.id]:A||""})),b(d(d({},v),{},{[e.id]:N||""})),S(d(d({},w),{},{[e.id]:D||""}))},style:{background:"#6b7280",color:"white",padding:"0.5rem 0.75rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.75rem"},children:"\u270f\ufe0f"}),(0,_h.jsx)("button",{onClick:()=>{const t=s.filter(t=>!(t.id_match===h&&t.id_joueur===e.id));M(t);const n=a.filter(t=>!(t.id_match===h&&t.id_joueur===e.id));O(n);const r=l.filter(t=>!(t.id_match===h&&t.id_joueur===e.id));F(r);const i=u.filter(t=>!(t.id_match===h&&t.id_joueur===e.id));z(i)},style:{background:"#dc2626",color:"white",padding:"0.5rem 0.75rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.75rem"},children:"\ud83d\uddd1\ufe0f"})]}):(0,_h.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[(0,_h.jsx)("input",{type:"number",min:"1",max:"9",step:"0.5",placeholder:"Note",value:null!==(n=p[e.id])&&void 0!==n?n:"",onChange:t=>_(e.id,t.target.value),disabled:"coach_adjoint"===t.role,style:{width:"4.5rem",padding:"0.5rem",border:"2px solid ".concat(p[e.id]&&(p[e.id]<1||p[e.id]>9)?"#dc2626":"#e5e7eb"),borderRadius:"0.5rem",fontSize:"0.875rem"}}),(0,_h.jsx)("input",{type:"number",min:"0",max:"15",placeholder:"Buts",value:null!==(r=g[e.id])&&void 0!==r?r:"",onChange:t=>k(e.id,t.target.value),style:{width:"4rem",padding:"0.5rem",border:"2px solid ".concat(g[e.id]&&(g[e.id]<0||g[e.id]>15)?"#dc2626":"#e5e7eb"),borderRadius:"0.5rem",fontSize:"0.875rem"}}),(0,_h.jsx)("input",{type:"number",min:"0",max:"120",placeholder:"Temps",value:null!==(i=v[e.id])&&void 0!==i?i:"",onChange:t=>C(e.id,t.target.value),style:{width:"5rem",padding:"0.5rem",border:"2px solid ".concat(v[e.id]&&(v[e.id]<0||v[e.id]>120)?"#dc2626":"#e5e7eb"),borderRadius:"0.5rem",fontSize:"0.875rem"}}),(0,_h.jsx)("input",{type:"number",min:"0",max:"30",placeholder:"Passes D",value:null!==(c=w[e.id])&&void 0!==c?c:"",onChange:t=>T(e.id,t.target.value),style:{width:"6rem",padding:"0.5rem",border:"2px solid ".concat(w[e.id]&&(w[e.id]<0||w[e.id]>30)?"#dc2626":"#e5e7eb"),borderRadius:"0.5rem",fontSize:"0.875rem"}}),(0,_h.jsx)("button",{onClick:()=>{j(e.id),R(e.id),P(e.id),L(e.id)},style:{background:"#ff8800",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"0.875rem"},children:"OK"})]})})]},e.id):null})})]})]}),"evaluations"===U&&(0,_h.jsx)(Hh,{user:t,evaluationsCoach:c}),"joueurs"===U&&(0,_h.jsxs)(_h.Fragment,{children:[(0,_h.jsx)(Xh,{joueurs:W,notes:s,buteurs:a,tempsDeJeu:l,passesD:u}),(0,_h.jsx)(Wh,{joueurs:W,notes:s,convocations:o,buteurs:a,tempsDeJeu:l,passesD:u})]})]})]})},$h=e=>{let{user:t,notes:n,onLogout:r}=e;const i=yh(n);return(0,_h.jsx)("div",{style:{background:"#000000",color:"white",padding:"1rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)",borderBottom:"3px solid #ff8800"},children:(0,_h.jsxs)("div",{style:{maxWidth:"64rem",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[(0,_h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,_h.jsx)("img",{src:"/logo_IH.png",alt:"ESC Cappelle",style:{height:"60px",width:"auto"}}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:0},children:"Mon Espace Joueur"}),(0,_h.jsxs)("p",{style:{margin:0,color:"#ff8800",fontWeight:"600"},children:["ESC Cappelle - ",t.nom,i&&(0,_h.jsxs)("span",{style:{marginLeft:"0.5rem",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:Nh(i).bg,color:"white"},children:[Nh(i).emoji," \xc9quipe: ",i,"/10"]})]})]})]}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("button",{onClick:()=>window.location.reload(),style:{background:"#6b7280",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",color:"white",cursor:"pointer",fontWeight:"600",marginRight:"0.5rem"},children:"Actualiser"}),(0,_h.jsx)("button",{onClick:r,style:{background:"#ff8800",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",color:"white",cursor:"pointer",fontWeight:"600"},children:"D\xe9connexion"})]})]})})},Zh=e=>{let{view:t,setView:n}=e;return(0,_h.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[(0,_h.jsx)("button",{onClick:()=>n("stats"),style:{flex:"1 1 200px",padding:"0.75rem",borderRadius:"0.75rem",fontWeight:"600",border:"none",cursor:"pointer",background:"stats"!==t&&t?"white":"#ff8800",color:"stats"!==t&&t?"#1f2937":"white",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:"\ud83d\udcca Mes Stats"}),(0,_h.jsx)("button",{onClick:()=>n("evaluer"),style:{flex:"1 1 200px",padding:"0.75rem",borderRadius:"0.75rem",fontWeight:"600",border:"none",cursor:"pointer",background:"evaluer"===t?"#ff8800":"white",color:"evaluer"===t?"white":"#1f2937",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:"\u2b50 Evaluer les coachs"})]})},ef=e=>{let{match:t,convocation:n,onAccepter:r,onRefuser:i,label:o="\ud83d\udcc5 Prochain match"}=e;return(0,_h.jsxs)("div",{style:d(d({},"accepte"===(null===n||void 0===n?void 0:n.statut)?{background:"linear-gradient(90deg, #10b981 0%, #059669 100%)",color:"white"}:"refuse"===(null===n||void 0===n?void 0:n.statut)?{background:"linear-gradient(90deg, #dc2626 0%, #b91c1c 100%)",color:"white"}:n?{background:"linear-gradient(90deg, #ff8800 0%, #ff6600 100%)",color:"white"}:{background:"white",color:"#1f2937",border:"2px solid #e5e7eb"}),{},{padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"}),children:[(0,_h.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"600",marginBottom:"0.5rem",opacity:.9},children:o}),(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.25rem"},children:t.adversaire}),(0,_h.jsxs)("p",{style:{marginBottom:"1rem",opacity:.9},children:[Rh(t.date)," - ",t.domicile?"Domicile":"Ext\xe9rieur"]}),!n&&(0,_h.jsx)("div",{style:{fontSize:"1.125rem",fontWeight:"bold"},children:"\u2715 Non convoqu\xe9"}),"en_attente"===(null===n||void 0===n?void 0:n.statut)&&(0,_h.jsxs)("div",{children:[(0,_h.jsx)("div",{style:{fontSize:"1.125rem",fontWeight:"bold",marginBottom:"1rem"},children:"\u23f3 Convocation en attente"}),(0,_h.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,_h.jsx)("button",{onClick:r,style:{flex:1,background:"#10b981",color:"white",padding:"0.75rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontWeight:"600"},children:"\u2713 Accepter"}),(0,_h.jsx)("button",{onClick:i,style:{flex:1,background:"#dc2626",color:"white",padding:"0.75rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontWeight:"600"},children:"\u2715 Refuser"})]})]}),"accepte"===(null===n||void 0===n?void 0:n.statut)&&(0,_h.jsx)("div",{style:{fontSize:"1.125rem",fontWeight:"bold"},children:"\u2713 Convocation accept\xe9e"}),"refuse"===(null===n||void 0===n?void 0:n.statut)&&(0,_h.jsx)("div",{style:{fontSize:"1.125rem",fontWeight:"bold"},children:"\u2717 Convocation refus\xe9e"})]})},tf=e=>{let{icon:t,label:n,value:r,bgColor:i="#f3f4f6",textColor:o="#1f2937"}=e;return(0,_h.jsxs)("div",{style:{background:i,padding:"1rem",borderRadius:"0.5rem",textAlign:"center"},children:[(0,_h.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:t}),(0,_h.jsx)("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginBottom:"0.25rem",margin:0},children:n}),(0,_h.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"bold",color:o,margin:0},children:r})]})},nf=e=>{let{matchsJoues:t,moyenne:n,convocations:r,buts:i,temps:o,passes:s}=e;return(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"Mes statistiques"}),(0,_h.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem",textAlign:"center"},children:[(0,_h.jsx)(tf,{icon:"\ud83c\udfae",label:"Matchs",value:t,bgColor:"#f3f4f6"}),(0,_h.jsxs)("div",{style:{background:"#fff7ed",padding:"1rem",borderRadius:"0.5rem",textAlign:"center"},children:[(0,_h.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\u2b50"}),(0,_h.jsx)("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginBottom:"0.25rem",margin:0},children:"Moyenne"}),(0,_h.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"-"!==n?Ah(parseFloat(n)).bg:"#ff8800",margin:0},children:"-"!==n?"".concat(Ah(parseFloat(n)).emoji," ").concat(n):n})]}),(0,_h.jsx)(tf,{icon:"\ud83d\udccb",label:"Convocs",value:r,bgColor:"#f3f4f6"}),(0,_h.jsx)(tf,{icon:"\u26bd",label:"Buts",value:i,bgColor:"#fff7ed",textColor:"#ff8800"}),(0,_h.jsx)(tf,{icon:"\u23f1\ufe0f",label:"Temps (min)",value:o,bgColor:"#f3f4f6"}),(0,_h.jsx)(tf,{icon:"\ud83c\udfaf",label:"Passes D",value:s,bgColor:"#dbeafe",textColor:"#1e40af"})]})]})},rf=e=>{let{notes:t,allNotes:n,matchs:r,buteurs:i,tempsDeJeu:o,passesD:s,userId:a,convocations:l}=e;const u=r.filter(e=>"joue"===e.statut).sort((e,t)=>new Date(e.date)-new Date(t.date));return 0===u.length?(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"Historique"}),(0,_h.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:(0,_h.jsx)("p",{children:"Aucun match jou\xe9 pour le moment."})})]}):(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"Historique"}),(0,_h.jsx)("div",{style:{display:"grid",gap:"0.75rem"},children:u.map((e,r)=>{const u=t.find(t=>t.id_match===e.id),c=null===l||void 0===l?void 0:l.find(t=>t.id_match===e.id&&t.id_joueur===a&&t.est_convoque),d=Uh(i,e.id,a),h=Bh(o,e.id,a),f=qh(s,e.id,a),p=gh(n,e.id);return(0,_h.jsxs)("div",{style:{padding:"1rem",background:"#f9fafb",borderRadius:"0.5rem"},children:[(0,_h.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",flexWrap:"wrap",gap:"0.5rem"},children:(0,_h.jsx)("div",{children:(0,_h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",flexWrap:"wrap",gap:"0.5rem"},children:[(0,_h.jsxs)("div",{children:[(0,_h.jsx)("p",{style:{fontWeight:"600",color:"#1f2937",margin:0},children:null===e||void 0===e?void 0:e.adversaire}),(0,_h.jsxs)("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:[Rh(null===e||void 0===e?void 0:e.date)," \u2022 Score: ",(null===e||void 0===e?void 0:e.scoreEquipe)||0," - ",(null===e||void 0===e?void 0:e.scoreAdversaire)||0]})]}),(0,_h.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.25rem",flexWrap:"wrap"},children:[(null===e||void 0===e?void 0:e.scoreEquipe)>(null===e||void 0===e?void 0:e.scoreAdversaire)&&(0,_h.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:"#dcfce7",color:"#166534",minWidth:"85px",textAlign:"center",display:"inline-block"},children:"Victoire"}),(null===e||void 0===e?void 0:e.scoreEquipe)<(null===e||void 0===e?void 0:e.scoreAdversaire)&&(0,_h.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:"#fee2e2",color:"#dc2626",minWidth:"85px",textAlign:"center",display:"inline-block"},children:"D\xe9faite"}),(null===e||void 0===e?void 0:e.scoreEquipe)===(null===e||void 0===e?void 0:e.scoreAdversaire)&&(0,_h.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:"#f3f4f6",color:"#6b7280",minWidth:"85px",textAlign:"center",display:"inline-block"},children:"Nul"}),c?(0,_h.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:"#dbeafe",color:"#1e40af",minWidth:"100px",textAlign:"center",display:"inline-block"},children:"\u2713 Convoqu\xe9"}):(0,_h.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:"#f3f4f6",color:"#6b7280",minWidth:"120px",textAlign:"center",display:"inline-block"},children:"\u2717 Pas convoqu\xe9"})]}),(0,_h.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:["joue"===e.statut&&p&&(0,_h.jsxs)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:Nh(p).bg,color:"white",minWidth:"120px",textAlign:"center",display:"inline-block"},children:[Nh(p).emoji," \xc9quipe: ",p,"/10"]}),u&&u.note&&(0,_h.jsxs)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"bold",background:Ah(u.note).bg,color:"white",minWidth:"120px",textAlign:"center",display:"inline-block"},children:[Ah(u.note).emoji," Joueur: ",u.note,"/10"]})]})]})})}),(d>0||h>0||f>0)&&(0,_h.jsxs)("div",{style:{marginTop:"0.5rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[d>0&&(0,_h.jsxs)("span",{style:{background:"#fff7ed",color:"#9a3412",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"600",minWidth:"75px",textAlign:"center",display:"inline-block"},children:["\u26bd ",d," but",d>1?"s":""]}),h>0&&(0,_h.jsxs)("span",{style:{background:"#f3f4f6",color:"#1f2937",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"600",minWidth:"75px",textAlign:"center",display:"inline-block"},children:["\u23f1\ufe0f ",h," min"]}),f>0&&(0,_h.jsxs)("span",{style:{background:"#dbeafe",color:"#1e40af",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"600",minWidth:"100px",textAlign:"center",display:"inline-block"},children:["\ud83c\udfaf ",f," passes D"]})]})]},r)})})]})},of=e=>{let{coachNom:t,coachId:n,evaluation:r,setEvaluation:i,onSave:o,bgColor:s="#ff8800",borderColor:a="#ff8800"}=e;const l=mh(r);return(0,_h.jsxs)("div",{style:{background:"#ffffff",padding:"1.5rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[(0,_h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,_h.jsx)("div",{style:{fontSize:"2rem"},children:"1"===n?"\u26bd":"\ud83c\udfaf"}),(0,_h.jsxs)("div",{children:[(0,_h.jsx)("h3",{style:{fontWeight:"bold",color:"#1f2937",margin:0,fontSize:"1.125rem"},children:t}),(0,_h.jsx)("p",{style:{color:"#6b7280",margin:0,fontSize:"0.875rem"},children:"1"===n?"Coach principal":"Coach adjoint"})]})]}),(0,_h.jsxs)("div",{style:{display:"grid",gap:"1rem"},children:[(0,_h.jsxs)("div",{style:{background:"#f9fafb",padding:"1.25rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb"},children:[(0,_h.jsxs)("div",{style:{marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,_h.jsx)("div",{style:{fontSize:"1.75rem"},children:"\ud83c\udfcb\ufe0f"}),(0,_h.jsxs)("div",{style:{flex:1},children:[(0,_h.jsx)("div",{style:{color:"#1f2937",fontWeight:"600",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.1em"},children:"ENTRA\xceNEMENTS"}),(0,_h.jsx)("div",{style:{color:"#6b7280",fontSize:"0.7rem",marginTop:"0.125rem"},children:"Organisation, pertinence, int\xe9r\xeat des s\xe9ances"})]})]}),(0,_h.jsx)("input",{type:"number",min:"1",max:"10",step:"0.5",placeholder:"Note /10",value:r.entrainements,onChange:e=>i(d(d({},r),{},{entrainements:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"2px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1.25rem",textAlign:"center",fontWeight:"bold",background:"#ffffff",color:"#1f2937"}})]}),(0,_h.jsxs)("div",{style:{background:"#f9fafb",padding:"1.25rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb"},children:[(0,_h.jsxs)("div",{style:{marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,_h.jsx)("div",{style:{fontSize:"1.75rem"},children:"\u26bd"}),(0,_h.jsxs)("div",{style:{flex:1},children:[(0,_h.jsx)("div",{style:{color:"#1f2937",fontWeight:"600",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.1em"},children:"COACHING MATCH"}),(0,_h.jsx)("div",{style:{color:"#6b7280",fontSize:"0.7rem",marginTop:"0.125rem"},children:"Tactique, changements, lecture du jeu"})]})]}),(0,_h.jsx)("input",{type:"number",min:"1",max:"10",step:"0.5",placeholder:"Note /10",value:r.coaching,onChange:e=>i(d(d({},r),{},{coaching:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"2px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1.25rem",textAlign:"center",fontWeight:"bold",background:"#ffffff",color:"#1f2937"}})]}),(0,_h.jsxs)("div",{style:{background:"#f9fafb",padding:"1.25rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb"},children:[(0,_h.jsxs)("div",{style:{marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,_h.jsx)("div",{style:{fontSize:"1.75rem"},children:"\ud83e\udd1d"}),(0,_h.jsxs)("div",{style:{flex:1},children:[(0,_h.jsx)("div",{style:{color:"#1f2937",fontWeight:"600",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.1em"},children:"RELATION JOUEURS"}),(0,_h.jsx)("div",{style:{color:"#6b7280",fontSize:"0.7rem",marginTop:"0.125rem"},children:"Communication, \xe9coute, motivation"})]})]}),(0,_h.jsx)("input",{type:"number",min:"1",max:"10",step:"0.5",placeholder:"Note /10",value:r.relation,onChange:e=>i(d(d({},r),{},{relation:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"2px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1.25rem",textAlign:"center",fontWeight:"bold",background:"#ffffff",color:"#1f2937"}})]}),l&&(0,_h.jsxs)("div",{style:{background:"#1f2937",padding:"2rem",borderRadius:"0.75rem",textAlign:"center"},children:[(0,_h.jsx)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.7)",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1rem"},children:"Note globale moyenne"}),(0,_h.jsx)("div",{style:{fontSize:"4rem",fontWeight:"bold",color:"white",lineHeight:"1"},children:l})]}),(0,_h.jsx)("button",{onClick:o,style:{background:"#1f2937",color:"white",padding:"1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"1rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:"Sauvegarder mes notes"})]})]})},sf=e=>{let{user:t,joueurs:n,matchs:i,convocations:o,notes:s,buteurs:a,tempsDeJeu:l,passesD:u,evaluationsCoach:c,evalIsma:d,setEvalIsma:h,evalAdam:f,setEvalAdam:p,accepterConvocation:m,refuserConvocation:g,saveEvaluationIsma:y,saveEvaluationAdam:v,onLogout:b}=e;const[w,S]=(0,r.useState)("stats"),x=Ph(i),E=x&&o.find(e=>e.id_match===x.id&&e.id_joueur===t.id&&e.est_convoque),_=o.filter(e=>e.id_joueur===t.id&&e.est_convoque),k=s.filter(e=>e.id_joueur===t.id&&e.note),C=Fh(a,t.id),T=zh(l,t.id),I=Vh(u,t.id),A=Oh(s,t.id),N=((e,t,n)=>e.filter(e=>e.id_joueur===n&&e.note).map(e=>{var n;const r=t.find(t=>t.id===e.id_match);return{match:(null===r||void 0===r||null===(n=r.adversaire)||void 0===n?void 0:n.substring(0,12))||"Match",note:e.note}}))(s,i,t.id),D=bh(s,i);return(0,_h.jsxs)("div",{style:{minHeight:"100vh",background:"#f9fafb"},children:[(0,_h.jsx)($h,{user:t,notes:s,onLogout:b}),(0,_h.jsxs)("div",{style:{maxWidth:"64rem",margin:"1.5rem auto",padding:"0 1rem",paddingBottom:"2rem"},children:[(0,_h.jsx)(Zh,{view:w,setView:S}),"evaluer"===w&&(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"Evaluer les coachs"}),(0,_h.jsx)("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Donnez votre avis sur le travail de vos coachs (notes de 1 \xe0 10)"}),(0,_h.jsxs)("div",{style:{display:"grid",gap:"1.5rem"},children:[(0,_h.jsx)(of,{coachNom:"Isma",coachId:"1",evaluation:d,setEvaluation:h,onSave:y,bgColor:"#ff8800",borderColor:"#ff8800"}),(0,_h.jsx)(of,{coachNom:"Adam",coachId:"27",evaluation:f,setEvaluation:p,onSave:v,bgColor:"#3b82f6",borderColor:"#3b82f6"})]})]}),("stats"===w||!w)&&(0,_h.jsxs)(_h.Fragment,{children:[x&&(0,_h.jsx)(ef,{match:x,convocation:E,onAccepter:()=>m(x.id,t.id),onRefuser:()=>g(x.id,t.id)}),(0,_h.jsx)(nf,{matchsJoues:k.length,moyenne:A,convocations:_.length,buts:C,temps:T,passes:I}),N.length>0&&(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"\ud83d\udcc8 Ma progression"}),(0,_h.jsx)(Jh,{data:N})]}),D.length>0&&(0,_h.jsxs)("div",{style:{background:"white",padding:"1.5rem",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem"},children:[(0,_h.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"\ud83d\udcc8 \xc9volution de l'\xe9quipe"}),(0,_h.jsx)(Jh,{data:D})]}),(0,_h.jsx)(Xh,{joueurs:n,notes:s,buteurs:a,tempsDeJeu:l,passesD:u}),(0,_h.jsx)(rf,{notes:k,allNotes:s,matchs:i,buteurs:a,tempsDeJeu:l,passesD:u,userId:t.id,convocations:o})]})]})]})};const af=function(){const{user:e,setUser:t,loginUsername:n,setLoginUsername:i,loginPassword:a,setLoginPassword:l,handleLogin:u,handleLogout:c,loadUserFromStorage:d}=o(),{notification:h,showNotification:f}=s(),{joueurs:p,matchs:m,setMatchs:g,convocations:y,setConvocations:v,notes:b,setNotes:w,buteurs:S,setButeurs:x,tempsDeJeu:E,setTempsDeJeu:_,passesD:k,setPassesD:C,evaluationsCoach:T,setEvaluationsCoach:I,loading:A,chargerDonnees:N,actionJoueurEnCours:D,setActionJoueurEnCours:j}=fh(e),{selectedMatch:R,setSelectedMatch:P,showScoreModal:L,setShowScoreModal:M,matchToPlay:O,scoreEquipeInput:F,setScoreEquipeInput:z,scoreAdversaireInput:V,setScoreAdversaireInput:U,marquerCommeJoue:B,confirmerScoreEtJouer:q,repasserEnAttente:W}=ph(),{evalIsma:H,setEvalIsma:K,evalAdam:Q,setEvalAdam:G,loadEvaluations:J,saveEvaluationIsma:X,saveEvaluationAdam:Y}=wh(),{noteInputs:$,setNoteInputs:Z,butInputs:ee,setButInputs:te,tempsInputs:ne,setTempsInputs:re,passesInputs:ie,setPassesInputs:oe,editingNote:se,setEditingNote:ae,handleNoteChange:le,handleButsChange:ue,handleTempsChange:ce,handlePassesChange:de}=Sh(),{convoquerJoueur:he,deconvoquerJoueur:fe,accepterConvocation:pe,refuserConvocation:me}=xh(),{saveNote:ge,saveButs:ye,saveTemps:ve,savePasses:be}=Eh();(0,r.useEffect)(()=>{N(),d()},[]),(0,r.useEffect)(()=>{J(e,T)},[e,T]);const we=()=>{u(p,f)},Se=()=>{c(),P(null)};return A?(0,_h.jsxs)(_h.Fragment,{children:[h&&(0,_h.jsx)(kh,{message:h.message,type:h.type,onClose:()=>f(null)}),(0,_h.jsx)(Ch,{})]}):e?"coach"===e.role||"coach_adjoint"===e.role?(0,_h.jsxs)(_h.Fragment,{children:[h&&(0,_h.jsx)(kh,{message:h.message,type:h.type,onClose:()=>f(null)}),(0,_h.jsx)(Yh,{user:e,joueurs:p,matchs:m,setMatchs:g,convocations:y,setConvocations:v,notes:b,setNotes:w,buteurs:S,setButeurs:x,tempsDeJeu:E,setTempsDeJeu:_,passesD:k,setPassesD:C,evaluationsCoach:T,selectedMatch:R,setSelectedMatch:P,noteInputs:$,setNoteInputs:Z,butInputs:ee,setButInputs:te,tempsInputs:ne,setTempsInputs:re,passesInputs:ie,setPassesInputs:oe,editingNote:se,setEditingNote:ae,handleNoteChange:le,handleButsChange:ue,handleTempsChange:ce,handlePassesChange:de,convoquerJoueur:(e,t)=>he(e,t,y,v),deconvoquerJoueur:(e,t)=>fe(e,t,y,v),marquerCommeJoue:e=>B(e,m),repasserEnAttente:e=>W(e,m,g,b),saveNote:e=>ge(e,R,$,Z,b,w,ae,f),saveButs:e=>ye(e,R,ee,te,S,x,f),saveTemps:e=>ve(e,R,ne,re,E,_,f),savePasses:e=>be(e,R,ie,oe,k,C,f),onLogout:Se}),(0,_h.jsx)(Th,{show:L,match:O,scoreEquipe:F,scoreAdversaire:V,onScoreEquipeChange:z,onScoreAdversaireChange:U,onConfirm:()=>q(m,g,f),onCancel:()=>M(!1)})]}):(0,_h.jsxs)(_h.Fragment,{children:[h&&(0,_h.jsx)(kh,{message:h.message,type:h.type,onClose:()=>f(null)}),(0,_h.jsx)(sf,{user:e,joueurs:p,matchs:m,convocations:y,setConvocations:v,notes:b,buteurs:S,tempsDeJeu:E,passesD:k,evaluationsCoach:T,setEvaluationsCoach:I,evalIsma:H,setEvalIsma:K,evalAdam:Q,setEvalAdam:G,accepterConvocation:(t,n)=>pe(t,n,e,y,v,j),refuserConvocation:(t,n)=>me(t,n,e,y,v,j),saveEvaluationIsma:()=>X(e,T,I,f),saveEvaluationAdam:()=>Y(e,T,I,f),onLogout:Se})]}):(0,_h.jsxs)(_h.Fragment,{children:[h&&(0,_h.jsx)(kh,{message:h.message,type:h.type,onClose:()=>f(null)}),(0,_h.jsx)(Ih,{loginUsername:n,setLoginUsername:i,loginPassword:a,setLoginPassword:l,onLogin:we})]})};i.createRoot(document.getElementById("root")).render((0,_h.jsx)(r.StrictMode,{children:(0,_h.jsx)(af,{})}))})();
//# sourceMappingURL=main.bfffbb53.js.map